window.__require=function e(t,i,a){function o(s,c){if(!i[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var h=i[s]={exports:{}};t[s][0].call(h.exports,function(e){return o(t[s][1][e]||e)},h,h.exports,e,t,i,a)}return i[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<a.length;s++)o(a[s]);return o}({Collision:[function(e,t,i){"use strict";cc._RF.push(t,"2dc8aprmdNMl5mGCFwwl8Uc","Collision"),cc.Class({extends:cc.Component,properties:{gameScene:cc.Node},start:function(){this.gameSceneJS=this.gameScene.getComponent("GameScene")},onCollisionEnter:function(e,t){this.gameSceneJS.collisionDetection(e,t)}}),cc._RF.pop()},{}],ColorAssembler2D:[function(e,t,i){"use strict";cc._RF.push(t,"d29ddsAwjZH/b1JSYsc6Nd5","ColorAssembler2D"),Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,o=a.ccclass,n=a.property,s=a.executeInEditMode,c=a.requireComponent,r=a.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._colors=[],t}return __extends(t,e),Object.defineProperty(t.prototype,"colors",{get:function(){return this._colors},set:function(e){this._colors=e,this._updateColors()},enumerable:!0,configurable:!0}),t.prototype.onEnable=function(){cc.director.once(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this)},t.prototype.onDisable=function(){cc.director.off(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this),this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR},t.prototype._updateColors=function(){var e=this.getComponent(cc.RenderComponent);if(e){var t=e._assembler;if(t instanceof cc.Assembler2D){var i=t._renderData.uintVDatas[0];if(i)for(var a=this.node.color,o=t.floatsPerVert,n=0,s=t.colorOffset,c=i.length;s<c;s+=o)i[s]=(this.colors[n++]||a)._val}}},__decorate([n],t.prototype,"_colors",void 0),__decorate([n({type:[cc.Color]})],t.prototype,"colors",null),t=__decorate([o,s,c(cc.RenderComponent),r("i18n:MAIN_MENU.component.renderers/ColorAssembler2D-lamyoung.com")],t)}(cc.Component);i.default=l,cc._RF.pop()},{}],ColorAssembler:[function(e,t,i){"use strict";cc._RF.push(t,"a924bDPRfNI+ZCgAOGWo6/O","ColorAssembler"),cc.Class({extends:cc.Component,properties:{_colors:[],colors:{type:cc.Color,get:function(){return this._colors},set:function(e){this._colors=e,this._updateColors()}}},onEnable:function(){cc.director.once(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this)},onDisable:function(){cc.director.off(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this),this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR},_updateColors:function(){var e=this.getComponent(cc.RenderComponent);if(e){var t=e._assembler;if(t instanceof cc.Assembler2D){var i=t._renderData.uintVDatas[0];if(i)for(var a=this.node.color,o=t.floatsPerVert,n=0,s=t.colorOffset,c=i.length;s<c;s+=o)i[s]=(this.colors[n++]||a)._val}}}}),cc._RF.pop()},{}],CoohuaGroup3Sdk:[function(e,t,i){"use strict";cc._RF.push(t,"1874aTg98FA34gyXYet71hN","CoohuaGroup3Sdk"),cc.Class({extends:cc.Component,properties:{nextSceneName:"gameScene",dailySignInPrefab:cc.Prefab,dailyTargetPrefab:cc.Prefab,drawCashPrefab:cc.Prefab,inviteFriendPrefab:cc.Prefab,rankListPrefab:cc.Prefab,wordsTipsPrefab:cc.Prefab,networkLoadingPrefab:cc.Prefab,passWelfarePrefab:cc.Prefab,fragmentPrefab:cc.Prefab,turnTablePre:cc.Prefab,indianaLayer:cc.Prefab},onLoad:function(){cc.game.addPersistRootNode(this.node),this.currentLayerId=-1,this.loadLayer=null,this.initConfig(),this.loadProgress=this.node.getChildByName("progressBar").getComponent(cc.ProgressBar),this.addRes()},initConfig:function(){if(void 0==cc.common){cc.common={},cc.common.coohuaSdk=this;var t=e("FileOperation");cc.common.fileOperation=new t,cc.common.fileOperation.init();var i=e("Data");cc.common.data=new i,cc.common.data.init();var a=e("Tool");cc.common.tool=new a,cc.common.tool.init(),cc.common.imageRes={},cc.common.prefabRes={},cc.common.audioRes={},cc.common.jsonRes={},cc.common.particleRes={},this.isLoadRes=!1,cc.common.todayTime=(new Date).format("MM-dd");var o=cc.common.fileOperation.getTadayDate();console.log("=\u5b58\u50a8\u7684=\u65e5\u671f=",o),cc.common.todayTime!=o&&(cc.common.fileOperation.removeStorageData("save_user_daily_target_key"),cc.common.fileOperation.setTodayDate(cc.common.todayTime),cc.common.fileOperation.removeStorageData("save_user_signIn_key"),cc.common.fileOperation.removeStorageData("save_share_count_key")),cc.common.redCountDownNum=600}},initPrefabByLayerId:function(e){if(cc.log("====initPrefabByLayerId==",e+"=this.currentLayerId=",this.currentLayerId),this.currentLayerId!=e){cc.common.data.notificationCenter.emit(UPDATE_HOME_SHOW,!1);var t=null;switch(this.currentLayerId=e,e){case LAYER_ID.DAILYSIGNIN:t=this.dailySignInPrefab;break;case LAYER_ID.DAILYTARGET:t=this.dailyTargetPrefab;break;case LAYER_ID.DRAWCASH:t=this.drawCashPrefab;break;case LAYER_ID.INVITEFRIEND:t=this.inviteFriendPrefab;break;case LAYER_ID.RANKINGLIST:t=this.rankListPrefab;break;case LAYER_ID.PASSWELFARE:t=this.passWelfarePrefab;break;case LAYER_ID.FRAGMENTRED:t=this.fragmentPrefab;break;case LAYER_ID.TURNTABLE:t=this.turnTablePre;break;case LAYER_ID.INDIANA:t=this.indianaLayer}var i=cc.instantiate(t);return i.parent=cc.find("Canvas"),i}},removeSdkPrefab:function(){cc.log("===removePrefabByLayerID==",this.currentLayerId),this.currentLayerId>=0&&(this.currentLayerId=-1,cc.common.data.notificationCenter.emit(UPDATE_HOME_SHOW,this.currentLayerId<0))},showNetworkLoading:function(e){if(null==this.loadLayer){var t=cc.find("Canvas");this.loadLayer=cc.instantiate(this.networkLoadingPrefab),this.loadLayer.parent=t,this.loadLayer.active=e}else this.loadLayer.active=e},getWordsTipPrefab:function(){return this.wordsTipsPrefab},addRes:function(){this.resTotalCount=0,cc.loader.loadResDir("",function(e,t,i){this.completedCount=e,this.resTotalCount=t,this.isLoadRes=!0,this.updateProgress()}.bind(this),function(e,t,i){if(e)console.log("\u97f3\u9891\u8d44\u6e90\u6709\u9519\uff1a",e);else{for(var a=0;a<t.length;a++)t[a]instanceof cc.AudioClip?cc.common.audioRes[t[a].name]=t[a]:t[a]instanceof cc.SpriteFrame?cc.common.imageRes[t[a].name]=t[a]:t[a]instanceof cc.Prefab?cc.common.prefabRes[t[a].name]=t[a]:t[a]instanceof cc.JsonAsset?cc.common.jsonRes[t[a].name]=t[a]:t[a]instanceof cc.ParticleAsset&&(cc.common.particleRes[t[a].name]=t[a]);0==i.length&&(this.completedCount=1,this.resTotalCount=1,this.isLoadAudio=!0)}}.bind(this))},updateProgress:function(){if(!0===this.isLoadRes){var e=this.completedCount/this.resTotalCount;this.loadProgress&&(this.loadProgress.progress=e),e>=1&&this.nextSceneName.length>0&&(this.isLoadRes=!1,cc.common.tool.loadScene(this.nextSceneName))}}}),window.WebViewJavascriptBridge=null,window.WVJBCallbacks=null,window.SQUARE_X_MAX_SIZE=10,window.SQUARE_Y_MAX_SIZE=12,window.GAME_LEVEL_NUMBER=10,window.SQUARE_MOVE_TIME=.3,window.UPDATE_DATA_CHECK_ELIMINATE="update_data_check_eliminate",window.SEVER_DATA_MAIN_ENERGY="server_data_main_energy",window.UPDATE_DATA_USER_RED="update_data_user_red",window.UPDATE_DATA_DAILY_WELFARE="update_data_daily_welfare",window.UPDATE_HOME_SHOW="update_home_show",window.UPDATE_HOME_ANIMATION_SHOW="update_home_animation_show",window.CURRENT_LAYER_EXIT="current_layer_exit",window.LAYER_ID={DAILYSIGNIN:0,DAILYTARGET:1,DRAWCASH:2,INVITEFRIEND:3,RANKINGLIST:4,PASSWELFARE:5,FRAGMENTRED:6,TURNTABLE:7,INDIANA:8},window.DATA_ARRANGE={showGameHome:"\u5c55\u793a\u4e3b\u9875",showWinLevel:"\u5c55\u793a\u6b63\u786e\u9875\u9762",showFailLevel:"\u5c55\u793a\u9519\u8bef\u9875\u9762",clickNextLevel:"\u70b9\u51fb\u4e0b\u4e00\u5173",clickReplay:"\u70b9\u51fb\u91cd\u73a9\u5173\u5361",clickHomeAd:"\u70b9\u51fb\u5c0f\u7535\u89c6",clickCountDownRed:"\u70b9\u51fb\u5012\u8ba1\u65f6\u7ea2\u5305",showWinAllLevel:"\u5c55\u793a\u5168\u90e8\u901a\u5173",clickReset:"\u70b9\u51fb\u91cd\u7f6e\u6311\u6218",showTarget:"\u5c55\u793a\u6bcf\u65e5\u76ee\u6807",clickTargetEnter:"\u6bcf\u65e5\u798f\u5229\u8fdb\u5165",clickAllTarget:"\u70b9\u51fb\u5b8c\u6210\u6240\u6709\u76ee\u6807",clickTargetComplete:"\u6bcf\u65e5\u798f\u5229\u5b8c\u6210",showAchieve:"\u5c55\u793a\u6210\u5c31\u9875\u9762",clickAchieve:"\u70b9\u51fb\u5b8c\u6210\u6210\u5c31",clickAllAchieve:"\u70b9\u51fb\u5b8c\u6210\u6240\u6709\u6210\u5c31",showNewGift:"\u5c55\u793a\u65b0\u4eba\u793c\u5305",clickGiftReceive:"\u70b9\u51fb\u9886\u53d6\u65b0\u4eba\u793c\u5305",showPop:"\u5c55\u793a\u56e4\u79ef\u9053\u5177",clickReceivePop:"\u70b9\u51fb\u56e4\u79ef\u9053\u5177",showRankList:"\u5c55\u793a\u6392\u884c\u699c\u9875\u9762",showHaveRank:"\u5c55\u793a\u6392\u884c\u699c\u9886\u5956\u9875\u9762",showNoRank:"\u5c55\u793a\u672a\u5165\u699c\u9875\u9762",clickRankReceive:"\u70b9\u51fb\u9886\u53d6\u6392\u884c\u5956\u52b1",clickRankStudy:"\u70b9\u51fb\u5b66\u4e60\u901a\u5173\u6280\u5de7",showDrawCash:"\u5c55\u793a\u63d0\u73b0\u9875\u9762",clickDrawCashSuccess:"\u63d0\u73b0\u6210\u529f",showSignIn:"\u5c55\u793a\u6253\u5361\u9875\u9762",clickSignInSuccess:"\u6253\u5361\u6210\u529f",showInviteFriend:"\u5c55\u793a\u9080\u8bf7\u597d\u53cb\u9875\u9762",clickInviteFriend:"\u70b9\u51fb\u9080\u8bf7\u597d\u53cb"},window.RECEIVE=0,window.INCOMPLETE=1,window.RECEIVED=2,Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return e},cc._RF.pop()},{Data:"Data",FileOperation:"FileOperation",Tool:"Tool"}],DailySignIn:[function(e,t,i){"use strict";cc._RF.push(t,"f8abahy9jROIpwZTjU7b2/z","DailySignIn"),cc.Class({extends:cc.Component,properties:{listContent:cc.Node,signInNumList:[cc.Label],itemHeadNode:cc.Node,itemTailNode:cc.Node,itemNode:cc.Node,redNum:cc.Label,drawCashPrefab:cc.Prefab},onLoad:function(){var e=this;this.haveRedDayList=[],this.signInData=null,this.redIndex=0,this.todayIndex=0,this.todayGetRedNum=0,this.signInDataList=[];cc.common.data.requestServerDataSignIn(function(t){console.log("==\u8bf7\u6c42\u670d\u52a1\u7aef\u6570\u636e=\u6253\u5361\u6570\u636e=",JSON.stringify(t)),e.initByData(t.result)}),cc.common.data.notificationCenter.on(CURRENT_LAYER_EXIT,this.btnCloseCallBack.bind(this),this)},start:function(){cc.common.tool.gameViewShowData(DATA_ARRANGE.showSignIn),this.listContent.height=180+(this.itemHeadNode.height+this.itemTailNode.height)+8*this.itemNode.height},initByData:function(e){console.log("==result==",JSON.stringify(e));var t="";t=e.checkIn.days>9?""+e.checkIn.days:"0"+e.checkIn.days,this.signInNumList[0].string=t[0],this.signInNumList[1].string=t[1],this.todayGetRedNum=e.checkIn.packNum,e.checkIn.packNum>=e.checkIn.taskPackNum?(cc.common.tool.gameViewClickData(DATA_ARRANGE.clickSignInSuccess,""),cc.common.fileOperation.setUserSignInData({isComplete:!0}),this.todayIndex=e.checkIn.days):(this.todayIndex=e.checkIn.days+1,cc.common.fileOperation.setUserSignInData({isComplete:!1})),this.todayIndex=this.todayIndex>=30?30:this.todayIndex,console.log("==\u4eca\u5929\u662f\u7b2c==",this.todayIndex+"\u5929"),cc.common.data.notificationCenter.emit(UPDATE_HOME_ANIMATION_SHOW);for(var i=0,a=20,o=1;o<=30;o++){var n={dayNum:o,status:0,taskPackNum:e.checkIn.taskPackNum,isHaveRed:!1,drawCashAcount:0};n.status=e.checkIn.days>=o?1:0,i<e.dayItemList.length&&o==e.dayItemList[i].day&&(n.isHaveRed=!0,n.drawCashAcount=e.dayItemList[i].money,n.status=e.dayItemList[i].received?2:n.status,i++,2!=n.status&&Math.abs(this.todayIndex-o)<a&&(a=Math.abs(this.todayIndex-o),this.redIndex=o)),this.signInDataList.push(n)}var s=-110;for(o=0;o<10;o++){var c=null;(c=0==o?this.itemHeadNode:9==o?this.itemTailNode:cc.instantiate(this.itemNode)).parent=this.listContent,c.x=0,c.y=s-.5*c.height,s=c.y-.5*c.height,this.setItemData(o,c)}},setItemData:function(e,t,i){var a=t.getChildByName("sprite_bg"),o=200;e>1&&e%2==0&&(a.scaleX=-1),e%2!=0&&(o*=-1);var n=t.getChildByName("sprite_day");n.zIndex=1;var s=t.getChildByName("sprite_red"),c=t.getChildByName("sprite_tip");c.zIndex=10,c.active=!1,s.active=!1;for(var r=0;r<3;r++){var l=null,h=null;1!=r?((l=cc.instantiate(n)).active=!0,l.parent=t,(h=cc.instantiate(s)).parent=t):(l=n,h=s),l.dayIndex=3*e+r,l.on(cc.Node.EventType.TOUCH_END,this.clickSpriteDay.bind(this),this),h.on(cc.Node.EventType.TOUCH_END,this.clickSpriteRed.bind(this),this);var d=this.signInDataList[3*e+r];l.x=-1*o+r*o,l.getChildByName("sprite_complete").active=1==d.status;var m=l.getChildByName("label_day_num");if(m.active=0==d.status,m.getComponent(cc.Label).string=d.dayNum,l.active=!d.isHaveRed,h.active=d.isHaveRed,h.x=l.x,h.dayIndex=3*e+r,this.redIndex==d.dayNum&&h.getComponent(cc.Animation).play(),h.getChildByName("sprite_draw").active=1==d.status,h.getChildByName("sprite_drawed").active=2==d.status,this.todayIndex==d.dayNum)c.active=0==d.status,c.getChildByName("label_num_desc").getComponent(cc.Label).string="\u4eca\u65e5\u672a\u96c6\u9f50"+d.taskPackNum+"\u4e2a\u7ea2\u5305",c.x=l.x,this.redNum.string="".concat(this.todayGetRedNum,"/").concat(d.taskPackNum)}},btnCloseCallBack:function(){cc.common.tool.playAudio(cc.common.audioRes.button),this.node.destroy(),cc.common.coohuaSdk.removeSdkPrefab()},clickSpriteDay:function(e){cc.common.tool.playAudio(cc.common.audioRes.button);var t=e.target.dayIndex;0==this.signInDataList[t].status&&(this.signInDataList[this.todayIndex-1].status>=1?cc.common.tool.showWordTips("\u4eca\u65e5\u5df2\u6253\u5361\u6210\u529f\uff0c\u8bf7\u660e\u5929\u518d\u6765"):cc.common.tool.showWordTips("\u6bcf\u5929\u83b7\u5f97"+this.signInDataList[t].taskPackNum+"\u4e2a\u7ea2\u5305\u5373\u53ef\u5b8c\u6210\u6253\u5361"))},clickSpriteRed:function(e){cc.common.tool.playAudio(cc.common.audioRes.button);var t=e.target.dayIndex;if(0==this.signInDataList[t].status)if(this.signInDataList[this.todayIndex-1].status>=1){var i=cc.common.tool.getTwoDecimalPlaces(this.signInDataList[t].drawCashAcount);cc.common.tool.showWordTips("\u8fde\u7eed"+this.signInDataList[t].dayNum+"\u5929\u6253\u5361\uff0c\u53ef\u4ee5\u76f4\u63a5\u63d0\u73b0"+i+"\u5143")}else cc.common.tool.showWordTips("\u8fde\u7eed"+this.signInDataList[t].dayNum+"\u5929\u6253\u5361\uff0c\u53ef\u4ee5\u76f4\u63a5\u63d0\u73b0");1==this.signInDataList[t].status&&(this.node.destroy(),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.DRAWCASH).getComponent("DrawCash").setSelectTypeAndAmount(3,this.signInDataList[t].drawCashAcount))}}),cc._RF.pop()},{}],DailyTarget:[function(e,t,i){"use strict";cc._RF.push(t,"7836dTBTCZNxJHsJD4oov8g","DailyTarget"),cc.Class({extends:cc.Component,properties:{itemNode:cc.Node,itemBigNode:cc.Node,scrollView:cc.Node,listContent:cc.Node,spacingY:0,btnRewardRed:cc.Node,heartImageList:[cc.SpriteFrame],progeressSprite:cc.Sprite,drawCashPrefab:cc.Prefab},onLoad:function(){this.showDataList=[],this.itemNodeList=[],this.btnLabelList=["\u9886\u53d6","\u672a\u5b8c\u6210","\u5df2\u5b8c\u6210"],this.showDataLength=0,this.completeNum=0,this.totalComoleteNum=0,this.totalNum=6,this.drawCashAmount=0,this.isDrawCash=!1,cc.common.data.notificationCenter.on(CURRENT_LAYER_EXIT,this.btnCloseCallBack.bind(this),this)},start:function(){this.setGameExamineShow(),cc.common.data.requestServerDataDailyWelfare(this.initByData.bind(this)),cc.common.tool.gameViewShowData(DATA_ARRANGE.showTarget)},setGameExamineShow:function(){cc.common.data.gameExamine},initByData:function(e){console.log("==\u6bcf\u65e5\u798f\u5229\u6570\u636e==",JSON.stringify(e)),this.showDataList=[],this.showDataList=e.result.items,this.drawCashAmount=e.result.money,this.listContent.removeAllChildren(),this.listContent.height=20,this.showDataLength=this.showDataList.length;for(var t=0;t<this.showDataLength;t++)this.showDataList[t].effectLevel>0?this.listContent.height+=this.itemBigNode.height+this.spacingY:this.listContent.height+=this.itemNode.height+this.spacingY;this.itemY=0,console.log("==j=",t+"==this.listContent.height=",this.listContent.height);for(var i=0;i<this.showDataLength&&void 0!==this.showDataList[i];i++){var a=this.showDataList[i].effectLevel>0?cc.instantiate(this.itemBigNode):cc.instantiate(this.itemNode);a.parent=this.listContent,this.setRankItemData(i,a,this.showDataList[i]),a.x=0,this.itemNodeList.push(a)}this.completeNum=e.result.heartNum,this.isDrawCash=e.result.done,this.totalComoleteNum=e.result.taskHeartNum,this.setHeartShow(e.result.heartNum,e.result.taskHeartNum,e.result.done);var o={taskList:this.showDataList,isComplete:this.completeNum>=this.totalComoleteNum};cc.common.fileOperation.setUserDailyTargetData(o),cc.common.data.notificationCenter.emit(UPDATE_HOME_ANIMATION_SHOW)},updateItemData:function(){for(var e=0;e<this.showDataLength;e++){var t=this.itemNodeList[e];this.setRankItemData(e,t,this.showDataList[e])}},setRankItemData:function(e,t,i){t.getChildByName("label_reward").getComponent(cc.Label).string="x"+i.reward,t.getChildByName("label_target_title").getComponent(cc.Label).string=i.title,t.getChildByName("label_target_condition").getComponent(cc.Label).string=i.content;var a=t.getChildByName("btn_receive");(a.btnData=e,a.getChildByName("sprite_receive").active=i.status==RECEIVE,a.getChildByName("sprite_completed").active=i.status==RECEIVED,a.getChildByName("sprite_incomplete").active=i.status==INCOMPLETE,i.effectLevel>0)&&(t.getChildByName("node_tw").active=!0,t.getChildByName("node_tw").getComponent(cc.Animation).play());t.y=this.itemY-.5*t.height,this.itemY-=t.height+this.spacingY},setHeartShow:function(e,t,i){this.completeNum=e,this.totalNum=t,this.isDrawCash=i,console.log("=completeNum==",e+"==isDrawCash=",i),this.progeressSprite.fillRange=e/this.totalNum,this.btnRewardRed.getChildByName("sprite_red_1").active=e>=t,this.btnRewardRed.getChildByName("sprite_red_2").active=e<t},btnReceiveTargetReward:function(e){cc.common.tool.playAudio(cc.common.audioRes.button);var t=e.target,i=t.btnData,a=this.showDataList[i];console.log("\u6309\u94ae\u6309\u4e0b",t.btnData+"=====",a.status);var o=function(e){console.log("==newData==",JSON.stringify(e)),0==e.code&&this.initByData(e)}.bind(this);if(a.status==INCOMPLETE){cc.common.tool.playZhiKeAd(a.data,function(e){console.log("==\u64ad\u653e\u6210\u529f\uff0c \u65f6\u95f4==",e),e>=a.data.seconds&&cc.common.data.sendOutSeverDataDailyWelfareComplete(a.id,a.status,o)}),cc.common.tool.gameViewClickData(DATA_ARRANGE.clickTargetEnter,"\u76f4\u5ba2\uff1a"+a.title)}else a.status==RECEIVE&&(cc.common.tool.gameViewClickData(DATA_ARRANGE.clickTargetComplete,"\u76f4\u5ba2\uff1a"+a.title),cc.common.data.sendOutSeverDataDailyWelfareComplete(a.id,a.status,o))},btnRewardRedCallBack:function(e,t){(cc.common.tool.playAudio(cc.common.audioRes.button),this.isDrawCash)||(this.completeNum<this.totalComoleteNum?cc.common.tool.showWordTips("\u83b7\u5f97"+this.totalComoleteNum+"\u9897\u7ea2\u5fc3\u5c31\u80fd\u63d0\u73b0\uff0c\u5929\u5929\u63d0\uff0c\u4e0d\u9650\u6b21\u6570"):(this.node.destroy(),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.DRAWCASH).getComponent("DrawCash").setSelectTypeAndAmount(2,this.drawCashAmount)))},btnCloseCallBack:function(){cc.common.tool.playAudio(cc.common.audioRes.button),this.node.destroy(),cc.common.coohuaSdk.removeSdkPrefab()}}),cc._RF.pop()},{}],DailyWelfare:[function(e,t,i){"use strict";cc._RF.push(t,"c80b0uMmzpBFqQZHhT4pKYG","DailyWelfare"),cc.Class({extends:cc.Component,properties:{itemNode:cc.Node,itemBigNode:cc.Node,scrollView:cc.Node,listContent:cc.Node,spacingY:0,btnRewardRed:cc.Node,heartImageList:[cc.SpriteFrame],heartSprite:cc.Node,progeressSprite:cc.Sprite},onLoad:function(){this.heartSpriteList=[],this.showDataList=[],this.itemNodeList=[],this.btnLabelList=["\u9886\u53d6","\u672a\u5b8c\u6210","\u5df2\u5b8c\u6210"],this.showDataLength=0,this.completeNum=0,this.totalComoleteNum=0,this.totalNum=6,this.drawCashAmount=0,this.isDrawCash=!1,cc.common.data.notificationCenter.on(CURRENT_LAYER_EXIT,this.btnCloseCallBack.bind(this),this)},start:function(){this.gameScene=this.node.parent.getChildByName("game_layer").getComponent("GameScene"),this.setGameExamineShow(),cc.common.data.requestServerDataDailyWelfare(this.initByData.bind(this)),cc.common.tool.gameViewShowData(DATA_ARRANGE.showTarget)},setGameExamineShow:function(){cc.common.data.gameExamine},initByData:function(e){console.log("==\u6bcf\u65e5\u798f\u5229\u6570\u636e==",JSON.stringify(e)),this.showDataList=[],this.showDataList=e.result.items,this.drawCashAmount=e.result.money,this.listContent.removeAllChildren(),this.listContent.height=20,this.showDataLength=this.showDataList.length;for(var t=0;t<this.showDataLength;t++)this.showDataList[t].effectLevel>0?this.listContent.height+=this.itemBigNode.height+this.spacingY:this.listContent.height+=this.itemNode.height+this.spacingY;this.itemY=0,console.log("==j=",t+"==this.listContent.height=",this.listContent.height);for(var i=0;i<this.showDataLength&&void 0!==this.showDataList[i];i++){var a=this.showDataList[i].effectLevel>0?cc.instantiate(this.itemBigNode):cc.instantiate(this.itemNode);a.parent=this.listContent,this.setRankItemData(i,a,this.showDataList[i]),a.x=0,this.itemNodeList.push(a)}this.completeNum=e.result.heartNum,this.gameScene.totalHeart=e.result.heartNum,this.gameScene.updateDoubleRedNum(),this.isDrawCash=e.result.done,this.totalComoleteNum=e.result.taskHeartNum,this.setHeartShow(e.result.heartNum,e.result.taskHeartNum,e.result.done);var o={taskList:this.showDataList,isComplete:this.completeNum>=this.totalComoleteNum};cc.common.fileOperation.setUserDailyTargetData(o),cc.common.data.notificationCenter.emit(UPDATE_HOME_ANIMATION_SHOW)},updateItemData:function(){for(var e=0;e<this.showDataLength;e++){var t=this.itemNodeList[e];this.setRankItemData(e,t,this.showDataList[e])}},setRankItemData:function(e,t,i){t.getChildByName("label_reward").getComponent(cc.Label).string="x"+i.reward,t.getChildByName("label_target_title").getComponent(cc.Label).string=i.title,t.getChildByName("label_target_condition").getComponent(cc.Label).string=i.content;var a=t.getChildByName("btn_receive");(a.btnData=e,a.getChildByName("sprite_receive").active=i.status==RECEIVE,a.getChildByName("sprite_completed").active=i.status==RECEIVED,a.getChildByName("sprite_incomplete").active=i.status==INCOMPLETE,i.effectLevel>0)&&(t.getChildByName("node_tw").active=!0,t.getChildByName("node_tw").getComponent(cc.Animation).play());t.y=this.itemY-.5*t.height,this.itemY-=t.height+this.spacingY},setHeartShow:function(e,t,i){this.completeNum=e,this.totalNum=t,this.isDrawCash=i,console.log("=completeNum==",e+"==isDrawCash=",i);for(var a=cc.find("game_layer/node_top/sprite_heart_bg",this.node),o=0;o<this.totalNum;o++){var n=null;this.heartSpriteList[o]?n=this.heartSpriteList[o]:((n=cc.instantiate(this.heartSprite)).parent=a,n.x=.5*-a.width+a.width/this.totalNum*(o+1),console.log("==i===",o+"=completeNum==",e+"==heartSprite.x=",n.x),this.heartSpriteList.push(n)),n.getComponent(cc.Sprite).spriteFrame=o<e?this.heartImageList[1]:this.heartImageList[0]}this.progeressSprite.fillRange=e/this.totalNum,this.btnRewardRed.getChildByName("sprite_red_1").active=e>=t,this.btnRewardRed.getChildByName("sprite_red_2").active=e<t},btnReceiveTargetReward:function(e){cc.common.tool.playAudio(cc.common.audioRes.button);var t=e.target,i=t.btnData,a=this.showDataList[i];console.log("\u6309\u94ae\u6309\u4e0b",t.btnData+"=====",a.status);var o=a.reward,n=a.status,s=function(e){console.log("==newData==",JSON.stringify(e)),0==e.code&&(n==RECEIVE&&cc.common.tool.showWordTips("+".concat(o,"\u5f20\u80fd\u91cf\u76d8"),!1,1),this.initByData(e))}.bind(this);if(a.status==INCOMPLETE){cc.common.tool.playZhiKeAd(a.data,function(e){console.log("==\u64ad\u653e\u6210\u529f\uff0c \u65f6\u95f4==",e),e>=a.data.seconds&&cc.common.data.sendOutSeverDataDailyWelfareComplete(a.id,a.status,s)}),cc.common.tool.gameViewClickData(DATA_ARRANGE.clickTargetEnter,"\u76f4\u5ba2\uff1a"+a.title)}else a.status==RECEIVE&&(cc.common.tool.gameViewClickData(DATA_ARRANGE.clickTargetComplete,"\u76f4\u5ba2\uff1a"+a.title),cc.common.data.sendOutSeverDataDailyWelfareComplete(a.id,a.status,s))},btnRewardRedCallBack:function(e,t){(cc.common.tool.playAudio(cc.common.audioRes.button),this.isDrawCash)||(this.completeNum<this.totalComoleteNum?cc.common.tool.showWordTips("\u83b7\u5f97"+this.totalComoleteNum+"\u9897\u7ea2\u5fc3\u5c31\u80fd\u63d0\u73b0\uff0c\u5929\u5929\u63d0\uff0c\u4e0d\u9650\u6b21\u6570"):(this.node.destroy(),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.DRAWCASH).getComponent("DrawCashCut").setSelectTypeAndAmount(2,this.drawCashAmount)))},btnCloseCallBack:function(){cc.common.tool.playAudio(cc.common.audioRes.button),this.node.destroy(),cc.common.coohuaSdk.removeSdkPrefab()}}),cc._RF.pop()},{}],Data:[function(e,t,i){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cc._RF.push(t,"4e9aeLT7/5Og53f3ioIfToJ","Data");var o=e("./network/md5").hexMD5;cc.Class({extends:cc.Component,properties:{},init:function(){this.setGameData(),this.setEventTarget()},setGameData:function(){this.serverUrl="http://bp-api.coohua.top",this.secretData="fS*rD^NzBD847*KCBU7d^bgbzJddPU3u",this.eliminateTotalNumber=0,this.gameExamine=!0,this.dailyLeftCount=15,this.platformIsAndroid="Android"==navigator.platform,this.platformIsIOS="iOS"==navigator.platform,this.platformISWin=!1,this.httpHeader={appId:56,pkgId:82,deviceId:"861144046191155",brand:"Xiaomi",gps:"40.015551,116.361037",bs:"default",appVersion:"1.0.0",os:"android",channel:"ALIYUN_MAN_CHANNEL",romVersion:"default",osVersion:"9",oaid:"default",accessKey:"96bfae25bd587b22672310c6f4d70716_22313",apiType:0},this.productName="g3_candyeliminate",this.packageName="com.hainanliangyou.candyeliminate",console.log("=\u5e73\u53f0==platform=",navigator.platform),this.setHeaderData(),console.log("===window.location.search===",window.location.search),this.audioSwitch=1==cc.common.fileOperation.getAudioSwitch(),this.tvRedData=null,console.log("==\u89c6\u56fe\u7684\u5927\u5c0f=winSize=",cc.winSize.width+","+cc.winSize.height),this.isIphoneX=cc.winSize.height/cc.winSize.width>2.1},setEventTarget:function(){this.notificationCenter=new cc.EventTarget},setupWebViewJavascriptBridge:function(e){if(WebViewJavascriptBridge)e(WebViewJavascriptBridge);else{if(WVJBCallbacks)return WVJBCallbacks.push(e);WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",this.platformIsAndroid?document.addEventListener("WebViewJavascriptBridgeReady",function(t){e(WebViewJavascriptBridge)},!1):t.src="https://__BRIDGE_LOADED__",document.documentElement.appendChild(t),setTimeout(function(){document.documentElement.removeChild(t)},0)}},callHandler:function(e,t){console.log("==JS\u8c03\u5ba2\u6237\u7aef=",JSON.stringify(e)),WebViewJavascriptBridge.callHandler("NEH5CallNative",e,t)},bridgeSend:function(e,t){console.log("==JS\u7ed9\u5ba2\u6237\u7aef\u53d1\u9001\u6d88\u606f=",JSON.stringify(e)),WebViewJavascriptBridge.send("NEH5CallNative",e,t)},registerHandler:function(){var e=this;WebViewJavascriptBridge&&WebViewJavascriptBridge.registerHandler("NENativeCallH5",function(t,i){console.log("==\u5ba2\u6237\u7aef\u8c03JS==",JSON.stringify(t));var a=JSON.parse(t);"webReload"==a.func&&(console.log("===\u5ba2\u6237\u7aef\u544a\u8bc9\u524d\u7aef\u5237\u65b0\u6570\u636e====="),cc.common.data.notificationCenter.emit(UPDATE_DATA_DAILY_WELFARE)),"webBackPage"==a.func&&e.notificationCenter.emit(CURRENT_LAYER_EXIT),"webAlertMoney"==a.func&&(e.tvRedData=a.params||null,cc.common.data.notificationCenter.emit(UPDATE_HOME_SHOW,!1))})},setHeaderData:function(){var e="";if(e=window.location.search){var t=e.split("&"),i=function(e){for(var i=0;i<t.length;i++){var a=t[i];if(a.indexOf(e)>=0)return a.split("=")[1]}return"default"};this.httpHeader.appId=i("appId"),this.httpHeader.pkgId=i("pkgId"),this.httpHeader.deviceId=i("deviceId"),this.httpHeader.brand=i("brand"),this.httpHeader.gps=i("gps"),this.httpHeader.bs=i("bs"),this.httpHeader.appVersion=i("appVersion"),this.httpHeader.os=i("os"),this.httpHeader.channel=i("channel"),this.httpHeader.romVersion=i("romVersion"),this.httpHeader.osVersion=i("osVersion"),this.httpHeader.oaid=i("oaid"),this.httpHeader.accessKey=i("accessKey"),this.httpHeader.apiType=i("apiType"),this.gameExamine="0"==i("isPass"),console.log("=\u65b0=gameExamine=",this.gameExamine),console.log("=\u65b0=httpHeader=",JSON.stringify(this.httpHeader))}this.serverUrl=0==this.httpHeader.apiType?this.serverUrl:"https://bp-api.coohua.com"},requestServerDataRegister:function(){var e=this.serverUrl+"/bp/user/register?appId="+this.httpHeader.appId+"&pkgId="+this.httpHeader.pkgId+"&oaid=";HttpHelper.httpGet(e,function(e){console.log("----\u7528\u6237\u6ce8\u518c--",e)})},initBusinessSdk:function(e){console.log("=\u76f4\u5ba2\u5e7f\u544a\u6570\u636e==","undefined"==typeof BusinessSDK?"undefined":a(BusinessSDK)),"undefined"!=typeof BusinessSDK&&BusinessSDK.initWebSDK({accessKey:this.httpHeader.accessKey,userId:this.httpHeader.accessKey.split("_")[1],appVersion:this.httpHeader.appVersion,appName:this.productName,gps:this.httpHeader.gps,env:0==this.httpHeader.apiType?"debug":"release",deviceId:this.httpHeader.deviceId,bundle:this.packageName,channelId:this.httpHeader.channel,brand:this.httpHeader.brand,romVersion:this.httpHeader.romVersion,osVersion:this.httpHeader.osVersion,appId:this.httpHeader.appId,posId:0==this.httpHeader.apiType?"1000191":"1000126",pkgId:this.httpHeader.pkgId,pageName:DATA_ARRANGE.clickTargetEnter,remoteName:0==this.httpHeader.apiType?"test":"mvp"},function(){BusinessSDK.task.getTaskList(0,function(t){console.log("=\u76f4\u5ba2\u5e7f\u544a\u6570\u636e=getTaskList=",JSON.stringify(t));var i=[];if(!((i=t.result&&t.result.read60Cache&&t.result.read60Cache.adCaches?t.result.read60Cache.adCaches:[]).length<=0)){for(var a in i)i[a].creditName=t.result.read60Cache.creditName;e&&e(i)}},function(e){})})},requestServerDataDailyWelfare:function(e){var t=this.serverUrl+"/g3-chengyu/api/task";HttpHelper.httpGet(t,e)},sendOutSeverDataDailyWelfareComplete:function(e,t,i){var a=this.serverUrl+"/g3-chengyu/api/task";HttpHelper.httpPost(a,{taskId:e,status:t},i)},sendOutSeverDataZhikeResult:function(e,t,i){var a=this.serverUrl+"/lovexiao/daily_task/watched?id="+e+"&type="+t;HttpHelper.httpPost(a,"",i)},sendOutSeverDataCountDownRed:function(e){var t=this.serverUrl+"/g3-chengyu/api/money/chest";HttpHelper.httpPost(t,"",e)},requestServerDataAchievement:function(){var e=this.serverUrl+"/lovexiao/achievement/list";HttpHelper.httpGet(e,function(e){console.log("==\u8bf7\u6c42\u670d\u52a1\u7aef\u6570\u636e=\u6210\u5c31===",JSON.stringify(e));var t=cc.common.fileOperation.getUserAchievementData();if(-1!=e){var i={code:e.result.userInfoVO.code,creditAmount:e.result.userInfoVO.creditAmount,goldAmount:e.result.userInfoVO.goldAmount};this.notificationCenter.emit(SEVER_DATA_MAIN_USER,i),t.achieveList=e.result.list}}.bind(this))},requestServerDataSignIn:function(e){var t=this.serverUrl+"/g3-chengyu/api/checkIn";HttpHelper.httpGet(t,e)},sendOutServerDataLevel:function(e,t,i){var a=(new Date).getTime(),n=e+","+t+","+a+","+this.secretData,s={correct:e,level:t,timeMillis:a,sign:o(n)},c=this.serverUrl+"/g3-chengyu/api/level";HttpHelper.httpPost(c,s,i)},sendOutSeverDataUseProp:function(){var e=this.serverUrl+"/lovexiao/props/use_props";HttpHelper.httpGet(e,function(e){console.log("==\u5411\u670d\u52a1\u7aef\u53d1\u9001\u6570\u636e=\u4f7f\u7528\u9053\u5177==",JSON.stringify(e))})},sendOutSeverDataGameRed:function(e,t){var i=this.serverUrl+"/g3-chengyu/api/money",a={money:e};HttpHelper.httpPost(i,a,t)},requestSeverDataDrawCash:function(e){var t=this.serverUrl+"/g3-chengyu/api/withdraw";HttpHelper.httpGet(t,e)},sendOutSeverDataDrawCash:function(e,t){var i=this.serverUrl+"/g3-chengyu/api/withdraw";HttpHelper.httpPost(i,e,t)},requestSeverDataMainUser:function(e){var t=this.serverUrl+"/g3-chengyu/api/home";HttpHelper.httpGet(t,e)},requestSeverDataRankList:function(e){var t=this.serverUrl+"/g3-chengyu/api/rank";HttpHelper.httpGet(t,e)},requestSeverDataIsHaveRank:function(e){var t=this.serverUrl+"/g3-chengyu/api/rank";HttpHelper.httpPost(t,"",e)},requestSeverDataInviteFriend:function(e){var t=this.serverUrl+"/g3-chengyu/api/share";HttpHelper.httpGet(t,e)},sendOutSeverDataInviteFriendReward:function(e,t){var i=this.serverUrl+"/g3-chengyu/api/share",a={num:e};HttpHelper.httpPost(i,a,t)},sendOutSeverDataInviteCode:function(e,t){var i=this.serverUrl+"/g3-chengyu/api/share/add",a={code:e};HttpHelper.httpPost(i,a,t)},requestSeverDataNewEnergy:function(e){var t=this.serverUrl+"/g3-triple/api/feed/energy";HttpHelper.httpGet(t,e)},requestSeverDataLucklyBox:function(e){var t=this.serverUrl+"/g3-chengyu/api/money/luckily";HttpHelper.httpPost(t,null,e)},requestSeverDataFragmentRed:function(e){var t=this.serverUrl+"/g3-chengyu/api/money/fragment";HttpHelper.httpPost(t,null,e)},requestSeverDataTurnTable:function(e){var t=this.serverUrl+"/g3-odyssey/api/turntable";HttpHelper.httpGet(t,e)},requestSeverDataIndiana:function(e){var t=this.serverUrl+"/g3-odyssey/api/crowdfunding";HttpHelper.httpGet(t,e)},requestSeverDataIndianaPrize:function(e,t){var i=this.serverUrl+"/g3-odyssey/api/crowdfunding/"+t;HttpHelper.httpGet(i,e)},requestSeverDataBetting:function(e,t,i){var a=this.serverUrl+"/g3-odyssey/api/crowdfunding/"+t,o={first:i};HttpHelper.httpPost(a,o,e)},requestSeverDataPrizeRoster:function(e,t){var i=this.serverUrl+"/g3-odyssey/api/crowdfunding/"+t+"/winners";HttpHelper.httpGet(i,e)},requestSeverDrawCashTurnTableStatus:function(e){var t=this.serverUrl+"/g3-chengyu/api/turntable/status";HttpHelper.httpGet(t,e)},requestSeverDrawCashTurnTableData:function(e){var t=this.serverUrl+"/g3-chengyu/api/turntable";HttpHelper.httpGet(t,e)},requestSeverReceiveReward:function(e){var t=this.serverUrl+"/g3-chengyu/api/turntable";HttpHelper.httpPost(t,null,e)},requestSeverTurnTableNewMoney:function(e,t){var i=this.serverUrl+"/g3-odyssey/api/user/money";HttpHelper.httpPost(i,t,e)}}),cc._RF.pop()},{"./network/md5":"md5"}],DrawCashCut:[function(e,t,i){"use strict";cc._RF.push(t,"c4677VAdrFDKong6myUweu+","DrawCashCut"),cc.Class({extends:cc.Component,properties:{amountNode:cc.Node,redNumLabel:cc.Label,cashAmountNode:cc.Node,conditionNode:cc.Node,drawTypeNode:cc.Node,amountSprite:[cc.SpriteFrame],amountTipSprite:[cc.SpriteFrame],nodeCashLevel:cc.Node,bgSpr:cc.Sprite,scrollView:cc.ScrollView,nodeTurnTable:cc.Node,resultPrefab:cc.Prefab,rewardSpr:[cc.SpriteFrame]},onLoad:function(){var e=this,t=cc.common.fileOperation.getUserData(),i=cc.common.tool.getTwoDecimalPlaces(t.redNum);this.redNumLabel.string=i,this.amountTipString=["","\u65b0\u4eba\u4e13\u4eab","\u6bcf\u65e5\u798f\u5229\u4e13\u4eab","\u5929\u6253\u5361\u4e13\u4eab","\u5173\u4e13\u4eab"],this.selectType=-1,this.selectAmount=0,this.amountNodeList=[],this.drawType=0,this.amountIndex=-1,this.amountDataList=[],this.currentHeartNum=0,this.totalLevel=0,this.signInData={};var a=function(e){console.log("==\u8bf7\u6c42\u670d\u52a1\u7aef\u6570\u636e=\u63d0\u73b0\u6570\u636e=",JSON.stringify(e)),this.currentHeartNum=e.result.heartNum,this.signInData=e.result.checkIn,this.amountDataList=e.result.items,this.totalLevel=e.result.totalLevel,this.setDrawCashData()}.bind(this);cc.common.data.requestSeverDataDrawCash(a);var o=this.drawTypeNode.getChildByName("sprite_wx"),n=this.drawTypeNode.getChildByName("sprite_zfb");o.on(cc.Node.EventType.TOUCH_END,function(){o.getChildByName("sprite_2").active=!0,n.getChildByName("sprite_2").active=!1,e.drawType=0}),n.on(cc.Node.EventType.TOUCH_END,function(){o.getChildByName("sprite_2").active=!1,n.getChildByName("sprite_2").active=!0,e.drawType=1}),cc.common.data.notificationCenter.on(CURRENT_LAYER_EXIT,this.btnCloseCallBack.bind(this),this)},start:function(){this.gameScene=this.node.parent.getChildByName("game_layer").getComponent("GameScene"),cc.common.tool.gameViewClickData(DATA_ARRANGE.showDrawCash),this.bgSprStarPos=this.bgSpr.node.position,this.scrollView.node.on("scrolling",function(e){var t=this.scrollView.getComponent(cc.ScrollView).getScrollOffset().y;this.bgSpr.node.y=this.bgSprStarPos.y+t},this),this.updateCashLevelInfo()},setDrawCashData:function(){for(var e=0,t=this.amountDataList.length;e<t;e++){var i=null;this.amountNodeList[e]?i=this.amountNodeList[e]:((i=cc.instantiate(this.amountNode)).x=e%2==0?-168:168,i.y-=128*parseInt(e/2),i.parent=this.cashAmountNode,i.lIndex=e,i.on(cc.Node.EventType.TOUCH_END,this.btnAmountSelect.bind(this),this),this.amountNodeList.push(i));var a=this.amountDataList[e],o=i.getChildByName("label_tip");o.active=a.type>0;var n=i.getChildByName("sprite_type");n.active=a.type>0;var s=i.getChildByName("label_amount").getComponent(cc.Label),c=cc.common.tool.getTwoDecimalPlaces(a.money);s.string=c+"\u5143",a.disable?(console.log("==\u7f6e\u7070\uff0c\u5f53\u524d\u91d1\u989d\u5df2\u7ecf\u63d0\u73b0==",e),n.getComponent(cc.Sprite).spriteFrame=this.amountTipSprite[0],i.getComponent(cc.Sprite).spriteFrame=this.amountSprite[2],i.setContentSize(cc.size(318,119)),i.getChildByName("sprite_title").active=!1,i.getChildByName("label_amount").color=new cc.Color(73,74,78,1),o.color=new cc.Color(73,74,78,1)):(n.getComponent(cc.Sprite).spriteFrame=this.amountTipSprite[a.type],i.getComponent(cc.Sprite).spriteFrame=this.amountSprite[0],i.getChildByName("sprite_title").active=!1,i.setContentSize(cc.size(332,131)),i.getChildByName("label_amount").color=cc.Color.BLACK,o.color=cc.Color.BLACK),o.getComponent(cc.Label).string=this.amountTipString[a.type],3!=a.type&&4!=a.type||(o.active=!1,n.active=!1)}this.setAmountIndex()},updateCashLevelInfo:function(){var e=cc.common.fileOperation.getDrawCashPassRed(),t=this.gameScene.needLevel;e==t?(this.nodeCashLevel.getChildByName("lab").getComponent(cc.Label).string="\u6761\u4ef6\u8fbe\u6210\u4e86\uff0c\u5feb\u53bb\u63d0\u73b0\u5427\uff01",this.nodeCashLevel.getChildByName("progress").getComponent(cc.ProgressBar).progress=1,this.nodeCashLevel.getChildByName("progress").getChildByName("lab").getComponent(cc.Label).string="".concat(t,"/").concat(t)):(this.nodeCashLevel.getChildByName("lab").getComponent(cc.Label).string="\u8ddd\u79bb\u4e0b\u6b21\u63d0\u73b0\u8fd8\u5dee".concat(t-e,"\u5173"),this.nodeCashLevel.getChildByName("progress").getComponent(cc.ProgressBar).progress=e/t,this.nodeCashLevel.getChildByName("progress").getChildByName("lab").getComponent(cc.Label).string="".concat(e,"/").concat(t)),this.nodeTurnTable.canClick=e==t},btnLuckyDraw:function(){var e=this;if(this.canLuckyDraw){this.canLuckyDraw=!1;for(var t=this.turnTableInfo,i=0,a=0;a<t.length;++a)if(t[a].money==this.rewardMoney){i=a;break}var o=null,n=0,s=.1,c=0,r=-1;(function a(l){var h=t[l].node;cc.tween(h).delay(s).call(function(){c>0?cc.tween(o.getChildByName("bg")).to(.05,{opacity:0}).to(.05,{opacity:255}).to(.05,{opacity:0}).to(.05,{opacity:255}).call(function(){e.luckyDrawNum++,e.showResultLayer(i),e.luckyDrawNum>=e.needTimes&&(e.luckyDrawNum=0),cc.common.fileOperation.setLuckyDrawNum(e.luckyDrawNum),cc.common.fileOperation.setDrawCashPassRed(0),e.updateProgress()}).start():(h.getChildByName("bg").active=!0,o&&(o.getChildByName("bg").active=!1),o=t[l].node,n>=2&&(i==l&&-1==r&&(r=8),r>0?(r<=5&&(s=.1*(6-r)),r--):0==r&&(c=!0)),++l>=t.length&&(l=0,n++),a(l))}).start()})(0)}},showResultLayer:function(e){var t=this,i=cc.instantiate(this.resultPrefab);i.parent=this.node;var a=i.getChildByName("bg").getChildByName("red_bg");a.getChildByName("lab").getComponent(cc.Label).string=this.turnTableInfo[e].title,a.getChildByName("red").scale=1.5,this.turnTableInfo[e].specail?a.getChildByName("red").getComponent(cc.Sprite).spriteFrame=this.rewardSpr[1]:a.getChildByName("red").getComponent(cc.Sprite).spriteFrame=this.rewardSpr[0],this.needTimes-this.luckyDrawNum>0?a.getChildByName("lab1").getComponent(cc.Label).string="\u518d\u62bd".concat(this.needTimes-this.luckyDrawNum,"\u6b21\u5fc5\u5f97188\u5143\u5fae\u4fe1\u7ea2\u5305"):a.getChildByName("lab1").getComponent(cc.Label).string="\u606d\u559c\u83b7\u5f97188\u5143\u5fae\u4fe1\u7ea2\u5305",a.getChildByName("lab1").active=!this.turnTableInfo[e].specail;var o=a.getChildByName("progress");o.active=!this.turnTableInfo[e].specail,o.getChildByName("bar").getComponent(cc.Sprite).fillRange=this.luckyDrawNum/this.needTimes,o.getChildByName("lab").getComponent(cc.Label).string="".concat(this.luckyDrawNum,"/").concat(this.needTimes);var n=function(){cc.common.data.requestSeverReceiveReward(function(e){console.log("-----------data-----------"+JSON.stringify(e));var i=cc.common.fileOperation.getUserData();cc.common.tool.showWordTips(e.result.newMoney-i.redNum,!0),cc.common.data.notificationCenter.emit(UPDATE_DATA_USER_RED,e.result.newMoney),t.gameScene.needLevel=e.result.statusData.needLevel,cc.common.fileOperation.setDrawCashPassRed(e.result.statusData.curLevel),t.gameScene.updateNodeRedPro(),t.gameScene.drawCashPass=0,t.updateCashLevelInfo();var a=cc.common.tool.getTwoDecimalPlaces(e.result.newMoney);t.redNumLabel.string=a}),t.nodeTurnTable.active=!1,i.removeFromParent()};a.getChildByName("btn_ok").on("click",n),i.getChildByName("bg").getChildByName("btn_close").on("click",n)},btnPassDrawCash:function(){var e=this;this.nodeTurnTable.canClick?cc.common.data.requestSeverDrawCashTurnTableData(function(t){console.log("---------data----------"+JSON.stringify(t)),cc.common.fileOperation.setLuckyDrawNum(t.result.curTimes),e.rewardMoney=t.result.hitMoney,e.needTimes=t.result.needTimes;var i=t.result.items,a=e.nodeTurnTable.getChildByName("bg").getChildByName("node_list");e.turnTableInfo=[{money:i[0].money,title:"\u7ea2\u5305".concat(i[0].money/100),node:a.getChildByName("item1")},{money:i[2].money,title:"\u7ea2\u5305".concat(i[2].money/100),node:a.getChildByName("item2")},{money:i[1].money,title:"\u7ea2\u5305".concat(i[1].money/100),node:a.getChildByName("item3")},{money:i[3].money,title:"\u7ea2\u5305".concat(i[3].money/100),node:a.getChildByName("item5")},{money:i[7].money,title:"".concat(i[7].money/100,"\u5143"),node:a.getChildByName("item8")},{money:i[5].money,title:"\u7ea2\u5305".concat(i[5].money/100),node:a.getChildByName("item7")},{money:i[6].money,title:"".concat(i[6].money/100,"\u5143"),node:a.getChildByName("item6")},{money:i[4].money,title:"\u7ea2\u5305".concat(i[4].money/100),node:a.getChildByName("item4")}];for(var o=0;o<e.turnTableInfo.length;++o)e.turnTableInfo[o].node.getChildByName("lab").getComponent(cc.Label).string=e.turnTableInfo[o].title;e.nodeTurnTable.active=!0,e.canLuckyDraw=!0,e.updateProgress()}):cc.common.tool.showWordTips("\u6761\u4ef6\u4e0d\u6ee1\u8db3\uff0c\u5feb\u53bb\u901a\u5173\u5427",!1)},updateProgress:function(){this.luckyDrawNum=cc.common.fileOperation.getLuckyDrawNum();var e=this.nodeTurnTable.getChildByName("bg").getChildByName("progress");e.getChildByName("lab").getComponent(cc.Label).string="".concat(this.luckyDrawNum,"/").concat(this.needTimes),e.getComponent(cc.ProgressBar).progress=this.luckyDrawNum/this.needTimes,this.needTimes-this.luckyDrawNum>0?this.nodeTurnTable.getChildByName("bg").getChildByName("lab").getComponent(cc.Label).string="\u518d\u62bd".concat(this.needTimes-this.luckyDrawNum,"\u6b21\u5fc5\u5f97188\u5143\u5fae\u4fe1\u7ea2\u5305"):this.nodeTurnTable.getChildByName("bg").getChildByName("lab").getComponent(cc.Label).string="\u672c\u6b21\u5fc5\u5f97188\u5143\u5fae\u4fe1\u7ea2\u5305"},btnCloseDrawCashPass:function(){this.nodeTurnTable.active=!1},setSelectTypeAndAmount:function(e,t){this.selectType=e,this.selectAmount=t,console.log("==money==",t+"==type=",e)},setAmountIndex:function(){if(this.selectType>=0&&this.selectAmount>0)for(var e=0,t=this.amountDataList.length;e<t;e++)this.amountDataList[e].type==this.selectType&&(3==this.selectType||4==this.selectType?this.amountDataList[e].money==this.selectAmount&&this.setShowAmount(e):this.setShowAmount(e))},setShowAmount:function(e){this.amountIndex=e;var t=this.amountNodeList[this.amountIndex];t.getComponent(cc.Sprite).spriteFrame=this.amountSprite[1],t.setContentSize(cc.size(318,119)),t.getChildByName("sprite_title").active=!0;var i=this.conditionNode.getChildByName("sprite_signIn");i.active=!1;var a=this.conditionNode.getChildByName("sprite_welfare");if(a.active=!1,this.conditionNode.getChildByName("New Label").active=!0,2==this.amountDataList[e].type){a.active=!0;var o=a.getChildByName("label_condition_desc").getComponent(cc.RichText),n=this.amountDataList[e].value;o.string="<color=#000000>\u53c2\u4e0e\u6bcf\u65e5\u798f\u5229\uff0c\u89c2\u770b\u89c6\u9891\u5373\u53ef\u63d0\u73b0\u3002</c><color=#ff0024>(\u5929\u5929\u63d0\uff0c\u4e0d\u9650\u6b21\u6570)</color>",a.getChildByName("progressBar").getComponent(cc.ProgressBar).progress=this.currentHeartNum/n;var s=cc.find("btn_complete_state/Background/Label",a).getComponent(cc.Label),c=a.getChildByName("label_condition_tip").getComponent(cc.Label);this.currentHeartNum>=n?(c.string="\u89c2\u770b\u89c6\u9891\u6570\uff1a"+this.currentHeartNum,s.string="\u4eca\u65e5\u5df2\u5b8c\u6210"):(c.string="\u518d\u89c2\u770b"+(n-this.currentHeartNum)+"\u4e2a\u89c6\u9891\u5c31\u53ef\u4ee5\u63d0\u73b0\u4e86",s.string="\u4eca\u65e5\u672a\u5b8c\u6210")}else if(3==this.amountDataList[e].type){i.active=!0;var r=i.getChildByName("label_condition_desc").getComponent(cc.RichText),l=this.amountDataList[e].value;r.string="<color=#000000>\u8fde\u7eed\u6253\u5361"+l+"\u5929\u53ef\u63d0\u73b0\u3002</c><color=#ff0024>\uff08\u6253\u5361\u6761\u4ef6\uff1a\u5f53\u5929\u9886\u53d6"+this.signInData.taskPackNum+"\u4e2a\u7ea2\u5305\uff09</color>",i.getChildByName("progressBar").getComponent(cc.ProgressBar).progress=this.signInData.days/l,cc.find("btn_complete_state/Background/Label",i).getComponent(cc.Label).string=this.signInData.packNum>=this.signInData.taskPackNum?"\u4eca\u65e5\u5df2\u6253\u5361":"\u4eca\u65e5\u672a\u6253\u5361";var h=i.getChildByName("label_condition_tip").getComponent(cc.Label);this.signInData.days>=l?h.string="\u5df2\u6253\u5361\u5929\u6570\uff1a"+this.signInData.days:h.string="\u5df2\u6253\u5361"+this.signInData.days+"\u5929\uff0c\u8fd8\u5dee"+(l-this.signInData.days)+"\u5929"}else if(4==this.amountDataList[e].type){i.active=!0;var d=i.getChildByName("label_condition_desc").getComponent(cc.RichText),m=this.amountDataList[e].value;d.string="<color=#000000>\u8fde\u7eed\u901a\u5173"+m+"\u5173\u53ef\u63d0\u73b0\u3002</color>";var u=i.getChildByName("progressBar").getComponent(cc.ProgressBar);cc.find("btn_complete_state/Background/Label",i).getComponent(cc.Label).string=this.totalLevel>=m?"\u5df2\u5b8c\u6210":"\u672a\u5b8c\u6210";var p=i.getChildByName("label_condition_tip").getComponent(cc.Label);this.totalLevel>=m?(u.progress=1,p.string="\u5df2\u901a\u5173\u6570\uff1a"+this.totalLevel):(u.progress=this.totalLevel/m,this.totalLevel<m?p.string="\u5df2\u901a\u5173"+this.totalLevel+"\u5173\uff0c\u8fd8\u5dee"+(m-this.totalLevel)+"\u5173":p.string="\u5df2\u901a\u5173"+this.totalLevel+"\u5173")}else this.conditionNode.getChildByName("New Label").active=!1,this.conditionNode.getChildByName("label_tip").getComponent(cc.Label).string="\u65e0\u9700\u4efb\u4f55\u6761\u4ef6"},btnAmountSelect:function(e){var t=e.target.lIndex;if(!this.amountDataList[t].disable){if(cc.common.tool.playAudio(cc.common.audioRes.button),this.amountIndex>=0){var i=this.amountNodeList[this.amountIndex];this.amountDataList[this.amountIndex].disable?(i.getChildByName("sprite_type").getComponent(cc.Sprite).spriteFrame=this.amountTipSprite[0],i.spriteFrame=this.amountSprite[2],i.getChildByName("sprite_title").active=!1,i.setContentSize(cc.size(318,119)),i.getChildByName("label_amount").color=new cc.Color(73,74,78,1),i.getChildByName("label_tip").color=new cc.Color(73,74,78,1)):(i.getComponent(cc.Sprite).spriteFrame=this.amountSprite[0],i.getChildByName("sprite_title").active=!1,i.setContentSize(cc.size(332,131)),cc.find("label_amount",i).color=cc.Color.BLACK)}this.setShowAmount(t)}},btnConditionCompltet:function(){cc.common.tool.playAudio(cc.common.audioRes.button);var e=this.amountDataList[this.amountIndex].type,t=this.amountDataList[this.amountIndex].value;2==e&&this.currentHeartNum<t&&(this.node.destroy(),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.DAILYTARGET)),3==e&&this.signInData.days<t&&(this.node.destroy(),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.DAILYSIGNIN)),4==e&&this.totalLevel<t&&(this.node.destroy(),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.PASSWELFARE))},btnDrawCashCallBack:function(){var e=this;if(cc.common.tool.playAudio(cc.common.audioRes.button),this.amountIndex<0)cc.common.tool.showWordTips("\u8bf7\u5148\u9009\u62e9\u63d0\u73b0\u91d1\u989d\uff01");else{var t=this.amountDataList[this.amountIndex].id,i={id:t,op:this.drawType};cc.common.data.sendOutSeverDataDrawCash(i,function(i){console.log("==\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e=\u63d0\u73b0\u6570\u636e=",JSON.stringify(i)),i.result.disable&&(e.amountDataList[e.amountIndex].disable=!0,e.amountNodeList[e.amountIndex].spriteFrame=e.amountSprite[2],e.amountNodeList[e.amountIndex].setContentSize(cc.size(318,119)),e.amountNodeList[e.amountIndex].getChildByName("sprite_title").active=!1,e.amountNodeList[e.amountIndex].getChildByName("label_amount").color=new cc.Color(73,74,78,1),e.amountNodeList[e.amountIndex].getChildByName("label_tip").color=new cc.Color(73,74,78,1),e.amountNodeList[e.amountIndex].getChildByName("sprite_type").getComponent(cc.Sprite).spriteFrame=e.amountTipSprite[0]),cc.common.data.notificationCenter.emit(UPDATE_DATA_USER_RED,i.result.newMoney);var a=cc.common.tool.getTwoDecimalPlaces(i.result.newMoney);e.redNumLabel.string=a,e.currentHeartNum=i.result.newHeartNum,cc.common.tool.showWordTips("\u63d0\u73b0\u6210\u529f\uff01"),cc.common.tool.gameViewClickData(DATA_ARRANGE.clickDrawCashSuccess,t)})}},btnCloseCallBack:function(){cc.common.tool.playAudio(cc.common.audioRes.button),this.node.destroy(),cc.common.coohuaSdk.removeSdkPrefab()}}),cc._RF.pop()},{}],DrawCashEliminate:[function(e,t,i){"use strict";cc._RF.push(t,"9febd292PNJfZTaru1G0sLU","DrawCashEliminate"),cc.Class({extends:cc.Component,properties:{amountNode:cc.Node,redNumLabel:cc.Label,cashAmountNode:cc.Node,conditionNode:cc.Node,drawTypeNode:cc.Node,amountSprite:[cc.SpriteFrame],amountTipSprite:[cc.SpriteFrame]},onLoad:function(){var e=this,t=cc.common.fileOperation.getUserData(),i=cc.common.tool.getTwoDecimalPlaces(t.redNum);this.redNumLabel.string=i,this.amountTipString=["","\u65b0\u4eba\u4e13\u4eab","\u6bcf\u65e5\u798f\u5229\u4e13\u4eab","\u5929\u6253\u5361\u4e13\u4eab"],this.selectType=-1,this.selectAmount=0,this.amountNodeList=[],this.drawType=0,this.amountIndex=-1,this.amountDataList=[],this.currentHeartNum=0,this.signInData={};var a=function(e){console.log("==\u8bf7\u6c42\u670d\u52a1\u7aef\u6570\u636e=\u63d0\u73b0\u6570\u636e=",JSON.stringify(e)),this.currentHeartNum=e.result.heartNum,this.signInData=e.result.checkIn,this.amountDataList=e.result.items,this.setDrawCashData()}.bind(this);cc.common.data.requestSeverDataDrawCash(a);var o=this.drawTypeNode.getChildByName("sprite_wx"),n=this.drawTypeNode.getChildByName("sprite_zfb");o.on(cc.Node.EventType.TOUCH_END,function(){o.getChildByName("sprite_2").active=!0,n.getChildByName("sprite_2").active=!1,e.drawType=0}),n.on(cc.Node.EventType.TOUCH_END,function(){o.getChildByName("sprite_2").active=!1,n.getChildByName("sprite_2").active=!0,e.drawType=1}),cc.common.data.notificationCenter.on(CURRENT_LAYER_EXIT,this.btnCloseCallBack.bind(this),this)},start:function(){cc.common.tool.gameViewClickData(DATA_ARRANGE.showDrawCash)},setDrawCashData:function(){for(var e=0,t=this.amountDataList.length;e<t;e++){var i=null;this.amountNodeList[e]?i=this.amountNodeList[e]:((i=cc.instantiate(this.amountNode)).x=e%2==0?-176:176,i.y-=127*parseInt(e/2),i.parent=this.cashAmountNode,i.lIndex=e,i.on(cc.Node.EventType.TOUCH_END,this.btnAmountSelect.bind(this),this),this.amountNodeList.push(i));var a=this.amountDataList[e],o=i.getChildByName("label_tip");o.active=a.type>0;var n=i.getChildByName("sprite_type");n.active=a.type>0;var s=i.getChildByName("label_amount").getComponent(cc.Label),c=cc.common.tool.getTwoDecimalPlaces(a.money);s.string=c+"\u5143",a.disable?(console.log("==\u7f6e\u7070\uff0c\u5f53\u524d\u91d1\u989d\u5df2\u7ecf\u63d0\u73b0==",e),n.getComponent(cc.Sprite).spriteFrame=this.amountTipSprite[0],i.getComponent(cc.Sprite).spriteFrame=this.amountSprite[2],i.getChildByName("label_amount").color=new cc.Color(73,74,78,1),o.color=new cc.Color(73,74,78,1)):(n.getComponent(cc.Sprite).spriteFrame=this.amountTipSprite[a.type],i.getComponent(cc.Sprite).spriteFrame=this.amountSprite[0],i.getChildByName("label_amount").color=cc.Color.BLACK,o.color=cc.Color.BLACK),o.getComponent(cc.Label).string=this.amountTipString[a.type],3==a.type&&(o.getComponent(cc.Label).string=a.value+this.amountTipString[a.type])}this.setAmountIndex()},setSelectTypeAndAmount:function(e,t){this.selectType=e,this.selectAmount=t,console.log("==money==",t+"==type=",e)},setAmountIndex:function(){if(this.selectType>=0&&this.selectAmount>0)for(var e=0,t=this.amountDataList.length;e<t;e++)this.amountDataList[e].type==this.selectType&&(3==this.selectType?this.amountDataList[e].money==this.selectAmount&&this.setShowAmount(e):this.setShowAmount(e))},setShowAmount:function(e){this.amountIndex=e;var t=this.amountNodeList[this.amountIndex];t.getComponent(cc.Sprite).spriteFrame=this.amountSprite[1],cc.find("label_amount",t).color=cc.Color.WHITE;var i=this.conditionNode.getChildByName("sprite_signIn");i.active=!1;var a=this.conditionNode.getChildByName("sprite_welfare");if(a.active=!1,this.conditionNode.getChildByName("New Label").active=!0,2==this.amountDataList[e].type){a.active=!0;var o=a.getChildByName("label_condition_desc").getComponent(cc.RichText),n=this.amountDataList[e].value;o.string="<color=#000000>\u53c2\u4e0e\u6bcf\u65e5\u798f\u5229\uff0c\u83b7\u5f97"+n+"\u9897\u7ea2\u5fc3\u5c31\u80fd\u63d0\u73b0\u3002</c><color=#ff0024>\uff08\u5929\u5929\u63d0\uff0c\u4e0d\u9650\u6b21\u6570\uff09</color>",a.getChildByName("progressBar").getComponent(cc.ProgressBar).progress=this.currentHeartNum/n;var s=cc.find("btn_complete_state/Background/Label",a).getComponent(cc.Label),c=a.getChildByName("label_condition_tip").getComponent(cc.Label);this.currentHeartNum>=n?(c.string="\u7ea2\u5fc3\u6570\u91cf\uff1a"+this.currentHeartNum,s.string="\u4eca\u65e5\u5df2\u5b8c\u6210"):(c.string="\u5df2\u83b7\u5f97\u7ea2\u5fc3"+this.currentHeartNum+"\u4e2a\uff0c\u8fd8\u5dee"+(n-this.currentHeartNum)+"\u4e2a",s.string="\u4eca\u65e5\u672a\u5b8c\u6210")}else if(3==this.amountDataList[e].type){i.active=!0;var r=i.getChildByName("label_condition_desc").getComponent(cc.RichText),l=this.amountDataList[e].value;r.string="<color=#000000>\u8fde\u7eed\u6253\u5361"+l+"\u5929\u53ef\u63d0\u73b0\u3002</c><color=#ff0024>\uff08\u6253\u5361\u6761\u4ef6\uff1a\u5f53\u5929\u9886\u53d6"+this.signInData.taskPackNum+"\u4e2a\u7ea2\u5305\uff09</color>",i.getChildByName("progressBar").getComponent(cc.ProgressBar).progress=this.signInData.days/l,cc.find("btn_complete_state/Background/Label",i).getComponent(cc.Label).string=this.signInData.packNum>=this.signInData.taskPackNum?"\u4eca\u65e5\u5df2\u6253\u5361":"\u4eca\u65e5\u672a\u6253\u5361";var h=i.getChildByName("label_condition_tip").getComponent(cc.Label);this.signInData.days>=l?h.string="\u5df2\u6253\u5361\u5929\u6570\uff1a"+this.signInData.days:h.string="\u5df2\u6253\u5361"+this.signInData.days+"\u5929\uff0c\u8fd8\u5dee"+(l-this.signInData.days)+"\u5929"}else this.conditionNode.getChildByName("New Label").active=!1,this.conditionNode.getChildByName("label_tip").getComponent(cc.Label).string="\u65e0\u9700\u4efb\u4f55\u6761\u4ef6"},btnAmountSelect:function(e){var t=e.target.lIndex;if(!this.amountDataList[t].disable){if(cc.common.tool.playAudio(cc.common.audioRes.button),this.amountIndex>=0){var i=this.amountNodeList[this.amountIndex];this.amountDataList[this.amountIndex].disable?(i.getChildByName("sprite_type").getComponent(cc.Sprite).spriteFrame=this.amountTipSprite[0],i.getComponent(cc.Sprite).spriteFrame=this.amountSprite[2],i.getChildByName("label_amount").color=new cc.Color(73,74,78,1),i.getChildByName("label_tip").color=new cc.Color(73,74,78,1)):(i.getComponent(cc.Sprite).spriteFrame=this.amountSprite[0],cc.find("label_amount",i).color=cc.Color.BLACK)}this.setShowAmount(t)}},btnConditionCompltet:function(){cc.common.tool.playAudio(cc.common.audioRes.button);var e=this.amountDataList[this.amountIndex].type,t=this.amountDataList[this.amountIndex].value;2==e&&this.currentHeartNum<t&&(this.node.destroy(),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.DAILYTARGET)),3==e&&this.signInData.days<t&&(this.node.destroy(),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.DAILYSIGNIN))},btnDrawCashCallBack:function(){var e=this;if(cc.common.tool.playAudio(cc.common.audioRes.button),this.amountIndex<0)cc.common.tool.showWordTips("\u8bf7\u5148\u9009\u62e9\u63d0\u73b0\u91d1\u989d\uff01");else{var t=this.amountDataList[this.amountIndex].id,i={id:t,op:this.drawType};cc.common.data.sendOutSeverDataDrawCash(i,function(i){console.log("==\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e=\u63d0\u73b0\u6570\u636e=",JSON.stringify(i)),i.result.disable&&(e.amountDataList[e.amountIndex].disable=!0,e.amountNodeList[e.amountIndex].getComponent(cc.Sprite).spriteFrame=e.amountSprite[2],e.amountNodeList[e.amountIndex].getChildByName("label_amount").color=new cc.Color(73,74,78,1),e.amountNodeList[e.amountIndex].getChildByName("label_tip").color=new cc.Color(73,74,78,1),e.amountNodeList[e.amountIndex].getChildByName("sprite_type").getComponent(cc.Sprite).spriteFrame=e.amountTipSprite[0]),cc.common.data.notificationCenter.emit(UPDATE_DATA_USER_RED,i.result.newMoney);var a=cc.common.tool.getTwoDecimalPlaces(i.result.newMoney);e.redNumLabel.string=a,e.currentHeartNum=i.result.newHeartNum,cc.common.tool.showWordTips("\u63d0\u73b0\u6210\u529f\uff01"),cc.common.tool.gameViewClickData(DATA_ARRANGE.clickDrawCashSuccess,t)})}},btnCloseCallBack:function(){cc.common.tool.playAudio(cc.common.audioRes.button),this.node.destroy(),cc.common.coohuaSdk.removeSdkPrefab()}}),cc._RF.pop()},{}],FileOperation:[function(e,t,i){"use strict";cc._RF.push(t,"a9a9aTAoQJM7odw7Detx2VM","FileOperation"),cc.Class({extends:cc.Component,properties:{},init:function(){console.log("====\u672c\u5730\u6570\u636e\u6301\u4e45\u5316===="),this.SAVE_AUDIO_SWITCH="save_audio_switch",this.SAVE_GUIDE_STEPS="save_guide_steps",this.SAVE_USER_SCORE_KEY="save_user_score_key",this.SAVE_USER_TOTAL_TIME_CONSUMING_KEY="save_user_total_time_consuming_key",this.SAVE_USER_TIME_CONSUMING_KEY="save_user_time_consuming_key",this.SAVE_USER_LEVEL_NUMBER_KEY="save_user_level_number_key",this.SAVE_NEW_PLAYER_GIFT_KEY="save_new_player_gift_key",this.SAVE_USER_PROP_NUMBER_KEY="save_user_prop_number_key",this.SAVE_SQUARE_KEY="save_square_key",this.SAVE_USER_INFO_KEY="save_user_info_key",this.SAVE_USER_ACHIEVEMENT_INFO_KEY="save_user_achievement_info_key",this.SAVE_USER_DAILY_TARGET_KEY="save_user_daily_target_key",this.SAVE_TODAY_DATE_KEY="save_today_date_key",this.SAVE_RED_TIME_KEY="save_red_time_key",this.SAVE_USER_SIGNIN_KEY="save_user_signIn_key",this.SAVE_SHARE_COUNT_KEY="save_share_count_key",this.SAVE_KEY_FRAGMENT_INFO="save_key_fragment_info",this.SAVE_TURN_TABLE_INFO="save_turn_table_info",this.SAVE_INDIANA_INFO="save_indiana_info",this.SAVE_CUMULATIVE_PASS_RED_INFO="savecumulative_pass_red_info",this.SAVE_DRWA_CASH_PASS_INFO="save_draw_cash_pass_info",this.SAVE_LUCKY_DRAW_DATA="save_lucky_draw_data"},isNULL:function(e){return null==e||(void 0===e||("{}"===e||""===e||"/0"===e||("Array"==typeof e&&(e===[]||0===e.length)||(isNaN(e),!1))))},setStorageData:function(e,t){cc.sys.localStorage.setItem(e,t)},setStorageJSONData:function(e,t){cc.sys.localStorage.setItem(e,JSON.stringify(t))},getStorageData:function(e){var t=cc.sys.localStorage.getItem(e);if(1!=this.isNULL(t))return t},getStorageJSONData:function(e){var t=cc.sys.localStorage.getItem(e);if(!0!==this.isNULL(t))return JSON.parse(t)},removeStorageData:function(e){cc.sys.localStorage.removeItem(e)},resetGameData:function(){this.removeStorageData(this.SAVE_USER_SCORE_KEY),this.removeStorageData(this.SAVE_USER_PROP_NUMBER_KEY),this.removeStorageData(this.SAVE_USER_TOTAL_TIME_CONSUMING_KEY),this.removeStorageData(this.SAVE_USER_TIME_CONSUMING_KEY),this.removeStorageData(this.SAVE_USER_LEVEL_NUMBER_KEY),this.removeStorageData(this.SAVE_SQUARE_KEY)},getAudioSwitch:function(){var e=this.getStorageData(this.SAVE_AUDIO_SWITCH);return void 0==e&&(e=1,this.setAudioSwitch(e)),parseInt(e)},setAudioSwitch:function(e){this.setStorageData(this.SAVE_AUDIO_SWITCH,e)},getGuideSteps:function(){var e=this.getStorageData(this.SAVE_GUIDE_STEPS);return void 0==e&&(e=0,this.setGuideSteps(e)),parseInt(e)},setGuideSteps:function(e){this.setStorageData(this.SAVE_GUIDE_STEPS,e)},setUserScore:function(e){this.setStorageData(this.SAVE_USER_SCORE_KEY,e)},getUserScore:function(){var e=this.getStorageData(this.SAVE_USER_SCORE_KEY);return 1==this.isNULL(e)&&(e=0,this.setUserScore(e)),parseInt(e)},setUserTotalTimeConsuming:function(e){this.setStorageData(this.SAVE_USER_TOTAL_TIME_CONSUMING_KEY,e)},getUserTotalTimeConsuming:function(){var e=this.getStorageJSONData(this.SAVE_USER_TOTAL_TIME_CONSUMING_KEY);return 1==this.isNULL(e)&&(e=0,this.setUserTotalTimeConsuming(e)),parseInt(e)},setUserTimeConsuming:function(e){this.setStorageData(this.SAVE_USER_TIME_CONSUMING_KEY,e)},getUserTimeConsuming:function(){var e=this.getStorageJSONData(this.SAVE_USER_TIME_CONSUMING_KEY);return 1==this.isNULL(e)&&(e=0,this.setUserTimeConsuming(e)),parseInt(e)},setUserLevel:function(e){this.setStorageData(this.SAVE_USER_LEVEL_NUMBER_KEY,e)},getUserLevel:function(){var e=this.getStorageData(this.SAVE_USER_LEVEL_NUMBER_KEY);return void 0==e&&(e=0,this.setUserLevel(e)),parseInt(e)},setNewPlayerGift:function(e){this.setStorageData(this.SAVE_NEW_PLAYER_GIFT_KEY,e)},getNewPlayerGift:function(){var e=this.getStorageData(this.SAVE_NEW_PLAYER_GIFT_KEY);return void 0==e&&(e=0,this.setNewPlayerGift(e)),e},setUserPropNumber:function(e){this.setStorageJSONData(this.SAVE_USER_PROP_NUMBER_KEY,e)},getUserPropNumber:function(){var e=this.getStorageJSONData(this.SAVE_USER_PROP_NUMBER_KEY);return void 0==e&&(e={propNumber:0,todayLeftCount:cc.common.data.dailyLeftCount},this.setUserPropNumber(e)),e},setSquareDataArray:function(e){this.setStorageJSONData(this.SAVE_SQUARE_KEY,e)},getSquareDataArray:function(){var e=this.getStorageJSONData(this.SAVE_SQUARE_KEY);if(void 0==e){e=[];for(var t=0;t<SQUARE_X_MAX_SIZE;t++){e[t]=[];for(var i=0;i<SQUARE_Y_MAX_SIZE;i++)e[t][i]=0}this.setSquareDataArray(e)}return e},setUserData:function(e){this.setStorageJSONData(this.SAVE_USER_INFO_KEY,e)},getUserData:function(){var e=this.getStorageJSONData(this.SAVE_USER_INFO_KEY);return void 0==e&&(e={userName:"\u6e38\u5ba2",userIcon:"",redNum:0,integralNum:0,invateCode:""},this.setUserData(e)),e},setUserAchievementData:function(e){this.setStorageJSONData(this.SAVE_USER_ACHIEVEMENT_INFO_KEY,e)},getUserAchievementData:function(){var e=this.getStorageJSONData(this.SAVE_USER_ACHIEVEMENT_INFO_KEY);if(void 0==e){(e={achieveList:new Array,allFinishReward:0}).achieveList=[{achieveNum:0,achievementId:1,credit:1e4,description:"\u9996\u6b21\u8fdb\u5165\u6392\u884c\u699c,\u5956\u52b11\u4e07\u79ef\u5206",status:3,title:"\u699c\u4e0a\u6709\u540d",total:1},{achieveNum:0,achievementId:2,credit:5e3,description:"\u7d2f\u8ba1\u83b7\u5f97500\u5143,\u5956\u52b15\u4e07\u79ef\u5206",status:2,title:"\u751f\u8d22\u6709\u9053",total:500},{achieveNum:0,achievementId:3,credit:1e5,description:"\u9996\u6b21\u6392\u884c\u699c\u7b2c\u4e00\u540d,\u5956\u52b110\u4e07\u79ef\u5206",status:2,title:"\u72ec\u5360\u9ccc\u5934",total:1},{achieveNum:0,achievementId:4,credit:5e5,description:"\u9996\u6b21\u901a\u517310000\u6b21,\u5956\u52b150\u4e07\u79ef\u5206",status:2,title:"\u767e\u6218\u767e\u80dc",total:1e4},{achieveNum:0,achievementId:5,credit:5e6,description:"\u9996\u6b21\u6536\u5f92500\u4e2a,\u5956\u52b1500\u4e07\u79ef\u5206",status:2,title:"\u6843\u674e\u6ee1\u5929\u4e0b",total:500},{achieveNum:0,achievementId:6,credit:5e6,description:"\u8fdb\u5165\u6392\u884c\u699c1000\u6b21,\u5956\u52b1500\u4e07\u79ef\u5206",status:2,title:"\u699c\u4e0a\u5e38\u5ba2",total:1e3},{achieveNum:0,achievementId:7,credit:1e7,description:"\u83b7\u5f97\u6392\u884c\u699c\u7b2c\u4e00\u540d1000\u6b21,\u5956\u52b11000\u4e07\u79ef\u5206",status:2,title:"\u72ec\u5b64\u6c42\u8d25",total:1e3}],this.setUserAchievementData(e)}return e},setUserSignInData:function(e){this.setStorageJSONData(this.SAVE_USER_SIGNIN_KEY,e)},getUserSignInData:function(){var e=this.getStorageJSONData(this.SAVE_USER_SIGNIN_KEY);return void 0==e&&(e={isComplete:!1},this.setUserSignInData(e)),e},setUserDailyTargetData:function(e){this.setStorageJSONData(this.SAVE_USER_DAILY_TARGET_KEY,e)},getUserDailyTargetData:function(){var e=this.getStorageJSONData(this.SAVE_USER_DAILY_TARGET_KEY);if(void 0==e){(e={taskList:new Array,isComplete:!1}).taskList=[{content:"\u9700\u89c2\u770b60\u79d2\u5373\u53ef\u5b8c\u6210",data:{seconds:1,url:"https://new.13384.com/?cid=txw01"},done:!1,effectLevel:0,id:1,reward:1,title:"\u9650\u65f63\u7bc7\u9886\u91d1\u5e01\u3002",type:0},{content:"\u9700\u89c2\u770b60\u79d2\u5373\u53ef\u5b8c\u6210",data:{seconds:1,url:"https://display.intdmp.com/site_login_ijf.htm?app_key=adhu304ed0f14e3643ae"},done:!1,effectLevel:0,id:2,reward:1,title:"\u9650\u65f63\u6b21\u968f\u673a\u9886\u5956\u52b1\u3002",type:0},{content:"\u9700\u89c2\u770b60\u79d2\u5373\u53ef\u5b8c\u6210",data:{seconds:1,url:"http://www.paoba.com/wzxm/"},done:!1,effectLevel:0,id:3,reward:1,title:"\u60ca\uff01\u5fae\u4fe1\u8d5a\u94b1\u8fd9\u4e48\u7b80\u5355",type:0},{content:"\u9700\u89c2\u770b60\u79d2\u5373\u53ef\u5b8c\u6210",data:{seconds:1,url:"https://game.hdbaichuan.cn/show.htm?app_key=f5cca16dbea74eec"},done:!1,effectLevel:0,id:4,reward:1,title:"\u5929\u5929\u62ff\u5927\u5956",type:0},{content:"\u9700\u89c2\u770b60\u79d2\u5373\u53ef\u5b8c\u6210",data:{seconds:1,url:"http://news.51seefuture.com/index.html?code=C1132&videoStyle=0"},done:!1,effectLevel:0,id:5,reward:1,title:"\u770b\u70ed\u70b9\u65b0\u95fb\u62ff\u597d\u793c",type:0},{content:"\u9700\u89c2\u770b60\u79d2\u5373\u53ef\u5b8c\u6210",data:{seconds:1,url:"http://konglong8.514418.com/"},done:!1,effectLevel:0,id:6,reward:1,title:"\u5206\u4eab\uff1a\u5728\u5bb6\u8d5a\u94b1\uff0c\u8f7b\u677e\u53c8\u5feb",type:0}],this.setUserDailyTargetData(e)}return e},setTodayDate:function(e){this.setStorageData(this.SAVE_TODAY_DATE_KEY,e)},getTadayDate:function(){var e=this.getStorageData(this.SAVE_TODAY_DATE_KEY);return void 0==e&&(e=cc.common.todayTime,this.setTodayDate(e)),e},setRedCountDown:function(e){this.setStorageData(this.SAVE_RED_TIME_KEY,e)},getRedCountDown:function(){var e=this.getStorageData(this.SAVE_RED_TIME_KEY);return void 0==e&&(e=cc.common.redCountDownNum,this.setRedCountDown(e)),e},setShareCount:function(e){this.setStorageData(this.SAVE_SHARE_COUNT_KEY,e)},getShareCount:function(){var e=this.getStorageData(this.SAVE_SHARE_COUNT_KEY);return void 0==e&&(e=0,this.setShareCount(e)),e},getFragmentInfo:function(){var e=this.getStorageJSONData(this.SAVE_KEY_FRAGMENT_INFO);if(void 0==e){e=[];for(var t=0;t<9;t++){var i={jigsawType:t,jigsawPuzzle:!1,jigsawPieces:0};e.push(i)}this.setFragmentInfo(e)}return e},setFragmentInfo:function(e){this.setStorageJSONData(this.SAVE_KEY_FRAGMENT_INFO,e)},addFragmentCount:function(e,t){if(!(e<0||e>8)){void 0==t&&(t=1);var i=this.getFragmentInfo();i[e].jigsawPieces+=t,this.setFragmentInfo(i)}},getFragmentTotalNum:function(){var e=this.getStorageJSONData(this.SAVE_KEY_FRAGMENT_INFO);if(void 0==e)return 0;for(var t=0,i=0;i<9;i++)t+=e[i].jigsawPieces;return t},setTurnTableInfo:function(e){this.setStorageJSONData(this.SAVE_TURN_TABLE_INFO,e)},getTurnTableInfo:function(){var e=this.getStorageJSONData(this.SAVE_TURN_TABLE_INFO);return void 0===e&&((e={}).todayDate=null,e.startDate=null,e.endDate=null,e.residueDegree=4,e.prizeNum=[0,0,0,0,0,0],e.manualBottleNum=4,e.doubleNum=5,e.receiveType=0,e.totalLotteryNum=0,e.luckyTaskNum=7),e},setIndianaInfo:function(e){this.setStorageJSONData(this.SAVE_INDIANA_INFO,e)},getIndianaInfo:function(){var e=this.getStorageJSONData(this.SAVE_INDIANA_INFO);return void 0===e&&((e={}).endDateTime=null,e.isParticipation={},e.probability={},e.shareOrPlayAd={}),e},setCumulativePassRed:function(e){this.setStorageData(this.SAVE_CUMULATIVE_PASS_RED_INFO,e)},getCumulativePassRed:function(){var e=this.getStorageData(this.SAVE_CUMULATIVE_PASS_RED_INFO);return void 0==e&&(e=0,this.setCumulativePassRed(e)),e},setDrawCashPassRed:function(e){this.setStorageData(this.SAVE_DRWA_CASH_PASS_INFO,e)},getDrawCashPassRed:function(){var e=this.getStorageData(this.SAVE_DRWA_CASH_PASS_INFO);return void 0==e&&(e=0,this.setDrawCashPassRed(e)),e},setLuckyDrawNum:function(e){this.setStorageData(this.SAVE_LUCKY_DRAW_DATA,e)},getLuckyDrawNum:function(){var e=this.getStorageData(this.SAVE_LUCKY_DRAW_DATA);return void 0==e&&(e=0,this.setDrawCashPassRed(e)),e}}),cc._RF.pop()},{}],FragmentLayer:[function(e,t,i){"use strict";cc._RF.push(t,"59659J/p/JIaqzwcdXXE5zl","FragmentLayer"),cc.Class({extends:cc.Component,properties:{listContent:cc.Node,fragmentSprite:cc.Node,spriteFragmentBg:cc.Node,btnReceiveNode:cc.Node,fragmentSpriteAtlas:cc.SpriteAtlas,fragmentPre:cc.Prefab,materialList:[cc.Material],nodePlayAd:cc.Node},start:function(){this.fragmentInfo=cc.common.fileOperation.getFragmentInfo(),this.fragmentPos=[cc.v2(-112,121),cc.v2(0,114),cc.v2(113,122),cc.v2(-120,0),cc.v2(0,0),cc.v2(122,0),cc.v2(-112,-122),cc.v2(0,-112),cc.v2(112,-121)],this.lightNum=0,this.fragmentNodeList=[this.fragmentSprite];var e=this.listContent.getChildByName("node_fragment");e.fragId=0,e.on(cc.Node.EventType.TOUCH_END,this.touchFragmentCallBack.bind(this),this),this.listContent.width=9*e.width,this.scrowViewNodeList=[e];for(var t=1;t<9;t++){var i=cc.instantiate(this.fragmentSprite);i.parent=this.spriteFragmentBg,i.getComponent(cc.Sprite).spriteFrame=this.fragmentSpriteAtlas.getSpriteFrame("sphb_pintu_cai"+(t+1)),i.setPosition(this.fragmentPos[t]),this.fragmentNodeList.push(i);var a=cc.instantiate(e);a.parent=this.listContent,a.x=.5*e.width+t*e.width,a.y=-75,a.active=!0,a.getChildByName("sprite_fragment").getComponent(cc.Sprite).spriteFrame=this.fragmentSpriteAtlas.getSpriteFrame("sphb_pintu_cai"+(t+1)+"xiao"),a.fragId=t,a.on(cc.Node.EventType.TOUCH_END,this.touchFragmentCallBack.bind(this),this),a.getChildByName("label_num").active=!0,this.scrowViewNodeList.push(a)}this.updateFragmentShow()},updateFragmentShow:function(){for(var e=0,t=0;t<9;t++){var i=this.scrowViewNodeList[t];this.fragmentInfo[t].jigsawPieces<=0?i.getChildByName("sprite_fragment").getComponent(cc.Sprite).setMaterial(0,this.materialList[0]):i.getChildByName("sprite_fragment").getComponent(cc.Sprite).setMaterial(0,this.materialList[1]),i.getChildByName("label_num").getComponent(cc.Label).string="x"+this.fragmentInfo[t].jigsawPieces,this.fragmentNodeList[t].active=this.fragmentInfo[t].jigsawPuzzle,this.fragmentInfo[t].jigsawPuzzle&&e++}cc.common.fileOperation.setFragmentInfo(this.fragmentInfo),this.btnReceiveNode.getComponent(cc.Button).interactable=e>=9,e>=9&&this.btnFragmentRedReceive()},fragmentAni:function(e,t){var i=this,a=this.node.getChildByName("node_bg").getChildByName("fragment"),o=cc.instantiate(a);o.parent=this.node.getChildByName("node_bg"),o.getComponent(cc.Sprite).spriteFrame=this.fragmentSpriteAtlas.getSpriteFrame("sphb_pintu_cai"+(t+1)+"xiao"),o.active=!0;var n=e.parent.convertToWorldSpaceAR(e.position),s=o.parent.convertToNodeSpaceAR(n);o.position=s,cc.tween(o).to(.3,{position:this.fragmentPos[t],angle:720}).call(function(){i.updateFragmentShow(),o.removeFromParent()}).start()},touchFragmentCallBack:function(e){var t=this;console.log("==\u788e\u7247Id=",e.target.fragId);var i=e.target.fragId,a=function(t){0==this.fragmentInfo[t].jigsawPuzzle?(this.fragmentInfo[t].jigsawPuzzle=!0,this.fragmentInfo[t].jigsawPieces-=1,this.fragmentAni(e.target,t)):this.updateFragmentShow()}.bind(this);if(this.fragmentInfo[i].jigsawPieces>0)a(i);else{cc.common.tool.playVideoAd(function(){t.fragmentInfo[i].jigsawPieces+=1,a(i)},null)}},btnLeftClick:function(){this.listContent.x=-225},btnRightClick:function(){this.listContent.x=-225-this.listContent.width+450},btnCloseAdClick:function(){this.nodePlayAd.active=!1},btnPlayAdClick:function(){var e=this,t=this.nodePlayAd.addList;if(!(t.length<=0)){var i=t[0],a=function(e){0==this.fragmentInfo[e].jigsawPuzzle?(this.fragmentInfo[e].jigsawPuzzle=!0,this.fragmentInfo[e].jigsawPieces-=1,this.fragmentAni(this.listContent.children[e],e)):this.updateFragmentShow()}.bind(this);if(this.fragmentInfo[i].jigsawPieces>0)a(i);else{cc.common.tool.playVideoAd(function(){t.splice(0,1),e.nodePlayAd.getChildByName("lab").getComponent(cc.RichText).string="<color=#686b93>\u8fd8\u5dee</c><color=#ff0000>".concat(t.length,"</color><color=#686b93>\u4e2a\u788e\u7247\u5c31\u53ef\u4ee5\u5b8c\u6210\u62fc\u56fe\u4e86</color>"),t.length<=0&&(e.nodePlayAd.active=!1),e.fragmentInfo[i].jigsawPieces+=1,a(i)},null)}}},btnOneClickPuzzle:function(){for(var e=[],t=0;t<9;t++)!this.fragmentNodeList[t].active&&this.fragmentInfo[t].jigsawPieces<=0&&e.push(t),this.fragmentNodeList[t].active||this.fragmentInfo[t].jigsawPieces<=0||0==this.fragmentInfo[t].jigsawPuzzle&&(this.fragmentInfo[t].jigsawPuzzle=!0,this.fragmentInfo[t].jigsawPieces-=1,this.fragmentAni(this.listContent.children[t],t));this.updateFragmentShow(),e.length>0&&(this.nodePlayAd.active=!0,this.nodePlayAd.addList=e,this.nodePlayAd.getChildByName("lab").getComponent(cc.RichText).string="<color=#686b93>\u8fd8\u5dee</c><color=#ff0000>".concat(e.length,"</color><color=#686b93>\u4e2a\u788e\u7247\u5c31\u53ef\u4ee5\u5b8c\u6210\u62fc\u56fe\u4e86</color>"))},btnFragmentRedReceive:function(){var e=function(e){var t=this;console.log("==\u9886\u53d6\u7ea2\u5305==",JSON.stringify(e)),cc.common.data.notificationCenter.emit(UPDATE_DATA_USER_RED,e.result.newMoney),this.fragment=cc.instantiate(this.fragmentPre),this.fragment.parent=this.node.getChildByName("node_bg"),this.fragment.y=0;var i=this.fragment.getChildByName("main_jiaqiandi").getChildByName("lab"),a=cc.common.tool.getTwoDecimalPlaces(e.result.money);i.getComponent(cc.Label).string="+".concat(a),this.fragment.getComponent(cc.Animation).on("finished",function(){t.fragment.removeFromParent()});for(var o=0;o<9;o++)this.fragmentInfo[o].jigsawPuzzle=!1;this.updateFragmentShow()}.bind(this);cc.common.data.requestSeverDataFragmentRed(e)},btnFragmentHelp:function(){this.node.getChildByName("node_help").active=!0},btnCloseFragmentHelp:function(){this.node.getChildByName("node_help").active=!1},btnCloseCallBack:function(){cc.common.tool.playAudio(cc.common.audioRes.button),this.node.destroy(),cc.common.coohuaSdk.removeSdkPrefab()}}),cc._RF.pop()},{}],GameContans:[function(e,t,i){"use strict";cc._RF.push(t,"964a1VveblLjI1y/Wt0uSuB","GameContans");var a={ColorName:["","0","1","2","3","4","5"],ColorType:["","blue","pink","green","red","yellow","purple"]};t.exports=a,cc._RF.pop()},{}],GameScene:[function(e,t,i){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","GameScene");var a=e("SquareSprite"),o=10,n=15,s=20;cc.Class({extends:cc.Component,properties:{subsidiaryPrefab:cc.Prefab,redCountDownLabel:cc.Label,rankValueLabel:cc.Label,userIconSprite:cc.Sprite,userNameLabel:cc.Label,userRedLabel:cc.Label,levelLabel:cc.Label,topLayer:cc.Node,gameNode:cc.Node,maskNode:cc.Node,levelAniNode:cc.Node,singleNode:cc.Node,closeNode:cc.Node,webView:cc.Node,backGround:cc.Sprite,rankListBg:cc.Sprite,elementLayer:cc.Node,gameProgress:cc.Node,fragmentBtn:cc.Button,fragmentSpr:[cc.SpriteFrame],fragment:cc.Node,fontSpine:sp.Skeleton,clickSpine:sp.Skeleton,guideSpine:sp.Skeleton,fragmentNumLabel:cc.Label,nodeRed:cc.Node,squarePrefab:cc.Prefab},onLoad:function(){var e=this;this.bgmAudioId=0,this.subLayerId=0,this.subsidiaryLayer=null,this.redCountDown=cc.common.fileOperation.getRedCountDown(),this.redIsShow=!1,this.levelNum=cc.common.fileOperation.getUserLevel()+1,this.scoreNum=cc.common.fileOperation.getUserScore(),this.CumulativePass=cc.common.fileOperation.getCumulativePassRed(),this.drawCashPass=cc.common.fileOperation.getDrawCashPassRed();var t=0;if(this.topLayer.getChildByName("node_userInfo").on(cc.Node.EventType.TOUCH_END,function(i){if(++t>=5){var a=cc.find("node_userInfo/label_user_id",e.topLayer);a.active=!0,a.getComponent(cc.Label).string=cc.common.data.httpHeader.accessKey.split("_")[1]}},this),this.fragmentNumLabel.string=""+cc.common.fileOperation.getFragmentTotalNum(),this.setIsShowHome(!0),cc.common.data.notificationCenter.on(UPDATE_HOME_SHOW,this.setIsShowHome.bind(this),this),cc.common.data.notificationCenter.on(UPDATE_HOME_ANIMATION_SHOW,this.setAnimationShow.bind(this),this),cc.common.data.notificationCenter.on(UPDATE_DATA_USER_RED,this.setPlayerRedNum.bind(this),this),!cc.common.data.gameExamine){cc.common.data.requestSeverDataMainUser(function(t){e.setGameDataBySever(t)}),cc.common.data.requestSeverDrawCashTurnTableStatus(function(t){console.log("-----data----"+JSON.stringify(t)),e.drawCashPass=t.result.curLevel,cc.common.fileOperation.setDrawCashPassRed(t.result.curLevel),e.needLevel=t.result.needLevel,e.updateNodeRedPro()})}cc.common.data.registerHandler(),cc.common.coohuaSdk.node.active=!1,this.scoreNumList=[5,15,25,35,45,45,45,45,45,45],this.winScore=1600,this.soArray=[],this.squareArray=[],this.squareTypeArray=[],this.blockSize=cc.size(80,80),this.maxCol=9,this.maxRow=9,this.moveTime=SQUARE_MOVE_TIME,this.elementSize=cc.size(this.maxCol*this.blockSize.width,this.maxRow*this.blockSize.height),this.touchGride=[],this.progressY=this.gameProgress.y+34,this.starPool=new cc.NodePool;for(var i=0;i<10;++i){var a=cc.instantiate(cc.common.prefabRes.sprite_score_star);this.starPool.put(a)}this.blasPool=new cc.NodePool;for(var o=0;o<10;++o){var n=cc.instantiate(this.clickSpine.node);this.blasPool.put(n)}this.elementLayer.on(cc.Node.EventType.TOUCH_START,this.onTouchStart.bind(this),this.elementLayer)},start:function(){this.bgmAudioId=cc.audioEngine.playMusic(cc.common.audioRes.bgm,!0),this.maskNode.active=!0;for(var e=0;e<9;e++){this.soArray[e]=[];for(var t=0;t<9;t++){var i=cc.instantiate(this.squarePrefab);i.parent=this.elementLayer,this.soArray[e][t]=i}}this.setGameExamineShow(),this.updateGameData(),this.initGameData(),this.setAnimationShow()},setGameExamineShow:function(){cc.common.data.gameExamine&&(cc.find("topLayer/btn_red",this.node).active=!1,cc.find("topLayer/node_userInfo/sprite_tx",this.node).active=!1,cc.find("topLayer/node_userInfo/button_tx",this.node).active=!1,cc.find("topLayer/btn_snatch_treasure",this.node).active=!1,cc.find("topLayer/btn_fragment",this.node).active=!1,cc.find("layout_button",this.node).active=!1,this.setPlayerRedNum(0),this.singleNode.active=!0)},setGameDataBySever:function(e){console.log("==\u8bf7\u6c42\u670d\u52a1\u7aef\u6570\u636e=\u6e38\u620f\u754c\u9762\u7528\u6237\u6570\u636e=",JSON.stringify(e));var t={userName:e.result.userInfo.name||"\u6e38\u5ba2",userIcon:e.result.userInfo.photoUrl||"",redNum:e.result.userInfo.money,integralNum:0,invateCode:""};cc.common.fileOperation.setUserData(t),1!=e.result.newPlayer||cc.common.data.gameExamine?this.setPlayerRedNum(t.redNum):(this.userRedLabel.string="0\u5143",this.showSubsidiaryLayer(5)),!0===e.result.hiddenRank&&(this.rankListBg.node.parent.active=!1),!cc.common.tool.isNULL(e.result.totalLevel)&&e.result.totalLevel>=0&&(cc.common.fileOperation.setUserLevel(e.result.totalLevel),this.levelNum=e.result.totalLevel+1,console.log("---------levelNum-----------"+this.levelNum)),this.userNameLabel.string=t.userName,cc.common.tool.httpRecvImg(t.userIcon,this.userIconSprite);var i=cc.common.tool.getTwoDecimalPlaces(e.result.yesterdayMoney);this.rankValueLabel.string=i+"\u5143",1!=e.result.canPublicRank||e.result.hiddenRank||this.showSubsidiaryLayer(4),this.totalHeart=e.result.totalHeart,this.maxHeart=e.result.maxHeart,this.updateDoubleRedNum()},updateDoubleRedNum:function(){var e=cc.find("layout_button/btn_double/bg/lab",this.node);this.totalHeart?e.getComponent(cc.Label).string="X".concat(this.totalHeart+1):e.getComponent(cc.Label).string="X1"},setPlayerRedNum:function(e){var t=cc.common.fileOperation.getUserData();if(e>t.redNum&&cc.common.tool.playAudio(cc.common.audioRes.add_cash),cc.common.data.gameExamine)t.redNum+=e,this.userRedLabel.string=t.redNum+"\u79ef\u5206";else{t.redNum=e;var i=cc.common.tool.getTwoDecimalPlaces(t.redNum);this.userRedLabel.string=i+"\u5143"}cc.common.fileOperation.setUserData(t)},setIsShowHome:function(e){e&&(cc.common.tool.gameViewShowData(DATA_ARRANGE.showGameHome),this.fragmentNumLabel.string=cc.common.fileOperation.getFragmentTotalNum()),cc.common.tool.gameMainLayerIsShow(e),cc.common.data.tvRedData&&(this.redIsShow=!0,this.showSubsidiaryLayer(3))},updateGameData:function(){var e=this;this.subLayerId=0,this.subsidiaryLayer=null,this.levelLabel.string="\u7b2c"+this.levelNum+"\u5173",this.levelAniNode.getChildByName("label_level").getComponent(cc.Label).string="\u7b2c"+this.levelNum+"\u5173";var t=cc.v2(1e3,0);this.levelAniNode.stopAllActions(),this.levelAniNode.x=-1e3,cc.tween(this.levelAniNode).by(1,{position:t},{easing:"cubicIn"}).delay(1.5).by(1,{position:t},{easing:"cubicIn"}).call(function(){e.levelAniNode.x=-1e3}).start(),this.levelAniNode.zIndex=s},playNextLevelGame:function(e,t){var i=this;if(console.log("==\u8fdb\u5165\u6e38\u620f\u4e0b\u4e00\u5173==",e),cc.audioEngine.resumeMusic(this.bgmAudioId),e>0)if(cc.common.data.gameExamine)cc.common.tool.showWordTips(e,!0),this.setPlayerRedNum(e);else{cc.common.data.sendOutSeverDataGameRed(e,function(t){console.log("==\u9886\u53d6\u7ed3\u7b97\u5956\u52b1===",JSON.stringify(t)),cc.common.tool.showWordTips(e,!0),i.setPlayerRedNum(t.result.newMoney)})}if(t)return this.CumulativePass=0,cc.common.fileOperation.setCumulativePassRed(this.CumulativePass),void this.updateNodeRedPro();this.levelNum++,cc.common.fileOperation.setUserLevel(this.levelNum),this.scoreNum=0,cc.common.fileOperation.setUserScore(this.scoreNum),this.updateGameData(),this.initGameData(!0),this.CumulativePass<12&&this.CumulativePass++,cc.common.fileOperation.setCumulativePassRed(this.CumulativePass),this.drawCashPass<this.needLevel&&this.drawCashPass++,console.log("------------drawCashPass-------"+this.drawCashPass),cc.common.fileOperation.setDrawCashPassRed(this.drawCashPass),this.updateNodeRedPro()},replayLevelGame:function(){console.log("==\u91cd\u73a9\u672c\u5173=="),cc.audioEngine.resumeMusic(this.bgmAudioId),cc.common.fileOperation.setUserLevel(this.levelNum),this.scoreNum=0,cc.common.fileOperation.setUserScore(this.scoreNum),this.updateGameData()},updateTime:function(){},showSubsidiaryLayer:function(e,t){1!=e&&2!=e||cc.audioEngine.pauseMusic(this.bgmAudioId),this.subsidiaryLayer?this.subLayerId>2&&(this.subsidiaryLayer.getComponent("SubsidiaryLayer").setShowLayer(e),this.subLayerId=e):(this.subLayerId=e,this.subsidiaryLayer=cc.instantiate(this.subsidiaryPrefab),this.subsidiaryLayer.parent=this.node,this.subsidiaryLayer.zIndex=s,t&&(this.subsidiaryLayer.getComponent("SubsidiaryLayer").isCumulativePass=!0))},btnRedCountDown:function(){console.log("==\u89e6\u6478\u7ea2\u5305\u4e86=="),cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.tool.gameViewClickData(DATA_ARRANGE.clickCountDownRed,""),this.redCountDown<=0?(this.redIsShow=!0,this.showSubsidiaryLayer(3)):cc.common.tool.showWordTips("\u8fd8\u5dee"+this.redCountDownLabel.string+"\u53ef\u9886\u53d6\u7ea2\u5305")},btnLucklyRedCallBack:function(){console.log("==\u89e6\u6478\u5e78\u8fd0\u7ea2\u5305\u4e86=="),cc.common.tool.playAudio(cc.common.audioRes.button),this.btnLucklyRedNode.active=!1,this.redIsShow=!0,this.showSubsidiaryLayer(6)},btnTurnTableCallBack:function(){cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.TURNTABLE)},btnIndianaCallBack:function(){cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.INDIANA)},btnFragmentCallBack:function(){cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.FRAGMENTRED)},setAnimationShow:function(){},btnDrawCashCallBack:function(e){console.log("==\u70b9\u51fb\u63d0\u73b0\u6309\u94ae=="),cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.data.gameExamine||cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.DRAWCASH)},btnRankingListCallBack:function(){console.log("==\u70b9\u51fb\u6392\u884c\u699c\u6309\u94ae=="),cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.RANKINGLIST)},btnDailySignInCallBack:function(){console.log("==\u70b9\u51fb\u6253\u5361\u6309\u94ae=="),cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.DAILYSIGNIN)},btnDailyTargetCallBack:function(){console.log("==\u70b9\u51fb\u6bcf\u65e5\u76ee\u6807\u6309\u94ae=="),cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.DAILYTARGET)},btnInviteFriendCallBack:function(){console.log("==\u70b9\u51fb\u9080\u8bf7\u597d\u53cb\u6309\u94ae=="),cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.INVITEFRIEND)},btnYSCallBack:function(){console.log("==\u70b9\u51fb\u9690\u79c1\u6309\u94ae=="),cc.common.tool.playAudio(cc.common.audioRes.button),this.webView.active=!0,this.closeNode.active=!0,this.webView.getComponent(cc.WebView).url="http://tgxxx.hainanliangyou.com/tgxxx/private.html"},btnXYCallBack:function(){console.log("==\u70b9\u51fb\u534f\u8bae\u6309\u94ae=="),cc.common.tool.playAudio(cc.common.audioRes.button),this.webView.active=!0,this.closeNode.active=!0,this.webView.getComponent(cc.WebView).url="http://tgxxx.hainanliangyou.com/tgxxx/user.html"},btnGBCallBack:function(){console.log("==\u70b9\u51fb\u5173\u95ed\u6309\u94ae=="),cc.common.tool.playAudio(cc.common.audioRes.button),this.webView.active=!1,this.closeNode.active=!1},onDestroy:function(){this.unscheduleAll()},checkEliminate:function(){this.touchGride[0]&&!this.isEliminateing&&(this.eliminateType=this.squareTypeArray[this.touchGride[0].x][this.touchGride[0].y],console.log("=\u6d88\u9664\u68c0\u6d4b==",this.eliminateType+"=xxx==",this.touchGride[0].x+"=yy=",this.touchGride[0].y),this.canEGridList=[-1,-1,-1,-1,-1,-1,-1,-1,-1],this.canEGridList[this.touchGride[0].x]=this.touchGride[0].x,this.getSameTypeBlockList(this.touchGride[0].x,this.touchGride[0].y),this.isCanEliminate?(this.isEliminateing=!0,this.guideSpine.node.active=!1,cc.common.fileOperation.setGuideSteps(1),this.isCanEliminate=!1,this.shardDrop()):(this.squareTypeArray[this.touchGride[0].x][this.touchGride[0].y]=this.eliminateType,cc.common.tool.playAudio(cc.common.audioRes.clickwrong)),this.touchGride.splice(0,1))},shardDrop:function(){for(var e=this,t=0,i=0,o=[],s=0;s<this.canEGridList.length;s++){var c=this.canEGridList[s];if(!(void 0==c||c<0||c>=this.maxCol))for(var r=this.maxRow-1;r>=0;r--){var l=this.squareArray[c][r].getComponent(a).getSquareType();0==this.squareTypeArray[c][r]&&l>0&&(o.push(this.squareArray[c][r]),0,this.eliminateSquareNum++,t++)}}for(var h=function(t){var s=o[t].getPosition();setTimeout(function(){var e=o[t].getComponent(a).getSquareColor();this.addEliminationEffect(s,e,!1);var c=null;c=this.starPool.size()>0?this.starPool.get():cc.instantiate(cc.common.prefabRes.sprite_score_star);var r=Math.min(t,this.scoreNumList.length-1);i+=this.scoreNumList[r],c.getChildByName("label_score").getComponent(cc.Label).string=this.scoreNumList[r],c.parent=this.elementLayer,c.setPosition(s),c.zIndex=n;var l=cc.callFunc(function(){this.starPool.put(c)},this),h=cc.moveTo(.4,cc.v2(0,this.progressY));c.runAction(cc.sequence(cc.delayTime(.4),h.easing(cc.easeIn(2)),l));var d=o[t].getComponent(a).getCol(),m=o[t].getComponent(a).getRow();this.squareTypeArray[d].splice(m,1),this.squareTypeArray[d].push(0);var u=this.squareArray[d].splice(m,1)[0];this.squareArray[d].push(u);for(var p=m;p<this.maxRow;p++){var g=this.gridConvertToPoint(d,p);this.squareArray[d][p].stopAllActions();var f=cc.moveTo(this.moveTime,g);this.squareArray[d][p].getComponent(a).setRow(p),this.squareArray[d][p].getComponent(a).setSquareType(this.squareTypeArray[d][p]);var y=cc.callFunc(function(){});this.squareArray[d][p].runAction(cc.sequence(f.easing(cc.easeBackInOut()),y))}}.bind(e),50*t)},d=0;d<o.length;d++)h(d);if(t>=4){this.fontSpine.node.active=!0;var m=t>=5?"excellent":"good",u=t>=5?"perfect":"great";this.fontSpine.setAnimation(0,m,!1),cc.common.tool.playAudio(cc.common.audioRes[u]),this.fontSpine.setCompleteListener(function(){this.fontSpine.node.active=!1}.bind(this))}this.scheduleOnce(function(){e.squareMoveToLeft(),e.scoreNum+=isNaN(i)?0:i,cc.common.fileOperation.setUserScore(e.scoreNum),e.gameProgress.getChildByName("label_score").getComponent(cc.Label).string="("+e.scoreNum+"/"+e.winScore+")";var t=e.scoreNum/e.winScore;e.gameProgress.getChildByName("bar").getComponent(cc.Sprite).fillRange=t,cc.common.fileOperation.setSquareDataArray(e.squareTypeArray)},.05*t+this.moveTime)},squareMoveToLeft:function(){for(var e=8;e>=0;e--){var t=this.canEGridList[e];if(!(t<0||t>=this.maxCol)&&0==this.squareTypeArray[t][0]){var i=this.squareTypeArray.splice(t,1)[0];this.squareTypeArray.push(i);var o=this.squareArray.splice(t,1)[0];this.squareArray.push(o)}}if(this.allEliminate=this.isHaveEliminate(),this.allEliminate){this.maskNode.active=!0;var n=this.eliminateSquareNum>=this.maxRow*this.maxRow?.8:1.5;this.scheduleOnce(this.showResultLayer,n)}else this.scheduleOnce(this.checkEliminate,2*this.moveTime);for(e=0;e<this.maxCol;e++)for(var s=0;s<this.maxRow;s++){this.squareArray[e][s].stopAllActions(),this.squareArray[e][s].getComponent(a).setColRow(e,s);var c=this.gridConvertToPoint(e,s),r=cc.moveTo(this.moveTime,c),l=cc.callFunc(function(e){if(console.log("=\u79fb\u52a8\u7ed3\u675f\uff0c\u8be5\u7206\u70b8\u4e86=allEliminate=",this.allEliminate),this.allEliminate){var t=e.getPosition(),i=e.getComponent(a).getSquareColor();this.addEliminationEffect(t,i,!0),e.getComponent(a).setSquareType(0)}else this.isEliminateing=!1},this);this.squareArray[e][s].runAction(cc.sequence(r.easing(cc.easeBackInOut()),l))}},showResultLayer:function(){null==this.resultLayer&&this.allEliminate&&(cc.audioEngine.pauseMusic(this.bgmAudioId),cc.common.tool.playAudio(cc.common.audioRes.pass_all_level),this.showSubsidiaryLayer(1))},isHaveEliminate:function(){for(var e=0;e<this.maxCol;e++)for(var t=0;t<this.maxRow;t++)if(e<this.maxCol-1&&t<this.maxRow-1){var i=this.squareTypeArray[e][t],a=this.squareTypeArray[e+1][t],o=this.squareTypeArray[e][t+1];if(i>0&&(i==a||i==o))return!1}return!0},addEliminationEffect:function(e,t,i){var a=this;cc.common.tool.playAudio(cc.common.audioRes.click_break);var o=null;(o=this.blasPool.size()>0?this.blasPool.get():cc.instantiate(this.clickSpine.node)).setPosition(e),o.parent=this.elementLayer,o.zIndex=n,o.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),o.getComponent(sp.Skeleton).setCompleteListener(function(){a.blasPool.put(o)});var s=cc.instantiate(cc.common.prefabRes["particle_"+t]);s.parent=this.elementLayer,s.zIndex=n,s.setPosition(e),this.createPieceRed(e)},getSameTypeBlockList:function(e,t){e>=0&&e<this.maxRow&&t>=0&&t<this.maxRow?(this.squareTypeArray[e][t]=0,this.judgeBlockIsSame(e+1,t),this.judgeBlockIsSame(e-1,t),this.judgeBlockIsSame(e,t+1),this.judgeBlockIsSame(e,t-1)):console.log("==\u4e0d\u7b26\u5408\u6761\u4ef6==",e+", "+t)},judgeBlockIsSame:function(e,t){e>=0&&e<this.maxRow&&t>=0&&t<this.maxRow&&this.eliminateType>0&&this.eliminateType==this.squareTypeArray[e][t]&&(this.isCanEliminate=!0,this.squareTypeArray[e][t]=0,this.canEGridList[e]=e,this.getSameTypeBlockList(e,t))},pointConvertToGrid:function(e){var t=cc.v2(0,0);return t.x=Math.floor((.5*this.elementSize.width+e.x)/this.blockSize.width),t.y=Math.floor((.5*this.elementSize.height+e.y)/this.blockSize.height),t},gridConvertToPoint:function(e,t){var i=cc.size(.5*-this.elementSize.width+.5*this.blockSize.width,.5*-this.elementSize.height+.5*this.blockSize.height);return cc.v2(i.width+e*this.blockSize.width,i.height+t*this.blockSize.height)},onTouchStart:function(e){var t=this.elementLayer.convertToNodeSpaceAR(e.getLocation()),i=this.pointConvertToGrid(t);this.squareTypeArray[i.x][i.y]>0&&!this.isEliminateing&&(this.touchGride.push(i),this.checkEliminate())},initGameData:function(e){var t=this;this.squareArray=[];var i=cc.common.fileOperation.getSquareDataArray();this.squareTypeArray=[],console.log("==\u521d\u59cb\u5316\u65b9\u5757\u6570\u636e==");for(var n=cc.common.tool.createRandomNumber(1,3),s=0;s<this.maxCol;s++){this.squareArray[s]=[],this.squareTypeArray[s]=[];for(var c=0;c<this.maxRow;c++){e||0==i[s][c]||void 0==i[s][c]||null==i[s][c]?(s%3!=0&&c%3==0||s%3==0&&c%3!=0||s%3==0&&c%3==0&&s==c)&&(n=cc.common.tool.createRandomNumber(1,3)):n=i[s][c];var r=this.gridConvertToPoint(s,c+9),l=this.soArray[s][c];l.zIndex=o,l.setPosition(r);var h=l.getComponent(a);h.setColRow(s,c),h.setSquareType(n),this.squareTypeArray[s][c]=n;var d=this.gridConvertToPoint(s,c),m=.05*s+.05*c;l.stopAllActions(),cc.tween(l).delay(m).to(.4,{position:d},{easing:"quadIn"}).call(function(e){var i=e.getComponent("SquareSprite");i.getRow()==t.maxRow-1&&i.getCol()==t.maxCol-1&&(t.maskNode.active=!1)}).start(),this.squareArray[s][c]=l}}cc.common.fileOperation.setSquareDataArray(this.squareTypeArray),this.levelAniNode.getChildByName("label_level").getComponent(cc.Label).string="\u7b2c"+this.levelNum+"\u5173";var u=cc.v2(0,-220),p=cc.v2(1e3,-220);this.levelAniNode.stopAllActions(),cc.tween(this.levelAniNode).to(1,{position:u},{easing:"cubicIn"}).delay(1.5).to(1,{position:p},{easing:"cubicIn"}).call(function(){t.levelAniNode.x=-1e3}).start(),this.levelLabel.string="\u7b2c"+this.levelNum+"\u5173",this.resultLayer=null,this.eliminateSquareNum=0,this.isEliminateing=!1,this.gameProgress.getChildByName("label_score").getComponent(cc.Label).string="("+this.scoreNum+"/"+this.winScore+")";var g=this.scoreNum/this.winScore;this.gameProgress.getChildByName("bar").getComponent(cc.Sprite).fillRange=g},createPieceRed:function(e){if(parseInt(100*Math.random()+1,10)<=1){var t=Math.floor(7*Math.random());t>=7&&(t=6),cc.common.fileOperation.addFragmentCount(t,1),this.fragmentNumLabel.string=cc.common.fileOperation.getFragmentTotalNum();var i=this.node.getChildByName("node_game").convertToWorldSpaceAR(e),a=this.fragmentBtn.node.parent.convertToNodeSpaceAR(i),o=cc.instantiate(this.fragment);o.getChildByName("spr").getComponent(cc.Sprite).spriteFrame=this.fragmentSpr[t],o.active=!0,o.parent=this.node.getChildByName("topLayer"),o.position=a;var n=this.fragmentBtn.node.position;cc.tween(o).to(.5,{position:n,angle:-1440}).call(function(){o.removeFromParent()}).start()}},updateNodeRedPro:function(){var e=cc.common.fileOperation.getDrawCashPassRed();if(e==this.needLevel)this.nodeRed.getChildByName("lab").getComponent(cc.Label).string="\u53ef\u4ee5\u9886\u53d6\u4e86\u54e6",this.nodeRed.getChildByName("progress").getComponent(cc.ProgressBar).progress=1,this.nodeRed.getChildByName("spr").x=145;else{var t=this.needLevel-e;this.nodeRed.getChildByName("lab").getComponent(cc.Label).string="\u7ee7\u7eed\u901a\u8fc7".concat(t,"\u5173,\u518d\u6b21\u9886\u53d6\u54e6"),this.nodeRed.getChildByName("progress").getComponent(cc.ProgressBar).progress=e/this.needLevel,this.nodeRed.getChildByName("spr").x=e/this.needLevel*300-150-5}},redClick:function(){cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.fileOperation.getDrawCashPassRed()<this.needLevel?cc.common.tool.showWordTips("\u6761\u4ef6\u4e0d\u6ee1\u8db3\uff0c\u5feb\u53bb\u901a\u5173\u5427",!1):cc.common.data.gameExamine||cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.DRAWCASH)}}),cc._RF.pop()},{SquareSprite:"SquareSprite"}],HttpHelper:[function(e,t,i){"use strict";cc._RF.push(t,"b08b288c55Mranzt3d0eMUS","HttpHelper");var a=cc.Class({extends:cc.Component,statics:{},properties:{},httpGet:function(e,t){cc.common.coohuaSdk.showNetworkLoading(!0);var i=cc.loader.getXMLHttpRequest();i.onload=function(){if(4===i.readyState&&200==i.status){var e=i.responseText,a=JSON.parse(e);cc.common.coohuaSdk.showNetworkLoading(!1),0==a.code?t(a):cc.common.tool.showWordTips(a.message)}else cc.common.coohuaSdk.showNetworkLoading(!1),cc.common.tool.showWordTips("\u670d\u52a1\u5668\u5f02\u5e38")},i.withCredentials=!1,i.open("GET",e,!0),i.setRequestHeader("appId",cc.common.data.httpHeader.appId||0),i.setRequestHeader("pkgId",cc.common.data.httpHeader.pkgId||0),i.setRequestHeader("deviceId",cc.common.data.httpHeader.deviceId||"default"),i.setRequestHeader("brand",cc.common.data.httpHeader.brand||"default"),i.setRequestHeader("gps",cc.common.data.httpHeader.gps||"default"),i.setRequestHeader("bs",cc.common.data.httpHeader.bs||"default"),i.setRequestHeader("appVersion",cc.common.data.httpHeader.appVersion||"default"),i.setRequestHeader("os",cc.common.data.httpHeader.os||"default"),i.setRequestHeader("channel",cc.common.data.httpHeader.channel||"default"),i.setRequestHeader("romVersion",cc.common.data.httpHeader.romVersion||"default"),i.setRequestHeader("osVersion",cc.common.data.httpHeader.osVersion||"default"),i.setRequestHeader("accessKey",cc.common.data.httpHeader.accessKey),i.timeout=5e3,i.ontimeout=function(e){cc.common.coohuaSdk.showNetworkLoading(!1),cc.common.tool.showWordTips("\u670d\u52a1\u5668\u8bf7\u6c42\u8d85\u65f6")},i.send()},httpPost:function(e,t,i){cc.common.coohuaSdk.showNetworkLoading(!0);var a=cc.loader.getXMLHttpRequest();a.onload=function(){if(200==a.status){var e=a.responseText;cc.common.coohuaSdk.showNetworkLoading(!1);var t=JSON.parse(e);0==t.code?i(t):cc.common.tool.showWordTips(t.message)}else cc.common.coohuaSdk.showNetworkLoading(!1),cc.common.tool.showWordTips("\u670d\u52a1\u5668\u5f02\u5e38")},a.timeout=5e3,a.ontimeout=function(e){cc.common.coohuaSdk.showNetworkLoading(!1),cc.common.tool.showWordTips("\u670d\u52a1\u5668\u8bf7\u6c42\u8d85\u65f6")},a.open("POST",e,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("appId",cc.common.data.httpHeader.appId||0),a.setRequestHeader("pkgId",cc.common.data.httpHeader.pkgId||0),a.setRequestHeader("deviceId",cc.common.data.httpHeader.deviceId||"default"),a.setRequestHeader("brand",cc.common.data.httpHeader.brand||"default"),a.setRequestHeader("gps",cc.common.data.httpHeader.gps||"default"),a.setRequestHeader("bs",cc.common.data.httpHeader.bs||"default"),a.setRequestHeader("appVersion",cc.common.data.httpHeader.appVersion||"default"),a.setRequestHeader("os",cc.common.data.httpHeader.os||"default"),a.setRequestHeader("channel",cc.common.data.httpHeader.channel||"default"),a.setRequestHeader("romVersion",cc.common.data.httpHeader.romVersion||"default"),a.setRequestHeader("osVersion",cc.common.data.httpHeader.osVersion||"default"),a.setRequestHeader("accessKey",cc.common.data.httpHeader.accessKey),a.send(JSON.stringify(t))},httpPostLogin:function(e,t,i,a,o){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(4===n.readyState&&200==n.status){var e=n.responseText,t=JSON.parse(e);i(t)}else i(-1)},n.open("POST",e,!0),n.setRequestHeader("Access-Control-Allow-Origin","*"),n.setRequestHeader("Access-Control-Allow-Methods","GET, POST"),n.setRequestHeader("Access-Control-Allow-Headers","x-requested-with,content-type"),n.setRequestHeader("Content-Type","application/json");var s=a+"@"+o;n.setRequestHeader("Authorization","Basic "+window.btoa(s)),n.timeout=8e3,n.send(JSON.stringify(t))}});window.HttpHelper=new a,cc._RF.pop()},{}],IndianaLayer:[function(e,t,i){"use strict";cc._RF.push(t,"ac519l2FHtC958dBodjAxNO","IndianaLayer"),cc.Class({extends:cc.Component,properties:{nodeReward:cc.Node,contentList:cc.Node,nodeIndiana:cc.Node,nodeSuccess:cc.Node,nodeNotReward:cc.Node,nodeRoster:cc.Node,rewardSpr:[cc.SpriteFrame]},onLoad:function(){var e=this;this.curOpenLayer="node_reward",this.curOpenRewardIndex=-1,cc.common.data.requestSeverDataIndiana(function(t){console.log("----------\u4e00\u5143\u593a\u5b9d\u9996\u9875\u6570\u636e------------\uff1a".concat(JSON.stringify(t))),0==t.code&&t.result&&e.initRewardList(t.result)}),cc.common.data.notificationCenter.on(CURRENT_LAYER_EXIT,this.btnCloseClick.bind(this),this)},start:function(){this.nickNameObj=cc.common.jsonRes.nick_name.json,this.photoObj=cc.common.jsonRes.photo.json,this.maxIndex=485,this.maxPrizeRosterLen=15,this.maxRewardLen=11,this.scrolStartPosY=0,this.scrolStartPosY1=0},getTodayTime:function(e){if(!e){var t=new Date;e=[t.getFullYear(),t.getMonth()+1,t.getDate()].join("-")}return e+=" 07:00:00",new Date(e).getTime()},initRewardList:function(e){if(e.items){if(this.indianaInfo=cc.common.fileOperation.getIndianaInfo(),this.indianaInfo.endDateTime){var t=new Date(this.indianaInfo.endDateTime).getTime();new Date(e.endDateTime).getTime()>t&&(this.indianaInfo.endDateTime=e.endDateTime,this.indianaInfo.probability={})}else this.indianaInfo.endDateTime=e.endDateTime,this.indianaInfo.probability={};this.rewardInfoList=[];for(var i=0;i<e.items.length;++i){var a={};a.name=e.items[i].name,a.price=e.items[i].price,a.url=e.items[i].imageUrl,a.id=e.items[i].id,a.isPar=!1,a.isStart=!0,a.isOpenPrize=!1,a.describe="",this.indianaInfo.probability[a.id]||(this.indianaInfo.probability[a.id]=0),this.rewardInfoList.push(a)}cc.common.fileOperation.setIndianaInfo(this.indianaInfo);var o=this.nodeReward.getChildByName("item");this.maxRewardLen>this.rewardInfoList.length&&(this.maxRewardLen=this.rewardInfoList.length),this.contentList.height=this.maxRewardLen*(o.height+10);for(var n=0,s=0,c=this.maxRewardLen;s<c;++s){var r=cc.instantiate(o);r.parent=this.contentList,this.updateRewardItemInfo(r,n,s),n-=o.height+10}}},updateRewardItemInfo:function(e,t,i){var a=this;e.y=t,e.index=i,e.active=!0,e.getChildByName("name").getComponent(cc.Label).string=this.rewardInfoList[i].name,e.getChildByName("money").getComponent(cc.Label).string="\u539f\u4ef7\uffe5".concat(this.rewardInfoList[i].price);var o=e.getChildByName("node_mask").getChildByName("icon");"http"!=this.rewardInfoList[i].url.substring(0,4)?o.getComponent(cc.Sprite).spriteFrame=this.rewardSpr[parseInt(this.rewardInfoList[i].url)-1]:cc.common.tool.httpRecvImg(this.rewardInfoList[i].url,o);var n=e.getChildByName("btn_indiana");n.index=i,n.on("click",function(e){a.nodeReward.active=!1,a.nodeIndiana.active=!0,a.curOpenLayer="node_indiana",a.curOpenRewardIndex=e.node.index,cc.common.data.requestSeverDataIndianaPrize(function(e){console.log("----------\u4e00\u5143\u593a\u5b9d\u5956\u54c1\u8be6\u7ec6\u6570\u636e------------\uff1a".concat(JSON.stringify(e))),0==e.code&&e.result&&a.initRewardInfo(e.result)},a.rewardInfoList[i].id)})},initRewardInfo:function(e){var t=this.rewardInfoList[this.curOpenRewardIndex];t.describe=e.content,t.endDateTime=e.endDateTime;var i=new Date(t.endDateTime).getTime(),a=(new Date).getTime();this.indianaInfo.isParticipation[t.id]&&(this.indianaInfo.isParticipation[t.id]<=i?t.isPar=!1:(t.isPar=!0,delete this.indianaInfo.isParticipation[t.id]),a>i&&(t.isPar=!0)),a>i&&(t.isStart=!1);var o=this.nodeIndiana.getChildByName("node_reward");if(o.getChildByName("name").getComponent(cc.Label).string=t.name,o.getChildByName("money").getComponent(cc.Label).string="\u539f\u4ef7\uffe5".concat(t.price),o.getChildByName("describe").getComponent(cc.Label).string=t.describe,t.isStart){var n=this.nodeIndiana.getChildByName("node_info"),s=Math.floor(e.number/t.price),c=t.price-e.number%t.price;n.getChildByName("lab1").getComponent(cc.Label).string="\u5f53\u524d\u5956\u54c1\u6570\uff1a".concat(s),n.getChildByName("lab2").getComponent(cc.Label).string="(\u8fd8\u5dee".concat(c,"\u4eba\u6b21\u5c31\u53ef\u518d\u589e\u52a0\u4e00\u4efd\u5956\u54c1\u5566)");var r=t.endDateTime.replace(/-/g,".");n.getChildByName("lab3").getComponent(cc.Label).string=r;var l=!this.indianaInfo.isParticipation[t.id];this.nodeIndiana.getChildByName("node_participation").getChildByName("node1").active=l,this.nodeIndiana.getChildByName("node_participation").getChildByName("node2").active=!l;var h="".concat(this.indianaInfo.probability[t.id],"/").concat(t.price);this.nodeIndiana.getChildByName("node_ad").getChildByName("lab").getComponent(cc.Label).string="\u5f53\u524d\u4e2d\u5956\u6982\u7387".concat(h,"\n\u770b\u89c6\u5c4f\u4e2d\u5956\u6982\u7387        \u54e6\uff01");var d=this.nodeIndiana.getChildByName("node_reward").getChildByName("node_mask").getChildByName("icon");"http"!=t.url.substring(0,4)?d.getComponent(cc.Sprite).spriteFrame=this.rewardSpr[parseInt(t.url)-1]:cc.common.tool.httpRecvImg(t.url,d)}(t.isPar&&(this.nodeNotReward.active=!0),o.getChildByName("tips").active=!t.isStart,this.nodeIndiana.getChildByName("node_info").active=t.isStart,this.nodeIndiana.getChildByName("node_ad").active=t.isStart,this.nodeIndiana.getChildByName("node_share").active=!1,this.nodeIndiana.getChildByName("node_participation").active=t.isStart,this.nodeIndiana.getChildByName("node_next").active=!t.isStart,t.isStart)||(this.nodeIndiana.getChildByName("node_next").getChildByName("time").getComponent(cc.Label).string=t.endDateTime)},initPrizeRoster:function(e){if(e.items){this.prizeRoster=e.items,this.nodeRoster.getChildByName("lab").active=!1,this.nodeRoster.getChildByName("scrollview").active=!0;var t=this.nodeRoster.getChildByName("scrollview").getChildByName("view").getChildByName("content");t.removeAllChildren(),this.scrolStartPosY=0;var i=this.nodeRoster.getChildByName("item");this.prizeRoster.length<this.maxPrizeRosterLen&&(this.maxPrizeRosterLen=this.prizeRoster.length),this.maxIndex=this.prizeRoster.length,t.height=this.maxPrizeRosterLen*(i.height+10);for(var a=0,o=0;o<this.maxPrizeRosterLen;++o){var n=cc.instantiate(i);n.parent=t,n.active=!0,this.updateRosterItemInfo(n,a,o),a-=i.height+10}}else this.nodeRoster.getChildByName("lab").active=!0,this.nodeRoster.getChildByName("scrollview").active=!1},updateRosterItemInfo:function(e,t,i){e.y=t,e.index=i,e.getChildByName("rank").getComponent(cc.Label).string="".concat(i+1),e.getChildByName("name").getComponent(cc.Label).string=this.prizeRoster[i].name,cc.common.tool.httpRecvImg(this.prizeRoster[i].photoUrl,e.getChildByName("node_mask").getChildByName("head"))},updatePrizeInfo:function(e){var t=this.rewardInfoList[this.curOpenRewardIndex];this.indianaInfo.isParticipation[t.id]=new Date(t.endDateTime).getTime(),t.isPar=!1,this.indianaInfo.probability[t.id]||(this.indianaInfo.probability[t.id]=0),this.indianaInfo.probability[t.id]++,cc.common.fileOperation.setIndianaInfo(this.indianaInfo),this.nodeIndiana.getChildByName("node_participation").getChildByName("node2").active=!0;var i="".concat(this.indianaInfo.probability[t.id],"/").concat(t.price);this.nodeIndiana.getChildByName("node_ad").getChildByName("lab").getComponent(cc.Label).string="\u5f53\u524d\u4e2d\u5956\u6982\u7387".concat(i,"\n\u770b\u89c6\u5c4f\u4e2d\u5956\u6982\u7387        \u54e6\uff01"),cc.common.data.notificationCenter.emit(UPDATE_DATA_USER_RED,e.result.newMoney);var a=this.nodeIndiana.getChildByName("node_info"),o=Math.floor(e.result.newNumber/t.price),n=t.price-e.result.newNumber%t.price;a.getChildByName("lab1").getComponent(cc.Label).string="\u5f53\u524d\u5956\u54c1\u6570\uff1a".concat(o),a.getChildByName("lab2").getComponent(cc.Label).string="(\u8fd8\u5dee".concat(n,"\u4eba\u6b21\u5c31\u53ef\u518d\u589e\u52a0\u4e00\u4efd\u5956\u54c1\u5566)")},btnCheckRosterClick:function(){var e=this;this.nodeRoster.active=!0,this.curOpenLayer="node_roster",this.nodeIndiana.active=!1;var t=this.rewardInfoList[this.curOpenRewardIndex];cc.common.data.requestSeverDataPrizeRoster(function(t){console.log("----------\u4e2d\u5956\u540d\u5355------------\uff1a".concat(JSON.stringify(t))),0==t.code&&t.result&&e.initPrizeRoster(t.result)},t.id)},btnParticipationClick:function(){var e=this,t=this.rewardInfoList[this.curOpenRewardIndex];cc.common.data.requestSeverDataBetting(function(t){(console.log("----------\u53c2\u4e0e\u593a\u5b9d\u6570\u636e------------\uff1a".concat(JSON.stringify(t))),0==t.code&&t.result)&&(e.nodeSuccess.active=!0,e.nodeIndiana.getChildByName("node_participation").getChildByName("node1").active=!1,e.nodeIndiana.getChildByName("node_participation").getChildByName("node2").active=!0,e.updatePrizeInfo(t))},t.id,!0)},btnCloseSuccessClick:function(){this.nodeSuccess.active=!1},btnCloseNotRewardClick:function(){this.nodeNotReward.active=!1},btnCloseClick:function(){return"node_indiana"==this.curOpenLayer?(this.nodeReward.active=!0,this.nodeIndiana.active=!1,void(this.curOpenLayer="node_reward")):"node_roster"==this.curOpenLayer?(this.nodeRoster.active=!1,this.nodeIndiana.active=!0,void(this.curOpenLayer="node_indiana")):(cc.common.coohuaSdk.removeSdkPrefab(),void this.node.destroy())},btnPlayAdClick:function(){var e=this,t=this.rewardInfoList[this.curOpenRewardIndex];this.indianaInfo.isParticipation[t.id]&&1!=this.indianaInfo.shareOrPlayAd[t.id]&&3!=this.indianaInfo.shareOrPlayAd[t.id]?cc.common.data.requestSeverDataBetting(function(i){console.log("----------\u53c2\u4e0e\u593a\u5b9d\u6570\u636e------------\uff1a".concat(JSON.stringify(i))),0==i.code&&i.result&&cc.common.tool.playVideoAd(function(){e.indianaInfo.shareOrPlayAd[t.id]?2==e.indianaInfo.shareOrPlayAd[t.id]&&(e.indianaInfo.shareOrPlayAd[t.id]=3):e.indianaInfo.shareOrPlayAd[t.id]=1,e.updatePrizeInfo(i)},function(e){console.log("----------\u64ad\u653e\u5e7f\u544a\u5931\u8d25-----------\uff1a".concat(JSON.stringify(e)))},!1)},t.id,!1):this.indianaInfo.isParticipation[t.id]?cc.common.tool.showWordTips("\u5df2\u7ecf\u770b\u8fc7\u89c6\u9891\u4e86\u54e6!",!1):cc.common.tool.showWordTips("\u60a8\u8fd8\u6ca1\u6709\u53c2\u4e0e\u593a\u5b9d\u5462!",!1)},btnShareClick:function(){var e=this.rewardInfoList[this.curOpenRewardIndex];if(this.indianaInfo.isParticipation[e.id]&&2!=this.indianaInfo.shareOrPlayAd[e.id]&&3!=this.indianaInfo.shareOrPlayAd[e.id]){this.node.destroy();var t=cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.INVITEFRIEND).getComponent("InviteFriend"),i=e.id;t.indianaId=i}else this.indianaInfo.isParticipation[e.id]?cc.common.tool.showWordTips("\u5df2\u7ecf\u9080\u8bf7\u8fc7\u4e86\u54e6!",!1):cc.common.tool.showWordTips("\u60a8\u8fd8\u6ca1\u6709\u53c2\u4e0e\u593a\u5b9d\u5462!",!1)},playAd:function(e){cc.common.tool.playVideoAd(e,function(e){console.log("----------\u64ad\u653e\u5e7f\u544a\u5931\u8d25-----------\uff1a".concat(JSON.stringify(e)))},!1)},updateRosterItem:function(){var e=this.nodeRoster.getChildByName("scrollview").getChildByName("view").getChildByName("content"),t=e.children;if(t.length>=this.maxPrizeRosterLen){var i=t.length;if(e.y-this.scrolStartPosY>0&&t[i-1].index+1<this.maxIndex){var a=e.convertToWorldSpaceAR(t[0].position);if(this.nodeRoster.getChildByName("scrollview").convertToNodeSpaceAR(a).y>=t[0].height+10){this.updateRosterItemInfo(t[0],t[i-1].y-t[0].height-10,t[i-1].index+1);var o=t[0];t[0].parent=null,o.parent=e}e.height+=e.y-this.scrolStartPosY,this.scrolStartPosY=e.y}else if(e.y-this.scrolStartPosY<0&&t[0].index-1>=0){var n=e.convertToWorldSpaceAR(t[i-1].position);if(this.nodeRoster.getChildByName("scrollview").convertToNodeSpaceAR(n).y<=-(this.maxPrizeRosterLen-2)*(t[0].height+10)){this.updateRosterItemInfo(t[i-1],t[0].y+t[0].height+10,t[0].index-1);var s=t[i-1];s.parent=null,e.insertChild(s,0)}e.height+=e.y-this.scrolStartPosY,this.scrolStartPosY=e.y,this.updateRosterItem()}}},updateRewardItem:function(){var e=this.contentList,t=e.children;if(t.length>=this.maxRewardLen){var i=t.length;if(e.y-this.scrolStartPosY1>0&&t[i-1].index+1<this.rewardInfoList.length){var a=e.convertToWorldSpaceAR(t[0].position);if(this.nodeReward.getChildByName("scrollview").convertToNodeSpaceAR(a).y>=t[0].height+10){this.updateRewardItemInfo(t[0],t[i-1].y-t[0].height-10,t[i-1].index+1);var o=t[0];t[0].parent=null,o.parent=e}e.height+=e.y-this.scrolStartPosY1,this.scrolStartPosY1=e.y}else if(e.y-this.scrolStartPosY1<0&&t[0].index-1>=0){var n=e.convertToWorldSpaceAR(t[i-1].position);if(this.nodeRoster.getChildByName("scrollview").convertToNodeSpaceAR(n).y<=-(this.maxRewardLen-2)*(t[0].height+10)){this.updateRewardItemInfo(t[i-1],t[0].y+t[0].height+10,t[0].index-1);var s=t[i-1];s.parent=null,e.insertChild(s,0)}e.height+=e.y-this.scrolStartPosY1,this.scrolStartPosY1=e.y,this.updateRewardItem()}}},update:function(){this.nodeRoster.active&&this.updateRosterItem(),this.nodeReward.active&&this.updateRewardItem()}}),cc._RF.pop()},{}],InputCode:[function(e,t,i){"use strict";cc._RF.push(t,"a34c7bivelNHLoQWqW/mnos","InputCode"),cc.Class({extends:cc.Component,properties:{editBox:cc.EditBox},onLoad:function(){this.codeString="",this.parentJs=this.node.parent.getComponent("InviteFriend")},start:function(){},onTextChanged:function(e,t,i){this.codeString=e},editBoxInputEnd:function(e,t){console.log("=ccccc==",e.string),this.codeString=e.string},btnConfirmCallBack:function(){var e=this;cc.common.tool.playAudio(cc.common.audioRes.button);cc.common.data.sendOutSeverDataInviteCode(this.codeString,function(t){console.log("=\u53d1\u9001\u9080\u8bf7\u7801==",JSON.stringify(t)),e.parentJs.setMasterInfo(t),e.parentJs.inputLayer=null,e.node.destroy()})},btnCloseCallBack:function(){cc.common.tool.playAudio(cc.common.audioRes.button),this.parentJs.inputLayer=null,this.node.destroy()}}),cc._RF.pop()},{}],InviteFriend:[function(e,t,i){"use strict";cc._RF.push(t,"11fc9ZCrvBIuIJYNT1wqalv","InviteFriend"),cc.Class({extends:cc.Component,properties:{itemNode:cc.Node,scrollView:cc.Node,listContent:cc.Node,spacingY:0,itemDownNode:cc.Node,itemInfoList:[cc.SpriteFrame],itemInfoGreyList:[cc.SpriteFrame],inputCodePrefab:cc.Prefab,codeLabel:cc.Label,friendNumLabel:cc.Label,itemBgImage:[cc.SpriteFrame]},onLoad:function(){this.indianaId=null,this.showDataList=[],this.itemNodeList=[],this.btnLabelList=["\u9886\u53d6","\u672a\u5b8c\u6210","\u5df2\u5b8c\u6210"],this.showDataLength=0,this.inviteCode="",this.isReceived=!1,this.receiveLeftDays=0,this.rewardIndex=-1,this.inputLayer=null,cc.common.data.notificationCenter.on(CURRENT_LAYER_EXIT,this.btnCloseCallBack.bind(this),this)},start:function(){cc.common.data.requestSeverDataInviteFriend(this.initByData.bind(this)),cc.common.tool.gameViewShowData(DATA_ARRANGE.showInviteFriend)},initByData:function(e){console.log("==\u5206\u4eab\u6570\u636e==",JSON.stringify(e)),this.inviteCode=e.result.code,this.codeLabel.string="\u6211\u7684\u9080\u8bf7\u7801:"+this.inviteCode,this.isReceived=e.result.received,this.friendNumLabel.string="\u597d\u53cb\u6570:"+e.result.friendNum,this.receiveLeftDays=e.result.leftDays,this.showDataList=[],this.showDataList=e.result.stages,this.showDataLength=this.showDataList.length,this.listContent.height=20+(this.itemNode.height+this.spacingY)*this.showDataLength;for(var t=0;t<this.showDataLength&&void 0!==this.showDataList[t];t++){this.rewardIndex=e.result.friendNum>=this.showDataList[t].num?t:this.rewardIndex;var i=cc.instantiate(this.itemNode);i.parent=this.listContent,this.setRankItemData(t,i,this.showDataList[t]),i.x=0,i.y=.5*-i.height-t*(i.height+this.spacingY),this.itemNodeList.push(i),i.btnData=t,i.on(cc.Node.EventType.TOUCH_END,this.btnReceiveTargetReward.bind(this),this)}this.updateItemData(),this.setMasterInfo(e)},setMasterInfo:function(e){var t=e.result.masterName.length>0;if(this.itemDownNode.getChildByName("node_have_sf").active=t,this.itemDownNode.getChildByName("node_no_sf").active=!t,t){var i=cc.find("node_have_sf/node_mask/sprite_icon",this.itemDownNode);cc.common.tool.httpRecvImg(e.result.masterPhotoUrl,i),cc.find("node_have_sf/label_name",this.itemDownNode).getComponent(cc.Label).string=e.result.masterName}},updateItemData:function(){var e=null;if(this.rewardIndex>=0&&((e=this.itemNodeList[this.rewardIndex]).getComponent(cc.Sprite).spriteFrame=this.itemBgImage[1],e.getChildByName("sprite_receive").active=!0),this.isReceived&&e){var t=e.getChildByName("label_reward");t.color=new cc.Color(150,167,172),t.getChildByName("label_yuan").color=new cc.Color(150,167,172),e.getChildByName("label_receive_days").color=new cc.Color(133,152,159),e.getChildByName("sprite_receive").active=!1,e.getComponent(cc.Sprite).spriteFrame=this.itemBgImage[2],e.getChildByName("sprite_info").getComponent(cc.Sprite).spriteFrame=this.itemInfoGreyList[this.rewardIndex]}},setRankItemData:function(e,t,i){var a=cc.common.tool.getTwoDecimalPlaces(i.money,1);t.getChildByName("label_reward").getComponent(cc.Label).string=a,t.getChildByName("label_receive_days").getComponent(cc.Label).string="\u60a8\u8fd8\u53ef\u9886"+this.receiveLeftDays+"\u5929",t.getChildByName("sprite_receive").active=!1,t.getChildByName("sprite_info").getComponent(cc.Sprite).spriteFrame=this.itemInfoList[e]},btnReceiveTargetReward:function(e){var t=this;cc.common.tool.playAudio(cc.common.audioRes.button);var i=e.target,a=i.btnData,o=this.showDataList[a];if(console.log("\u6309\u94ae\u6309\u4e0b",i.btnData+"==this.rewardIndex==",this.rewardIndex+"=this.isReceived=",this.isReceived),!this.isReceived&&this.rewardIndex==i.btnData){cc.common.data.sendOutSeverDataInviteFriendReward(o.num,function(e){console.log("==\u9886\u53d6\u5206\u4eab\u5956\u52b1\u6570\u636e==",JSON.stringify(e)),t.isReceived=!0,t.updateItemData(),cc.common.tool.showWordTips(o.money,!0),cc.common.data.notificationCenter.emit(UPDATE_DATA_USER_RED,e.result.newMoney)})}},btnCopyCallBack:function(e,t){cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.tool.setCopyAndPaste(this.inviteCode)},btnInviteCallBack:function(e,t){var i=this;cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.tool.playShareGame("0",function(){if(i.indianaId){var e=cc.common.fileOperation.getIndianaInfo();e.isParticipation[i.indianaId]&&2!=e.shareOrPlayAd[i.indianaId]&&3!=e.shareOrPlayAd[i.indianaId]||(e.isParticipation[i.indianaId]?cc.common.tool.showWordTips("\u5df2\u7ecf\u9080\u8bf7\u8fc7\u4e86\u54e6!",!1):cc.common.tool.showWordTips("\u60a8\u8fd8\u6ca1\u6709\u53c2\u4e0e\u593a\u5b9d\u5462!",!1)),cc.common.data.requestSeverDataBetting(function(t){console.log("----------\u53c2\u4e0e\u593a\u5b9d\u6570\u636e------------\uff1a".concat(JSON.stringify(t))),0==t.code&&t.result&&(e.probability[i.indianaId]||(e.probability[i.indianaId]=0),e.probability[i.indianaId]++,e.shareOrPlayAd[i.indianaId]?1==e.shareOrPlayAd[i.indianaId]&&(e.shareOrPlayAd[i.indianaId]=3):e.shareOrPlayAd[i.indianaId]=2,cc.common.fileOperation.setIndianaInfo(e))},i.indianaId,!1)}}),cc.common.tool.gameViewClickData(DATA_ARRANGE.clickInviteFriend)},btnInputInviteCallBack:function(e,t){cc.common.tool.playAudio(cc.common.audioRes.button),null==this.inputLayer&&(this.inputLayer=cc.instantiate(this.inputCodePrefab),this.inputLayer.parent=this.node)},btnCloseCallBack:function(){cc.common.tool.playAudio(cc.common.audioRes.button),this.node.destroy(),cc.common.coohuaSdk.removeSdkPrefab()}}),cc._RF.pop()},{}],PassWelfare:[function(e,t,i){"use strict";cc._RF.push(t,"2f9e8Y8wp5LpqgYIoBrUSQ3","PassWelfare"),cc.Class({extends:cc.Component,properties:{scrollView:cc.Node,listContent:cc.Node,spacingY:0,redNode:cc.Node,signNode:cc.Node,levelProgress:cc.Node,maxLevelLabel:cc.Label,levelNode:cc.Node,playerDrawTipList:[cc.Node],redSpriteList:[cc.SpriteFrame],moneyIconList:[cc.SpriteFrame]},onLoad:function(){this.levelRedNodeList=[],this.maxLevelNum=4200,this.currentlevel=0,this.playerDataList=[],this.playerDataIndex=0,cc.common.data.notificationCenter.on(CURRENT_LAYER_EXIT,this.btnCloseCallBack.bind(this),this)},start:function(){this.lrAni=cc.repeatForever(cc.sequence(cc.moveBy(.5,cc.v2(-10,0)),cc.moveBy(1,cc.v2(20,0)),cc.moveBy(.5,cc.v2(-10,0)))),this.setGameExamineShow(),cc.common.data.requestServerDataSignIn(this.initByData.bind(this)),cc.common.tool.gameViewShowData(DATA_ARRANGE.showRankList)},setGameExamineShow:function(){cc.common.data.gameExamine},initByData:function(e){console.log("==\u8bf7\u6c42\u670d\u52a1\u7aef\u6570\u636e=\u7b7e\u5230\u6570\u636e=",JSON.stringify(e));var t=["\u91cc","\u5c71","\u6d77","\u6c5f","\u5ddd","\u4e00","\u4ec1","\u8fdc","\u624d","\u680b","\u6881","\u96e8","\u4e91","\u98ce","\u96f7","\u6773","\u73e9","\u9646","\u6f5e","\u84fc","\u8f69","\u8a00","\u8fb0","\u5ca9","\u6b23","\u9633","\u6770","\u5929","\u829d","\u79c0","\u82e5","\u8c6a","\u535a","\u809c","\u5cf0","\u96ea","\u536b","\u658c","\u6b66","\u6587","\u7490","\u83c1","\u660e","\u5149","\u7231","\u6743","\u519b","\u6797","\u51b0","\u5b50","\u60e0","\u6069","\u6960","\u6f88","\u9e23","\u5c01","\u8336","\u6850","\u8dde","\u514b","\u807f","\u6f47","\u5f25","\u9065","\u6155","\u6db5","\u6ee2","\u65b0","\u83ba","\u777f"],i=[{level:499,money:2},{level:1499,money:7},{level:2999,money:20},{level:3999,money:50}];if(this.levelDatalist=[{level:499,money:200,status:2},{level:1499,money:700,status:1},{level:2999,money:2e3,status:1},{level:3999,money:5e3,status:0}],0==e.code&&e.result){this.currentlevel=e.result.totalLevel;var a=e.result.dayItemList;i=[],this.levelDatalist=[];for(var o=0;o<a.length;++o){var n={level:a[o].day,money:a[o].money};i.push(n);var s={level:a[o].day,money:a[o].money,status:0};this.currentlevel>=a[o].day?a[o].received?s.status=2:s.status=1:s.status=0,this.levelDatalist.push(s)}}this.playerDataList=[];for(var c=0;c<t.length;++c){var r="";r=2==(Math.random()>.5?2:1)?"**"+t[c]:"*"+t[c];var l=Math.floor(4*Math.random());l>=3&&(l=3),this.playerDataList.push({name:r,level:i[l].level,money:i[l].money})}this.addTipsAni(),this.maxLevelLabel.string=this.maxLevelNum+"\u5173",this.levelNode.getChildByName("label_level").getComponent(cc.Label).string=this.currentlevel,this.levelNode.y=.5*this.levelProgress.height-this.levelProgress.height*this.currentlevel/this.maxLevelNum+28,this.levelProgress.getChildByName("bar").getComponent(cc.Sprite).fillRange=-1*this.currentlevel/this.maxLevelNum;for(var h=0;h<4;h++){var d=cc.instantiate(this.redNode);if(d.parent=this.listContent,d.x=h%2==0?this.levelProgress.x+.5*this.redNode.width+70:this.levelProgress.x+2*this.redNode.width,d.y=-150-h*this.redNode.height,this.setRedItemData(d,this.levelDatalist[h]),d.nodeTag=h,this.levelRedNodeList.push(d),0==h)this.signNode.y=.5*this.levelProgress.height-this.levelProgress.height*this.levelDatalist[h].level/this.maxLevelNum;else{var m=cc.instantiate(this.signNode);m.parent=this.levelProgress,m.y=.5*this.levelProgress.height-this.levelProgress.height*this.levelDatalist[h].level/this.maxLevelNum}console.log("===jj=",h+"=level=",this.levelDatalist[h].level+"=yy=",this.levelDatalist[h].level/this.maxLevelNum)}},showPlayerDrawCashData:function(e){},setRedItemData:function(e,t){var i=this;e.getComponent(cc.Sprite).spriteFrame=this.redSpriteList[t.status];var a=e.getChildByName("sprite_tip");a.stopAllActions();var o=cc.repeatForever(cc.sequence(cc.moveBy(.4,cc.v2(-10,0)),cc.moveBy(.8,cc.v2(20,0)),cc.moveBy(.4,cc.v2(-10,0))));a.runAction(o),e.getChildByName("sprite_open").active=1==t.status;var n=e.getChildByName("sprite_money");n.getComponent(cc.Sprite).spriteFrame=this.moneyIconList[t.status],t.money/100<1&&t.money/100>0?n.x=55:n.x=t.money/100>9?55:40;var s=e.getChildByName("label_open_red_num");s.active=2==t.status,s.getComponent(cc.Label).string=t.money/100;var c=e.getChildByName("label_red_num");c.active=t.status<2,c.getComponent(cc.Label).string=t.money/100;var r=e.getChildByName("label_need_level");r.getComponent(cc.Label).string=t.level+"\u5173",r.color=t.status<2?new cc.Color(255,246,183,255):new cc.Color(255,255,255,255),e.on(cc.Node.EventType.TOUCH_END,function(){if(console.log("==\u94b1=",t.money),0==t.status)cc.common.tool.showWordTips("\u52a0\u6cb9\uff01"+cc.common.tool.getTwoDecimalPlaces(t.money)+"\u5143\u73b0\u91d1\u7b49\u4f60\u63d0\u73b0!");else if(1==t.status){i.node.destroy(),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.DRAWCASH).getComponent("DrawCashCut").setSelectTypeAndAmount(4,t.money)}})},redNodeTouchEnd:function(e){},addTipsAni:function(){var e=this.playerDataList.length;if(e>0){var t=this.playerDrawTipList[1],i=t.parent.parent;i.opacity=0,cc.tween(i).repeatForever(cc.tween().parallel(cc.tween().to(1,{opacity:255}),cc.tween().call(function(){this.playerDataIndex>=e-1?this.playerDataIndex=0:this.playerDataIndex++;var a=this.playerDataList[this.playerDataIndex];t.getComponent(cc.Label).string=a.name+" \u901a\u8fc7"+a.level+"\u5173\uff0c"+a.money/100+"\u5143\u5df2\u63d0\u73b0\u5230\u8d26",t.getComponent(cc.Label)._forceUpdateRenderData(),t.width>=680?(t.parent.width=680,i.width=730):(t.parent.width=t.width,i.width=t.width+50)},this)).delay(.9).to(.1,{opacity:0}).delay(1)).start()}},btnCloseCallBack:function(){cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.coohuaSdk.removeSdkPrefab(),this.node.destroy()}}),cc._RF.pop()},{}],RankingList:[function(e,t,i){"use strict";cc._RF.push(t,"dd267zpxzdKSoRiXWm2CHTH","RankingList"),cc.Class({extends:cc.Component,properties:{mineItemNode:cc.Node,itemNode:cc.Node,scrollView:cc.Node,listContent:cc.Node,spacingY:0,tipLabel:cc.Label,itemNameLabel:cc.Label,rankSpriteList:[cc.SpriteFrame],rankIconList:[cc.SpriteFrame]},onLoad:function(){this.rankDataList=[],this.rowItemCounts=0,this.rankItemList=[],this.topMax=0,this.bottomMax=0,this.lastListY=0,this.itemHeight=0,cc.common.data.notificationCenter.on(CURRENT_LAYER_EXIT,this.btnCloseCallBack.bind(this),this)},start:function(){this.setGameExamineShow(),cc.common.data.requestSeverDataRankList(this.initByData.bind(this)),cc.common.tool.gameViewShowData(DATA_ARRANGE.showRankList)},setGameExamineShow:function(){cc.common.data.gameExamine},initByData:function(e){this.tipLabel.string=e.result.desc,this.itemNameLabel.string=e.result.headers,this.rankDataList=e.result.itemList,this.setMineRankItemData(e.result.myItem),this.itemHeight=this.itemNode.height,this.rowItemCounts=Math.ceil(this.scrollView.height/(this.itemHeight+this.spacingY)),console.log("===this.rowItemCounts==",this.rowItemCounts),this.listContent.height=20+(this.itemNode.height+this.spacingY)*this.rankDataList.length;for(var t=0;t<2*this.rowItemCounts;t++)if(void 0!==this.rankDataList[t]){var i=cc.instantiate(this.itemNode);i.parent=this.listContent,this.setRankItemData(i,this.rankDataList[t]),i._itemID=t,this.rankItemList.push(i),i.x=0,i.y=-(.5*this.itemNode.height+t*(this.itemNode.height+this.spacingY))}this.lastListY=this.listContent.y,this.topMax=5*this.itemHeight+4*this.spacingY,this.bottomMax=-(this.scrollView.height+this.topMax)},setMineRankItemData:function(e){cc.common.tool.httpRecvImg(e.key.photoUrl,cc.find("sprite_bg/sprite_icon",this.mineItemNode).getComponent(cc.Sprite)),cc.find("label_player_name",this.mineItemNode).getComponent(cc.Label).string=e.key.name;var t=this.mineItemNode.getChildByName("sprite_rank");t.active=!1;var i=this.mineItemNode.getChildByName("label_rank_num");i.getComponent(cc.Label).string=e.rank;var a=this.mineItemNode.getChildByName("label_player_time").getComponent(cc.Label),o=this.mineItemNode.getChildByName("label_rank_reward");0==e.rank?i.getComponent(cc.Label).string="\u672a\u4e0a\u699c":e.rank<4&&(i.active=!1,t.active=!0,t.getComponent(cc.Sprite).spriteFrame=this.rankSpriteList[e.rank-1]),0==e.secondTime?o.active=!1:(a.string=e.value,o.active=!0,o.getComponent(cc.Label).string=e.reward)},setRankItemData:function(e,t){cc.common.tool.httpRecvImg(t.key.photoUrl,cc.find("sprite_bg/sprite_icon",e).getComponent(cc.Sprite)),cc.find("label_player_name",e).getComponent(cc.Label).string=t.key.name;var i=e.getChildByName("sprite_rank");i.active=!1;var a=e.getChildByName("label_rank_num");a.active=!0,a.getComponent(cc.Label).string=t.rank;var o=e.getChildByName("label_player_time").getComponent(cc.Label),n=e.getChildByName("label_rank_reward").getComponent(cc.Label);0==t.rank?a.getComponent(cc.Label).string="\u672a\u4e0a\u699c":t.rank<4&&(a.active=!1,i.active=!0,i.getComponent(cc.Sprite).spriteFrame=this.rankSpriteList[t.rank-1]),o.string=t.value,n.getComponent(cc.Label).string=t.reward},update:function(e){var t=this.listContent.y>this.lastListY,i=this.rankItemList.length,a=this.rankDataList.length;for(var o in this.rankItemList){var n=this.rankItemList[o],s=this.listContent.convertToWorldSpaceAR(n.position);if(s.y-=this.scrollView.height/2,s=this.scrollView.convertToNodeSpaceAR(s),t){if(s.y>this.topMax){var c=n._itemID+i;if(c>=a)return;n._itemID=c,n.y=n.y-i*this.itemHeight-i*this.spacingY,this.setRankItemData(n,this.rankDataList[n._itemID])}}else if(s.y<this.bottomMax){var r=n._itemID-i;if(r<0)return;n._itemID=r,n.y=n.y+i*this.itemHeight+i*this.spacingY,this.setRankItemData(n,this.rankDataList[n._itemID])}}this.lastListY=this.listContent.y},btnCloseCallBack:function(){cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.coohuaSdk.removeSdkPrefab(),this.node.destroy()}}),cc._RF.pop()},{}],ScreenAdaptation:[function(e,t,i){"use strict";cc._RF.push(t,"9ba44ALRORB07TnpOoMwyrc","ScreenAdaptation"),cc.Class({extends:cc.Component,properties:{},start:function(){this.setAdaptationIphoneX(this.node)},setAdaptationIphoneX:function(e){cc.common.data.isIphoneX&&e&&(e.getComponent(cc.Widget).top+=62)},showOnEnterAction:function(){this.node.x=1.5*cc.winSize.width,this.node.y=0,this.node.runAction(cc.moveTo(.5,cc.v2(0,0)))},showOnExitAction:function(){var e=this;this.node.runAction(cc.sequence(cc.moveTo(.5,cc.v2(1.5*cc.winSize.width,0)),cc.callFunc(function(){e.node.destroy()})))}}),cc._RF.pop()},{}],SquareSprite:[function(e,t,i){"use strict";cc._RF.push(t,"89d338+mYBM4YqyVTx/ussC","SquareSprite");var a=e("GameContans");cc.Class({extends:cc.Component,properties:{squareSprite:cc.Sprite,gridLabel:cc.Label,squareRes:[cc.SpriteFrame]},onLoad:function(){this._iCol=0,this._Row=0,this._downNum=0,this._eliminate=!1,this._squareType=1},start:function(){},getCol:function(){return this._iCol},setCol:function(e){this._iCol=e},getRow:function(){return this._iRow},setRow:function(e){this._iRow=e},getDownNum:function(){return this._downNum},setDownNum:function(e){this._downNum=e},setColRow:function(e,t){this.setCol(e),this.setRow(t)},setSquareType:function(e){if(e<=0)this.node.active=!1,this._squareType=e;else{this.node.active=!0,this._squareType=e,this._eliminate=!1;var t=a.ColorName[e];t||(t=a.ColorName[1]),this.squareSprite.spriteFrame=this.squareRes[t]}},getSquareType:function(){return this._squareType},getSquareColor:function(){return a.ColorType[this._squareType]}}),cc._RF.pop()},{GameContans:"GameContans"}],SubsidiaryLayer:[function(e,t,i){"use strict";cc._RF.push(t,"71cefeI/nxFK4PhKUip4wAv","SubsidiaryLayer");var a=1,o=2,n=3,s=4,c=5,r=6;cc.Class({extends:cc.Component,properties:{passLevelSingle:cc.Node,passLevelNode:cc.Node,noPassNode:cc.Node,gainRedNode:cc.Node,haveRankNode:cc.Node,noRankNode:cc.Node,newGiftNode:cc.Node},onLoad:function(){this.rewardRedNum=0,this.isCumulativePass=!1;var e=cc.common.fileOperation.getUserData();console.log("----------userData---------"+JSON.stringify(e)),this.redNumNew=e.redNum},start:function(){this.node.getComponent(cc.Widget).updateAlignment(),this.parentJs=this.node.parent.getComponent("GameScene"),this.currentLevel=this.parentJs.levelNum,this.setShowLayer(this.parentJs.subLayerId)},setShowLayer:function(e){this.passLevelNode.active=a==e,this.noPassNode.active=o==e,this.gainRedNode.active=n==e||r==e,this.haveRankNode.active=s==e,this.noRankNode.active=s==e,this.newGiftNode.active=c==e;var t=this.passLevelNode.getChildByName("label_red_num").getComponent(cc.Label),i="";switch(e){case a:cc.common.data.gameExamine?(this.passLevelSingle.active=!0,this.passLevelNode.active=!1,t=this.passLevelSingle.getChildByName("label_red_num").getComponent(cc.Label),this.rewardRedNum=cc.common.tool.createRandomNumber(1,100),t.string=this.rewardRedNum+"\u79ef\u5206",cc.common.tool.gameViewShowData(DATA_ARRANGE.showWinLevel+this.currentLevel)):(this.passLevelNode.getChildByName("label_title").active=!this.isCumulativePass,cc.common.data.sendOutServerDataLevel(!this.isCumulativePass,this.currentLevel,this.initPassLevelData.bind(this),this));break;case o:break;case n:if(cc.common.data.tvRedData){t=this.gainRedNode.getChildByName("label_red_num").getComponent(cc.Label);var l=cc.common.tool.getTwoDecimalPlaces(cc.common.data.tvRedData.money);t.string=l+"\u5143"}else cc.common.data.sendOutSeverDataCountDownRed(this.initGainRedData.bind(this),this);break;case s:cc.common.data.requestSeverDataIsHaveRank(this.initIsHaveRankData.bind(this),this);break;case c:t=this.newGiftNode.getChildByName("label_red_num").getComponent(cc.Label),this.rewardRedNum=this.redNumNew,i=cc.common.tool.getTwoDecimalPlaces(this.rewardRedNum),t.string=i+"\u5143",cc.common.tool.gameViewShowData(DATA_ARRANGE.showNewGift);break;case r:cc.common.data.requestSeverDataLucklyBox(this.initGainRedData.bind(this),this)}},initIsHaveRankData:function(e){console.log("==\u7528\u6237\u662f\u5426\u4e0a\u699c==",JSON.stringify(e)),this.haveRankNode.active=e.result.rank>0,this.noRankNode.active=e.result.rank<=0,this.isHave=e.result.rank>0;var t=this.haveRankNode.getChildByName("label_red_num").getComponent(cc.Label),i=cc.common.tool.getTwoDecimalPlaces(e.result.money);t.string=i+"\u5143",this.rewardRedNum=e.result.money,this.haveRankNode.getChildByName("label_have_rank").getComponent(cc.Label).string="\u7b2c"+e.result.rank+"\u540d",cc.find("node_no_tip/label_disparity",this.noRankNode).getComponent(cc.Label).string=e.result.needScore+"\u5173",cc.find("node_no_tip/label_rank",this.noRankNode).getComponent(cc.Label).string="\u7b2c"+e.result.rank+"\u5173",cc.find("node_data/label_pass_level",this.noRankNode).getComponent(cc.Label).string="\u7d2f\u8ba1\u901a\u5173\uff1a"+e.result.score,cc.find("node_data/label_date",this.noRankNode).getComponent(cc.Label).string=e.result.date,this.isHave?cc.common.tool.gameViewShowData(DATA_ARRANGE.showHaveRank):cc.common.tool.gameViewShowData(DATA_ARRANGE.showNoRank),this.redNumNew=e.result.newMoney},btnIsRankReveiveCallBack:function(e,t){cc.common.tool.playAudio(cc.common.audioRes.button),this.isHave?(cc.common.tool.gameViewClickData(DATA_ARRANGE.clickRankReceive,""),cc.common.data.notificationCenter.emit(UPDATE_DATA_USER_RED,this.redNumNew),cc.common.tool.showWordTips(this.rewardRedNum,!0)):cc.common.tool.gameViewClickData(DATA_ARRANGE.clickRankStudy,""),this.parentJs.subsidiaryLayer=null,this.node.destroy()},initGainRedData:function(e){console.log("==\u8bf7\u6c42\u670d\u52a1\u7aef\u6570\u636e=\u5012\u8ba1\u65f6\u7ea2\u5305==",JSON.stringify(e));var t=this.gainRedNode.getChildByName("label_red_num").getComponent(cc.Label);this.rewardRedNum=e.result.money;var i=cc.common.tool.getTwoDecimalPlaces(this.rewardRedNum);t.string=i+"\u5143"},btnGainRedReveiveCallBack:function(e,t){var i=this;if(cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.data.tvRedData)return cc.common.data.notificationCenter.emit(UPDATE_DATA_USER_RED,cc.common.data.tvRedData.newMoney),this.parentJs.redIsShow=!1,cc.common.data.tvRedData=null,this.parentJs.subsidiaryLayer=null,void this.node.destroy();cc.common.tool.playVideoAd(function(){i.parentJs.redIsShow=!1,i.parentJs.subLayerId==n&&(i.parentJs.redCountDown=cc.common.redCountDownNum),cc.common.data.sendOutSeverDataGameRed(i.rewardRedNum,function(e){console.log("===\u83b7\u5f97\u7ea2\u5305==",JSON.stringify(e)),cc.common.tool.showWordTips(i.rewardRedNum,!0),cc.common.data.notificationCenter.emit(UPDATE_DATA_USER_RED,e.result.newMoney)}),i.parentJs.subsidiaryLayer=null,i.node.destroy()},function(){i.parentJs.redIsShow=!1,i.parentJs.subLayerId==n&&(i.parentJs.redCountDown=cc.common.redCountDownNum),i.parentJs.subsidiaryLayer=null,i.node.destroy()})},btnReceiveNewPlayerGift:function(){cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.tool.gameViewClickData(DATA_ARRANGE.clickGiftReceive,""),cc.common.tool.showWordTips(this.rewardRedNum,!0),cc.common.data.notificationCenter.emit(UPDATE_DATA_USER_RED,this.rewardRedNum),this.parentJs.subsidiaryLayer=null,this.node.destroy(),cc.common.coohuaSdk.initPrefabByLayerId(LAYER_ID.DRAWCASH).getComponent("DrawCashCut").setSelectTypeAndAmount(1,this.rewardRedNum)},initPassLevelData:function(e){console.log("=\u8bf7\u6c42\u8fc7\u5173\u6570\u636e==",JSON.stringify(e));var t=this.passLevelNode.getChildByName("label_red_num").getComponent(cc.Label);this.rewardRedNum=e.result.money;var i=cc.common.tool.getTwoDecimalPlaces(this.rewardRedNum);t.string=i+"\u5143";var a=this.passLevelNode.getChildByName("label_double_red").getComponent(cc.Label),o=cc.common.tool.getTwoDecimalPlaces(this.rewardRedNum/e.result.multi);a.string="".concat(o,"*").concat(e.result.multi),cc.common.tool.gameViewShowData(DATA_ARRANGE.showWinLevel)},btnNextLevelCallBack:function(){var e=this;if(cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.tool.gameViewClickData(DATA_ARRANGE.clickNextLevel,""+this.currentLevel),cc.common.data.gameExamine)return this.parentJs.playNextLevelGame(this.rewardRedNum),this.parentJs.subsidiaryLayer=null,void this.node.destroy();var t=function(){e.parentJs.playNextLevelGame(e.rewardRedNum,e.isCumulativePass),e.parentJs.subsidiaryLayer=null,e.node.destroy()};cc.common.tool.playVideoAd(t,t)},btnReplayCallBack:function(){cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.tool.gameViewClickData(DATA_ARRANGE.clickReplay,""+this.currentLevel),this.parentJs.replayLevelGame(),this.parentJs.subsidiaryLayer=null,this.node.destroy()},onDestroy:function(){this.parentJs.setIsShowHome(!0)}}),cc._RF.pop()},{}],Tool:[function(e,t,i){"use strict";cc._RF.push(t,"59745lcpx1DWqXSqK3M78d2","Tool"),cc.Class({extends:cc.Component,properties:{},start:function(){},init:function(){this.btnDelayTime=.8,this.addPrefabCount=0},resetGlobalGameData:function(){cc.common.data.init()},resetFileGameData:function(){cc.common.fileOperation.resetGameData()},isNULL:function(e){return cc.common.fileOperation.isNULL(e)},createRandomNumber:function(e,t){var i=t-e,a=Math.random()*i+e;return a=Math.round(a)},setToolTimeStart:function(e){cc.common.data.toolTimeStart=e,cc.common.data.tipSquare&&(cc.common.data.tipSquare.rotation=0,cc.common.data.tipSquare.stopAllActions(),cc.common.data.tipSquare=null);var t=cc.find("Canvas/gameLogic/gameLayer/propBtnNode/btnExchange");t&&t.stopAllActions()},toolUpdateTime:function(){this.btnDelayTime-=.01,this.btnDelayTime<=0&&(this.btnDelayTime=.8,this.unschedule(this.toolUpdateTime))},getNumberCanEliminateSquare:function(e,t,i){for(var a=function(e,t){var a=i[e][t],o=i[e+1][t],n=i[e][t+1];return a==o||a==n},o=0,n=0;n<e-1;n++)for(var s=0;s<t-1;s++)a(n,s)&&o++;return o},sendDataToOpenData:function(e){window.wx?wx.getOpenDataContext().postMessage(e):console.log("not wechat!")},playAudio:function(e,t){if(1==cc.common.data.audioSwitch&&void 0!=e&&e)return t&&(cc.common.data.bgAudioId=cc.audioEngine.play(e,t)),cc.audioEngine.play(e)},stopAudio:function(e){cc.audioEngine.stop(e)},setAudioSwitch:function(e){var t=0;!0===e&&(t=1),cc.common.fileOperation.setAudioSwitch(t),cc.common.data.audioSwitch=e},loadScene:function(e){console.log("\u524d\u5f80\u573a\u666f \uff1a"+e),cc.director.loadScene(e)},isNumberOrCharacter:function(e){for(var t={CNLength:0,ENLength:0},i=0;i<e.length;i++){e.substr(i,1).charCodeAt()<=255?t.ENLength++:t.CNLength++}return t},getLabelHeightByStringLength:function(e,t,i,a){var o=this.isNumberOrCharacter(e);return Math.ceil(o.CNLength*t/a)*i},showWordTips:function(e,t,i){if(!this.isNULL(e)){var a=cc.find("Canvas"),o=cc.common.coohuaSdk.getWordsTipPrefab(),n=cc.instantiate(o);a.addChild(n);var s=n.getChildByName("sprite_word_1");s.active=!t;var c=n.getChildByName("sprite_word_2");c.active=t;var r=null;if(t){r=c.getChildByName("wordLabel");var l=cc.common.tool.getTwoDecimalPlaces(e);cc.common.data.gameExamine?r.getComponent(cc.Label).string="+"+e+"\u79ef\u5206":r.getComponent(cc.Label).string="+"+l+"\u5143"}else{var h=this.isNumberOrCharacter(e);if(s.width=50+36*h.CNLength+17*h.ENLength,(r=s.getChildByName("wordLabel")).getComponent(cc.Label).string=e,1==i){var d=s.getChildByName("spr");d.active=!0,r.getComponent(cc.Label)._forceUpdateRenderData(),r.x-=22,d.x+=r.getContentSize().width/2+22,s.width+=r.getContentSize().width/2+22}}n.zIndex=cc.macro.MAX_ZINDEX;var m=cc.delayTime(.8),u=cc.moveBy(.5,0,100),p=cc.callFunc(function(){n.destroy()},this);cc.tween(n).then(m).then(u).then(p).start()}},showReminderLayer:function(e,t,i){var a=cc.common.prefabRes.reminderPrefab,o=cc.instantiate(a);e.addChild(o),cc.find("sprite_bg/label_tip",o).getComponent(cc.Label).string=t;var n=cc.find("sprite_bg/button_confirm",o);n.on(cc.Node.EventType.TOUCH_END,function(){i&&i(),o.destroy()},n);var s=cc.find("sprite_bg/button_close",o);s.on(cc.Node.EventType.TOUCH_END,function(){o.destroy()},s)},getTwoPointAngle:function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*(180/Math.PI)},nodeTurnAround:function(e){console.log("\u8f6c\u5708\u4e86"),e.stopAllActions(),e.runAction(cc.repeatForever(cc.rotateBy(2,360)))},parseSecondToTime:function(e){var t=e,i=0,a=0,o=0;return t<60?o=t:t>=60&&t<3600?(-1!=(a=t/60+"").indexOf(".")&&(a=a.substr(0,a.indexOf("."))),o=t-60*parseInt(a)):t>=3600&&(-1!=(i=t/3600+"").indexOf(".")&&(i=i.substr(0,i.indexOf("."))),-1!=(a=(t-3600*parseInt(i))/60+"").indexOf(".")&&(a=a.substr(0,a.indexOf("."))),o=t-3600*parseInt(i)-60*parseInt(a)),(i<10?"0":"")+i+(a<10?":0":":")+a+(o<10?":0":":")+o},getTimeStringList:function(e,t){var i=0,a=0;e<60?(i=0,a=e):e>=60&&(-1!=(i=e/60+"").indexOf(".")&&(i=i.substr(0,i.indexOf("."))),a=e-60*parseInt(i));var o="",n="",s="";return t?(n=i<10?"0":"",s=a<10?":0":":"):(o=i<99?"0":"",n=i<10?"0":"",s=a<10?"0":""),o+n+i+s+a},httpRecvImg:function(e,t){if(e&&t){try{cc.loader.load(e+"?aa=aa.jpg",function(e,i){return!e&&(t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i),!0)})}catch(e){}return!1}},getAbbreviationNumber:function(e,t){if(!e)return 0;if(e<1e4)return parseInt(e);var i=t>=0?t:2;return(parseInt(e)/1e4).toFixed(i)+"\u4e07"},getTwoDecimalPlaces:function(e,t){return this.isNULL(e)?0:(e/100).toFixed(t>=0?t:2)},playVideoAd:function(e,t,i){if(console.log("=cc.common.data.platformISWin==",cc.common.data.platformISWin),this.isNULL(WebViewJavascriptBridge)||cc.common.data.platformISWin||cc.common.data.gameExamine)e&&e();else{var a={func:"playVideoAd",params:{skipAd:i}};console.log("==\u64ad\u653e\u89c6\u9891\u5e7f\u544a \u6fc0\u52b1\u89c6\u9891==",JSON.stringify(a)),cc.common.data.callHandler(a,function(i){0==i?t():e()})}},playZhiKeAd:function(e,t){if(this.isNULL(WebViewJavascriptBridge)||cc.common.data.platformISWin||cc.common.data.gameExamine)t&&t(60);else{var i={func:"playZhiKeAd",params:e};cc.common.data.callHandler(i,t)}},playSubLayerStaticAd:function(e,t){if(this.isNULL(WebViewJavascriptBridge)||cc.common.data.platformISWin||cc.common.data.gameExamine)t&&t();else{var i={func:"playStaticAd",params:{isShow:e}};cc.common.data.callHandler(i,t)}},gameMainLayerIsShow:function(e){if(!this.isNULL(WebViewJavascriptBridge)){var t={func:"gameMainLayerIsShow",params:{isShow:e}};cc.common.data.callHandler(t,function(e){console.log("==\u4e3b\u9875\u5c0f\u7535\u89c6\u5e7f\u544a\u663e\u793a==")})}},homeAdDownload:function(e){if(!this.isNULL(WebViewJavascriptBridge)){var t={func:"homeAdDownload",params:{download:e}};cc.common.data.callHandler(t,function(e){console.log("==\u70b9\u51fb\u4e3b\u9875\u5c0f\u7535\u89c6\u5e7f\u544a\u8c03\u7528\u5ba2\u6237\u7aef\u4e0b\u8f7d==")})}},playShareGame:function(e,t){if(void 0!=e&&e||(e="0"),console.log("=cc.common.data.platformISWin==",cc.common.data.platformISWin+"==type=",e),this.isNULL(WebViewJavascriptBridge)||cc.common.data.platformISWin||cc.common.data.gameExamine)t&&t();else{var i={func:"playShareGame",params:{shareType:e}};cc.common.data.callHandler(i,function(e){console.log("==\u5206\u4eab\u7ed3\u679c==",JSON.stringify(e)),t&&t()})}},jsCallJavaAndOC:function(e,t){cc.common.data.platformIsAndroid&&jsb.reflection.callStaticMethod(e,t,"()V"),cc.common.data.platformIsIOS&&jsb.reflection.callStaticMethod(e,t)},gameViewShowData:function(e){this.gameViewClickData(e)},gameViewClickData:function(e,t){console.log("=\u6570\u636e\u5e03\u70b9=\u9875\u9762\u70b9\u51fb==\u70b9\u51fb=",e+"=\u503c=",t),sa.track("WebClick",{page_name:"",element_page:e,element_name:t||"",page_url:window.location.href,userId:cc.common.data.httpHeader.accessKey.split("_")[1],$app_version:cc.common.data.httpHeader.appVersion,channel:cc.common.data.httpHeader.channel,imei:cc.common.data.httpHeader.deviceId,oaid:cc.common.data.httpHeader.oaid,product:cc.common.data.productName,$os:cc.common.data.httpHeader.os,dp_id:cc.common.data.httpHeader.deviceId,device_id:cc.common.data.httpHeader.deviceId,$device_id:cc.common.data.httpHeader.deviceId,os_version:cc.common.data.httpHeader.osVersion})},getIndexRank:function(e,t){for(var i=0;i<e.length;i++)if(e[i]>=t)return i-1;return-1},setCopyAndPaste:function(e){if(!(this.isNULL(WebViewJavascriptBridge)||cc.common.data.platformISWin||cc.common.data.gameExamine)){var t={func:"setCopyAndPaste",params:{code:e}};console.log("=\u590d\u5236\u9080\u8bf7\u7801==",JSON.stringify(t)),cc.common.data.callHandler(t,null)}},getBit:function(e,t){return console.log("==index==",t+"=value=",e>>t&1),1==(e>>t&1)},getCommonNameList:function(e){var t=["\u6f58\u77f3\u5c79","\u738b\u77f3","\u848b\u9521\u57f9","\u5411\u6587\u6ce2","\u725b\u6839\u751f","\u718a\u6653\u9e3d","\u738b\u5189","\u4e8e\u6e05\u6559","\u8c22\u6e05\u6d77","\u5218\u65d7\u8f89","\u5218\u6b65\u5c18","\u9648\u8fbe\u592b","\u8239\u957f","\u53f6\u8302\u4e2d","\u674e\u58eb\u798f","\u738b\u8fdb\u751f","\u4efb\u5fd7\u5f3a","\u4ed8\u4f1f","\u5b59\u8679\u94a2","\u5b8b\u65b0\u5b87","\u738b\u5fae","\u7fc1\u5411\u4e1c","\u5468\u6d4e\u8c31","\u8881\u5cb3","\u6210\u541b\u5fc6","\u827e\u5b66\u86df","\u96f7\u6c38\u519b","\u5218\u79cb\u534e","\u5b8b\u709c","\u5218\u4e1c\u534e","\u79d1\u7279\u52d2","\u9648\u5fd7\u5217","\u5f20\u5de8\u5cf0","\u59da\u65e5\u6765","\u674e\u671d\u66d9","\u5218\u5174\u4eae","\u6ca7\u6d77","\u66fe\u7389","\u59dc\u6c5d\u7965","\u5f90\u6d69\u7136","\u9093\u56fd\u575a","\u8f9c\u80dc\u963b","\u8303\u4ee5\u9526","\u90ed\u6893\u6797","\u79e6\u5408\u822b","\u738b\u80b2\u7428","\u738b\u8f89\u8000","\u80e1\u594e","\u534e\u4ed4","\u97e9\u8000\u56fd","\u5510\u6e05\u5efa","\u66f2\u5411\u4e1c","\u674e\u5fd7\u8d77","\u5434\u4f2f\u51e1","\u666f\u7d20\u5947","\u8d3e\u660c\u8363","\u6797\u56fd\u5cf0","\u6c88\u5764","\u5218\u8d24\u65b9","\u5468\u6c38\u4eae","\u9a6c\u5411\u9633","\u718a\u7130","\u5510\u5d07\u5065","\u738b\u5e7f\u4f1f","\u5b54\u7e41\u4efb","\u5218\u5b5d\u5168","\u5f90\u6d69\u7136","\u6c88\u9752","\u9648\u529f","\u674e\u8083","\u5b8b\u7acb\u65b0","\u91d1\u9519\u5200","\u5218\u6cf3\u534e","\u8def\u957f\u5168","\u767d\u7acb\u65b0","\u848b\u5c0f\u534e","\u6768\u6656","\u738b\u6c38","\u738b\u9896","\u9648\u4eae","\u90ed\u51e1\u751f","\u9ec4\u9e23","\u9773\u7fbd\u897f","\u738b\u5409\u4e07","\u8521\u660e","\u6768\u5353\u8212","\u5468\u9e3f\u794e","\u683e\u6da6\u5cf0","\u8d75\u6c11","\u59dc\u6c5d\u7965","\u5b63\u6b23\u9e9f","\u5f20\u5fd7\u96c4","\u5f20\u743c","\u94b1\u5b66\u950b","\u535e\u534e\u8235","\u738b\u5609\u4f26","\u535e\u79c9\u5f6c","\u767d\u4e91\u5cf0","\u7a0b\u671d\u6656","\u5468\u5f66\u5e73","\u5218\u4f73","\u6768\u66e6\u6ca6","\u5362\u6587\u5175","\u5218\u77f3","\u6c60\u5411\u4e1c","\u6bd5\u56fd\u624d","\u738b\u5409\u821f","\u738b\u65b9\u5251","\u6768\u5b50\u4e91","\u5e9e\u7389\u826f","\u4e25\u65ed","\u90ed\u4e16\u90a6","\u8c22\u5b8f","\u6797\u4e49\u76f8","\u738b\u6b63\u534e","\u4e25\u4ecb\u548c","\u5f20\u5fd7\u52c7","\u7aef\u6728","\u5415\u591a\u52a0","\u5218\u6770\u514b","\u4e8e\u521a","\u59dc\u660e","\u738b\u5dcd","\u8042\u5e86\u5e73","\u5b8b\u6587\u6d32","\u8d75\u6653","\u5f20\u4e94\u5e38","\u8305\u4e8e\u8f7c","\u738b\u5409\u7eef","\u6613\u5baa\u5bb9","\u8d75\u9521\u519b","\u738b\u798f\u91cd","\u5deb\u7ee7\u5b66","\u9646\u65b0\u4e4b","\u6885\u65b0\u80b2","\u65f6\u5bd2\u51b0","\u90ed\u7530\u52c7","\u90b9\u6052\u752b","\u76db\u6d2a","\u5f20\u66d9\u5149","\u738b\u4e1c\u4eac","\u5218\u519b\u6d1b","\u4f55\u5e06","\u5df4\u66d9\u677e","\u6731\u5e84\u8679","\u5218\u7eaa\u9e4f","\u91d1\u5ca9\u77f3","\u738b\u5148\u5e86","\u5362\u9e92\u5143","\u9879\u5175","\u4e01\u5b66\u826f","\u5f20\u5b81","\u6bb5\u7ecd\u8bd1","\u6797\u6bc5\u592b","\u8096\u91d1\u6210","\u5f20\u5bc5","\u5f20\u65ed\u6606","\u9676\u51ac","\u5362\u83c1","\u5f90\u6ec7\u5e86","\u8463\u85e9","\u4f55\u534f","\u4f59\u6839\u94b1","\u9c81\u653f\u59d4","\u4f59\u5143\u6d32","\u8463\u4fdd\u534e","\u5b59\u7acb\u575a","\u8c22\u767e\u4e09","\u6c64\u654f","\u4e01\u5fd7\u6770","\u90ce\u54b8\u5e73","\u738b\u5fd7\u4e50","\u9a6c\u5b87","\u4f55\u5fd7\u6bc5","\u5434\u5fd7\u5cf0","\u8c22\u4f5c\u8bd7","\u6731\u9521\u5e86","\u859b\u5146\u4e30","\u90d1\u98ce\u7530","\u6c88\u660e\u9ad8","\u4f55\u7ef4\u8fbe","\u8bb8\u5bb6\u6797","\u5415\u968f\u542f","\u97e9\u5fd7\u56fd","\u5de6\u6653\u857e","\u5218\u715c\u8f89","\u8463\u767b\u65b0","\u6069\u9053\u5c14","\u66f9\u51e4\u5c90","\u9ec4\u660e","\u8fea\u8fea\u57c3","\u674e\u5f00\u53d1","\u5b59\u6da4","\u66f9\u5efa\u6d77","\u5c39\u4e2d\u7acb","\u5434\u6653\u6ce2","\u5f20\u660e","\u8096\u803f","\u9648\u5fd7\u6b66","\u674e\u73b2","\u5f90\u6d2a\u624d","\u6797\u4f2f\u5f3a","\u8d56\u4f1f\u6c11","\u8d75\u4f1f","\u5218\u5229\u521a","\u5468\u5176\u4ec1","\u674e\u7a3b\u8475","\u7ba1\u6e05\u53cb","\u590f\u658c","\u80e1\u661f\u6597","\u77f3\u5efa\u52cb","\u79e6\u6656","\u66f9\u8fdc\u5f81","\u90dd\u6f14\u82cf","\u8881\u94a2\u660e","\u738b\u5c0f\u9c81","\u987e\u94ed\u5fb7","\u6f58\u82f1\u4e3d","\u5b54\u7965\u667a","\u4f55\u5e7f\u6587","\u9648\u6770","\u8bb8\u5c0f\u5e74","\u9648\u5e73","\u738b\u5360\u9633","\u5f20\u7ef4\u8fce","\u59da\u4f59\u6881","\u97e9\u590d\u9f84","\u5468\u5929\u52c7","\u9648\u6d69\u6b66","\u90ed\u751f\u7965","\u8303\u5fc5","\u59da\u6811\u6d01","\u8c22\u4e39\u9633","\u6d2a\u5e73\u51e1","\u8d75\u5f18","\u5434\u56fd\u4fca","\u6c88\u5efa\u5149","\u90b9\u6052\u752b","\u6768\u518d\u5e73","\u674e\u7f57\u529b","\u6731\u5b81","\u51af\u5174\u5143","\u718a\u9e6d","\u4e8e\u6653\u534e","\u5c48\u5b8f\u658c","\u9ec4\u9707","\u5218\u5c1a\u5e0c","\u9ec4\u5efa\u4e2d","\u738b\u5fb7\u57f9","\u53f6\u6a80","\u6768\u5b87\u4e1c","\u9a6c\u5149\u8fdc","\u76ae\u6d77\u6d32","\u5218\u6b63\u5c71","\u65b9\u6cc9","\u5218\u5146\u8f89","\u5468\u6625\u5175","\u9648\u5e8f","\u9c81\u5b81","\u5b81\u5c71","\u5434\u6728\u92ae","\u6731\u5c0f\u592e","\u6731\u5927\u9e23","\u94ae\u6587\u65b0","\u6751\u5987","\u5218\u6749","\u82cf\u57f9\u79d1","\u8463\u5c11\u9e4f","\u4e94\u8fde\u53d1","\u7f57\u632f\u5b87","\u5468\u658c","\u7a0b\u5b9e","\u7f57\u5efa\u6cd5","\u7f57\u5929\u660a","\u66f9\u4e2d\u94ed","\u675c\u6cfd\u58ee","\u9a6c\u5fe0\u666e","\u6768\u5c0f\u6d01","\u5f20\u5fd7\u4f1f","\u5f20\u7ef4","\u5085\u5cd9\u5cf0","\u76db\u5927\u6797","\u6c34\u76ae","\u4f59\u4e30\u6167","\u9648\u5251\u592b","\u79e6\u6714","\u8d39\u56fd\u5e73","\u6731\u65f6\u5747","\u82cf\u5c0f\u548c","\u5f20\u5f13\u60ca","\u66f9\u5f64","\u5f20\u5ead\u5bbe","\u77f3\u78ca","\u660e\u6e05\u77f3","\u7aa6\u542b\u7ae0","\u5f90\u65ed\u7ea2","\u5468\u592a\u53cb","\u8d75\u5ca9","\u5c01\u57ce","\u5510\u94a7","\u7ae5\u5927\u7115","\u7f57\u6170\u5e74","\u5468\u884c\u5065","\u5218\u632f\u534e","\u667a\u52c7","\u6797\u91c7\u5b9c","\u5218\u5fe0\u826f","\u4f55\u4e9a\u798f","\u5218\u8fdc\u4e3e","\u80e1\u91ca\u4e4b","\u8521\u7ea2\u4e1c","\u6768\u6797","\u827e\u8bda","\u5b59\u8363\u6d77","\u674e\u80dc\u54f2","\u5b59\u8273\u8273","\u674e\u99a8","\u5f20\u5fd7\u519b","\u5f20\u539a\u5b9d","\u5e9e\u6587\u6d9b","\u5b8b\u723d","\u80e1\u5a77","\u738b\u91d1\u56fd","\u5f20\u7ee7\u798f","\u7f8a\u7433","\u91d1\u946b","\u6c6a\u6d9b","\u4e8e\u96f7","\u76db\u51e4\u971e","\u5218\u5e7f\u6c38","\u5f20\u6dd1\u675c","\u674e\u626c","\u79e6\u5609\u6b23","\u738b\u5c9a","\u9a6c\u952e\u4f1f","\u5b8b\u7ee7\u670b","\u674e\u7231\u73b2","\u5218\u8389","\u5b59\u5e7f\u8f89","\u738b\u957f\u5174","\u5f20\u6587\u6770","\u5201\u5e0c\u521a","\u738b\u71d5","\u66f9\u632f\u4f1f","\u4e8e\u5764\u5fd7","\u4fee\u660e\u4e49","\u5415\u4e15\u661f","\u6c5f\u5b88\u541b","\u5434\u7231\u82b9","\u9646\u6842\u73b2","\u6f58\u8d3b\u6590","\u738b\u79c0\u82b9","\u738b\u5f69\u73b2","\u90ed\u519b\u840d","\u53f2\u5fe0\u8bfa","\u7ee7\u7389\u6c11","\u5ec9\u9e3f\u6885","\u5218\u7fd4","\u5468\u5e0c\u82b3","\u5218\u6210\u6d2a","\u738b\u4e3d\u4e3d","\u674e\u5b5d\u5bff","\u5b59\u84ec\u52c3","\u738b\u4fca","\u5f90\u7acb\u6ce2","\u5c39\u7fe0\u82b1","\u6731\u8bb0\u7965","\u674e\u536b","\u90b9\u5927\u9e4f","\u8fb9\u6587\u6d69","\u9730\u7433","\u674e\u6cf0\u9f99","\u8d75\u78ca","\u6731\u6c38\u80dc","\u5415\u82b9","\u4f0a\u4f73","\u90a2\u5b9d\u6807","\u8def\u7389\u5a25","\u4e8e\u56fd\u826f","\u4faf\u70c1","\u738b\u4e3d\u534e","\u90ed\u5efa\u660c","\u90ed\u65b9\u81e3","\u82cf\u5b66\u73b2","\u9a6c\u817e\u5bbe","\u4e8e\u6d77\u6d9b","\u738b\u5149\u5fd7","\u5c39\u6653\u8273","\u5f20\u6842\u8363","\u5b59\u4e1a\u660e","\u6768\u9022\u6c38","\u5b59\u6d69\u6210","\u8346\u6797\u5fe0","\u5f90\u957f\u5764","\u94b1\u7389\u56fd","\u97e9\u5176\u519b","\u97e9\u5229\u7965","\u90dd\u5e86","\u5b59\u767b\u5f3a","\u97e9\u7965\u6770","\u82cf\u78ca","\u4e8e\u6d2a\u5a1f\u738b\u5efa","\u738b\u4ecb\u73cd","\u79cd\u7855","\u9b4f\u4e66\u7f8e","\u9648\u5efa\u519b","\u674e\u59dd\u8fb0","\u5218\u7389\u73af","\u9a6c\u4f1f","\u6b27\u6653\u4e3d","\u66f9\u58eb\u4f1f","\u9ad8\u5347","\u738b\u65b0\u6210","\u8463\u6653\u4e3d","\u738b\u9053\u5e73","\u674e\u751f","\u4e54\u4f1f","\u8fdf\u6d2a\u6c5f","\u738b\u6d2a\u8273","\u90b9\u660e","\u5f20\u57f9\u987a","\u9a6c\u632f\u56fd","\u6797\u6749","\u5f20\u96f7","\u8303\u9e4f\u98de","\u683e\u6dd1\u82b3","\u5468\u5929\u8302","\u5f20\u8fce\u660e","\u91d1\u5a1c","\u95eb\u6709\u5fd7","\u6797\u6811\u9999","\u738b\u5efa\u52cb","\u738b\u8273","\u8d75\u542f\u8d85","\u4faf\u60a6\u519b","\u9004\u6c38\u6ce2","\u5218\u4e07\u4e50","\u5218\u6cd5\u6ec7","\u738b\u4e16\u6770","\u6881\u4f20\u797a","\u4e01\u7433","\u738b\u4f1f","\u5b5f\u73b2","\u674e\u6587\u5149","\u5f20\u6797","\u5bab\u4fdd\u6770","\u539f\u4e16\u6885","\u738b\u7acb\u5a1c","\u738b\u6052\u5229","\u674e\u6653\u71d5","\u5d14\u5efa\u6210","\u738b\u6653\u6021","\u5218\u536b\u5e73","\u7a0b\u7476\u7476","\u5d14\u6797\u5e73","\u8bb8\u5e05","\u8881\u4eba\u521a","\u674e\u5e7f\u5e86","\u674e\u6d0b","\u5f20\u9521\u60e0","\u5b8b\u8fea","\u8d75\u826f\u81e3","\u5415\u54c1\u5fd7","\u9b4f\u71d5","\u5218\u5b50\u9f99","\u675c\u5efa\u5f3a","\u738b\u840d","\u6881\u5a1f\u5a1f","\u4faf\u529b\u7ea2","\u738b\u7acb\u840d","\u4faf\u6653\u8363","\u5d14\u5929\u5fe0","\u90dd\u519b","\u6881\u96ea\u71d5","\u5f20\u748b","\u738b\u6d2a\u5a1c","\u8303\u7389\u82b1","\u738b\u5e78\u7426","\u9f50\u8fdb\u53cb","\u5180\u6d9b\u6d93","\u4e8e\u82b9","\u5a04\u627f\u65ed","\u738b\u8363","\u9a6c\u6bbf\u589e","\u5218\u51ac\u51ac","\u8340\u5b66\u8d35","\u738b\u6625\u8679","\u738b\u5b66\u7b56","\u5f20\u4e3d\u654f","\u859b\u82f1\u8fdb","\u65b9\u666f\u76db","\u5d14\u8d22\u672c","\u674e\u65b0\u6d77","\u6f58\u58eb\u4fca","\u5f20\u5029","\u738b\u5fc3\u521a","\u738b\u6c5d\u826f","\u6218\u5fb7\u660c","\u91d1\u665f\u9e23","\u5415\u8363\u798f","\u968b\u4fe1\u826f","\u6e29\u745e\u73ed","\u738b\u80b2\u80dc","\u95eb\u798f\u6797","\u738b\u5c0a\u5e8f","\u9a6c\u5fb7\u5fd7","\u9a6c\u79c0\u59ae","\u9a6c\u5c0f\u78ca","\u5218\u632f\u5fb7","\u6148\u534e","\u5b59\u56fd\u4e1a","\u5f90\u7acb\u8d85","\u4e01\u840d","\u845b\u6811\u6c11","\u803f\u6210\u540d","\u8303\u8d1e\u6770","\u5b54\u7965","\u738b\u79ef\u971e","\u6768\u4e30\u8273","\u8fee\u5174\u987a","\u6881\u5b66\u6797","\u8303\u6842\u5170","\u738b\u4e16\u5c90","\u5b59\u4eae","\u79e6\u7ecd\u5176","\u59dc\u4eae","\u8bb8\u672c\u6770","\u5f20\u7231\u8363","\u5218\u65b0\u666f","\u6bb5\u7389\u663e","\u738b\u5fd7\u65ed","\u79e6\u6c38\u751f","\u738b\u5e9a\u82b3","\u4e8e\u6d9b","\u5468\u6797\u6885","\u970d\u94b0\u99a8","\u5510\u5c0f\u8389","\u674e\u5411\u4e1c","\u674e\u82f1\u519b","\u5415\u5b88\u8f89","\u738b\u56fd\u5efa","\u90b9\u5fd7\u8fc5","\u5f20\u7115\u5f3a","\u8463\u6587\u9896","\u90b5\u5bb6\u521d","\u738b\u601d\u539a","\u97e9\u961c\u5448","\u5b59\u7231\u537f","\u848b\u5065","\u9a86\u6d2a\u8bad","\u5b59\u5efa\u82b9","\u674e\u57f9\u660e","\u6768\u57f9\u53cb","\u4e8e\u6653\u5149","\u5f20\u7fe0\u829d","\u738b\u7389\u6b23","\u738b\u745e\u537f","\u738b\u660e\u822b","\u59dc\u534e","\u674e\u6d77\u82f1","\u90b9\u6e05\u597d","\u5415\u5efa\u56fd","\u4faf\u4e1c\u57fa","\u5218\u96ea\u590f","\u5b59\u6210\u5b89","\u5f20\u7115\u4e1c","\u5b54\u94b0\u94a7","\u5218\u5efa","\u5f20\u598d","\u5b59\u6653\u8273","\u59dc\u658c","\u738b\u817e","\u90ed\u6625\u798f","\u9648\u57f9\u6d77","\u5d14\u4e16\u884c","\u66f2\u653f\u4e1c","\u5e9e\u667a\u94ed","\u9648\u7389\u83b2","\u738b\u9759","\u9a6c\u5b9d\u5fe0","\u5f20\u6653\u71d5","\u5b59\u9759","\u674e\u7ef4\u658c","\u683e\u5409\u680b","\u674e\u5b8f\u5229","\u76db\u56fd\u8d22","\u4e8e\u7ef4\u6c11","\u5b59\u6842\u7389","\u9ad8\u8fdb\u5149","\u5218\u6c38\u79c0","\u9b4f\u5146\u529f","\u7aa6\u767e\u91d1","\u8303\u4f5c\u56fd","\u738b\u589e\u6797","\u65b9\u5bff\u4ead","\u674e\u7f8e\u73b2","\u674e\u658c","\u5b59\u5929\u6ce2","\u59ec\u5e38\u6d2a","\u66f9\u6d2a\u82f1","\u674e\u5b9d\u519b","\u5f20\u6dd1\u6167","\u9648\u767e\u9e4f","\u8fdf\u660e\u53cb","\u738b\u7389\u534e","\u8d75\u672f\u6770","\u51af\u542f\u82b1","\u97e9\u5b66\u751f","\u5f90\u632f\u5f3a","\u5d14\u4e2d\u73cd","\u8d75\u5b88\u672c","\u4e8e\u5efa\u7fa4","\u5b8b\u7ecf\u829d","\u9b4f\u8303","\u8d75\u536b\u4e91","\u8881\u6587\u79c0","\u5218\u5510\u6e05","\u5b5f\u5e86\u519b","\u891a\u8273\u4e3d","\u90ce\u4e30\u5170","\u674e\u9521\u6cb3","\u9ad8\u6d2a\u798f","\u7ba1\u6069\u559c","\u9a6c\u6d2a\u5761","\u7530\u5168\u660c","\u6b66\u5b66\u82f1","\u674e\u660c\u76db","\u674e\u5fb7\u4ec1","\u725b\u58eb\u7984","\u90ed\u91d1\u6ee1","\u8c22\u4e3d\u73b2","\u4f55\u8302\u4f1f","\u79e6\u79c0\u6c5f","\u674e\u7389\u519b","\u5b8b\u5146\u534e","\u738b\u5b98\u82d3","\u5218\u5b97\u7965","\u725f\u6cfd\u53c8","\u5b8b\u5c11\u82f1","\u674e\u5357\u5357","\u9c81\u957f\u8302","\u738b\u69d0\u5fb7","\u738b\u798f\u53cb","\u738b\u542f\u781a","\u6613\u53cb\u5168","\u5468\u4e43\u826f","\u5468\u5efa\u7ea2","\u5b59\u5f3a","\u738b\u9f99\u4e91","\u5b8b\u5b66\u7ae0","\u970d\u4e3d\u654f","\u674e\u5cf0","\u5218\u658c","\u6f58\u7acb\u7f8e","\u97e9\u5a1f","\u4e8e\u4f1f\u534e","\u8d75\u6708\u5e73","\u59dc\u7ea2\u71d5","\u5bc7\u5b66\u6709","\u5e38\u7ef4\u971e","\u8463\u5efa\u535a","\u4e54\u65e5\u5f69","\u5f20\u6c38\u51e4","\u6bdb\u5efa\u6c11","\u59dc\u957f\u5bcc","\u90ed\u826f\u5a1f","\u5b59\u5fd7\u798f","\u5f20\u5146\u5168","\u9a6c\u5b88\u6625","\u987e\u7389\u7965","\u738b\u4e09\u820d","\u5b59\u5b89\u6cd5","\u859b\u590d\u4e3d","\u5b59\u5e86\u521a","\u674e\u57f9\u5fe0","\u5218\u91d1\u653f","\u90ed\u79c0\u529f","\u674e\u5409\u7ae0","\u5b59\u79c0\u537f","\u66f9\u5149\u524d","\u738b\u9f99\u5409","\u8d75\u5fd7\u7075","\u9ec4\u51e4\u5b66","\u5d14\u4e43\u6210","\u5f20\u654f","\u674e\u57f9\u5b9d","\u5f20\u7231\u71d5","\u90ac\u6797","\u8d3e\u56fd\u5fe0","\u738b\u65b0\u670b","\u5f20\u5146\u660e","\u6c64\u79c0\u6885","\u8463\u5174\u8def","\u738b\u6c49\u5e86","\u5218\u534e\u4f1f","\u9f50\u4e91\u5cf0","\u90d1\u5fb7\u4e91","\u8d75\u4e16\u660c","\u674e\u91d1\u91d1","\u5f20\u91d1\u7965","\u674e\u5146\u7965","\u674e\u6770","\u5b8b\u7acb\u534e","\u738b\u4fca\u6d9b","\u5218\u660e\u7ea2","\u8881\u6ce2","\u738b\u7ee7\u5b9d","\u5b8b\u4fee\u781a","\u5218\u6e05\u4e1c","\u5b59\u6676","\u738b\u5efa\u82ac","\u738b\u56fd\u534e","\u738b\u94a6\u8363","\u674e\u5b66\u5f3a","\u8c2d\u745e\u521a","\u968b\u76f8\u519b","\u674e\u626c","\u5b5f\u5e86\u624d","\u738b\u6811\u624d","\u738b\u540c\u534e","\u5f20\u9f99\u7965","\u90d1\u827a\u4f1f","\u5f20\u6b66\u5143","\u8303\u5e86\u6c5f","\u59dc\u660e\u80dc","\u7ba1\u5ef6\u660e","\u9ad8\u660e\u5e86","\u5bab\u7389\u6625","\u5218\u9645\u4f1f","\u5468\u6765\u6e05","\u738b\u6dd1\u7965","\u968b\u5efa\u4f1f","\u5b8b\u7231\u9999","\u8303\u7acb\u8d24","\u8d75\u6e05\u660e","\u5cb3\u7389\u7530","\u674e\u5b66\u4fe1","\u90ed\u5bbd\u4eae","\u5b59\u793c\u5fe0","\u5eb7\u6653\u6668","\u9648\u91d1\u660e","\u97e9\u670b\u670b","\u8d75\u6d2a\u559c","\u90dd\u6765\u52cb","\u6f58\u52a0\u80dc","\u6768\u51ac\u8bba","\u738b\u7ef4\u53cb","\u5d14\u6e05\u521a","\u90ed\u5b97\u6cfd","\u674e\u82b1\u8363","\u674e\u4f5c\u6d69","\u7f57\u70b3\u5f1f","\u5218\u5148\u5175","\u7aa6\u6ce2","\u738b\u57f9\u660e","\u6f58\u5ef6\u4f1f","\u738b\u660e\u78ca","\u674e\u6811\u660c","\u5f20\u5d07\u7f8e","\u9004\u6dd1\u68cb","\u4ed8\u5174\u6770","\u6bdb\u7389\u5bcc","\u9ad8\u6811\u68ee","\u8463\u8273\u6885","\u8c2d\u6d9b","\u5b59\u5316\u826f","\u6bb5\u52cb","\u9648\u70b3\u4fe1","\u5f20\u4f43\u946b","\u674e\u5fd7\u7530","\u738b\u5915\u5149","\u90d1\u91d1\u6ce2","\u5b63\u53ec\u4e91","\u6c6a\u7231\u4e1c","\u5468\u798f\u8389","\u6bb5\u5174\u6c34","\u674e\u82b9\u6885","\u5f20\u7389\u82b1","\u5218\u7389\u5fb7","\u59dc\u6c38\u534e","\u5b59\u53cb\u52e4","\u5218\u5f3a","\u5218\u6d2a\u4eae","\u6234\u7eaa\u5764","\u8def\u5a9b\u5a9b","\u5f6d\u6811\u594e","\u7a0b\u7115\u829d","\u5218\u950b\u9510","\u59dc\u4f20\u6606","\u7ba1\u57f9\u6625","\u7384\u627f\u624d","\u5218\u79c0\u82f1","\u5b54\u4ee4\u6d77","\u674e\u7115\u6625","\u9ec4\u6cfd\u5347","\u9648\u7389\u5f81","\u738b\u5bc6\u5764","\u5b8b\u79c0\u6e05","\u738b\u5149\u660e","\u9a6c\u826f\u4e4b","\u5f90\u57f9\u8d35","\u5f20\u7acb\u5929","\u8096\u5b58\u6c38","\u6ed5\u5c11\u6885","\u51b7\u663e\u5e73","\u5b8b\u798f\u987a","\u6768\u4e91\u6c47","\u8d3e\u6625\u82ac","\u66f9\u4e30\u6625","\u738b\u65b9\u4ec1","\u738b\u6653\u541b","\u5f20\u5d07\u5170","\u5218\u7433","\u968b\u4e15\u8a00","\u71d5\u5316\u7965","\u4e01\u5fb7\u7fa4","\u5b59\u987a\u4e66","\u90dd\u4f73","\u6234\u5efa\u90a6","\u8463\u4e30\u7965","\u5b59\u79c0\u8363","\u5434\u660e\u798f","\u674e\u4e16\u5b50","\u5c01\u6d2a\u6c60","\u9a6c\u7ef4\u6c5f","\u90d1\u53ec\u7389","\u5f20\u5e73","\u4e8e\u632f\u65d7","\u5362\u5411\u8363","\u8bb8\u4ec1\u6d9b","\u6797\u5728\u971e","\u5218\u897f\u592a","\u5b59\u5a1f","\u8303\u5fb7\u798f","\u5f20\u5e06","\u738b\u732e\u5e73","\u5f20\u6d2a\u541b","\u5f20\u65ed\u4ee4","\u9ad8\u6000\u4e1c","\u5468\u8fde\u7965","\u5218\u534e"];return e?e<=t.length?t.slice(0,e-1):e>t.length?[]:void 0:t}}),cc._RF.pop()},{}],TurnTableLayer:[function(e,t,i){"use strict";cc._RF.push(t,"287c0lumtpCOLEHfV/ylwPC","TurnTableLayer"),cc.Class({extends:cc.Component,properties:{rewardList:[cc.SpriteFrame],turnSpr:cc.Sprite,nodeTip:cc.Node,nodeTurn:cc.Node,nodeMask:cc.Node,nodeMain:cc.Node,nodeRule:cc.Node,nodeBottle:cc.Node,progressBar:cc.Node,nodePrize:cc.Node,nodeDouble:cc.Node,nodeBoxReward:cc.Node,nodeLucky:cc.Node,boxSpr:[cc.SpriteFrame],rewardFragmentSpr:[cc.SpriteFrame],titleSpr:[cc.SpriteFrame],titleLightSpr:[cc.SpriteFrame],boxPrefab:cc.Prefab},onLoad:function(){var e=this;this.accSpeed=.08,this.maxSpeed=20,this.curSpeed=5,this.maxAwardNum=6,this.turnType=-1,this.spinTime=0,this.defaultAngle=Math.floor(40*Math.random())+10,this.springback=!1,this.gearAngle=360/this.maxAwardNum,this.finalAngle=0,this.decAngle=360,this.springbackAngle=0,this.duration=2,this.isShow=!0,cc.common.data.requestSeverDataTurnTable(function(t){console.log("----------\u8bf7\u6c42\u62bd\u5956\u6570\u636e------------\uff1a".concat(JSON.stringify(t))),0==t.code&&t.result&&e.initTurnTableData(t.result)}),cc.common.data.notificationCenter.on(CURRENT_LAYER_EXIT,this.btnCloseCallBack.bind(this),this)},start:function(){this.gameScene=this.node.parent.getChildByName("game_layer").getComponent("GameScene"),this.isOpenLayer=!1,this.rewardType=3,this.curDoubleReward=[],this.rewardPrizeList=[],this.rewardSprList={iphone:this.rewardList[0],phoneBill:this.rewardList[1],rateFlow:this.rewardList[2],redPacket:this.rewardList[3]},this.rewardFragmentSprList={iphone:this.rewardFragmentSpr[0],phoneBill:this.rewardFragmentSpr[1],rateFlow:this.rewardFragmentSpr[2],redPacket:this.rewardFragmentSpr[3]},this.showTodyRewardInfo(),this.addTurnTableAni(!0)},initTurnTableData:function(e){if(this.turnTableInfo=cc.common.fileOperation.getTurnTableInfo(),this.showExtraFunction=e.showExtraFunction,this.turnTableInfo.endDate){var t=this.getTodayTime(this.turnTableInfo.endDate);this.getTodayTime(e.config.startDate)>t&&this.resetTurnTableData(e)}else this.resetTurnTableData(e);var i=this.getTodayTime();i!=this.turnTableInfo.todayDate&&(this.turnTableInfo.todayDate=i,this.turnTableInfo.doubleNum=e.config.dayTripleTimes,this.turnTableInfo.totalLotteryNum=0,this.turnTableInfo.receiveType=0,cc.common.fileOperation.setTurnTableInfo(this.turnTableInfo));var a=e.config.itemList;this.prizeInfo=[];for(var o=0;o<a.length;++o){var n={};n.name=a[o].name,n.curNum=this.turnTableInfo.prizeNum[o],n.double=3,n.needNum=a[o].num,n.reward=a[o].reward,n.type=a[o].type,n.index=a[o].id,n.icon=a[o].icon,1==n.type&&(n.icon="redPacket"),this.prizeInfo.push(n)}this.updatePrizeInfo(),this.updateProgressBar(),this.setStartTurnBtn(),this.initAwardList(this.prizeInfo),this.nodeTurn.getChildByName("lab").getComponent(cc.Label).string="\u5269\u4f59\u6b21\u6570\uff1a"+this.turnTableInfo.residueDegree;var s=e.config.startDate.replace(/-/g,"."),c=e.config.endDate.replace(/-/g,"."),r="\u6d3b\u52a8\u65f6\u95f4:".concat(s,"-").concat(c);this.nodePrize.getChildByName("title").getChildByName("lab").getComponent(cc.Label).string=r},resetTurnTableData:function(e){this.turnTableInfo.todayDate=this.getTodayTime(),this.turnTableInfo.startDate=e.config.startDate,this.turnTableInfo.endDate=e.config.endDate,this.turnTableInfo.residueDegree=e.config.initialEnergy,this.turnTableInfo.prizeNum=[0,0,0,0,0,0],this.turnTableInfo.manualBottleNum=e.config.dayAddEnergyTimes,this.turnTableInfo.doubleNum=e.config.dayTripleTimes,this.turnTableInfo.luckyTaskNum=e.config.extraChestTimes,this.turnTableInfo.totalLotteryNum=0,this.turnTableInfo.receiveType=0,cc.common.fileOperation.setTurnTableInfo(this.turnTableInfo)},getTodayTime:function(e){if(!e){var t=new Date;e=[t.getFullYear(),t.getMonth()+1,t.getDate()].join("-")}return e+=" 07:00:00",new Date(e).getTime()},initAwardList:function(e){for(var t=0;t<e.length;++t){var i=this.turnSpr.node.getChildByName("item"+t);if(i.active=!0,0!=e[t].type){var a=cc.common.tool.getTwoDecimalPlaces(e[t].reward);i.getChildByName("lab").getComponent(cc.Label).string=e[t].name+"*".concat(a),i.getChildByName("lab1").getComponent(cc.Label).string="".concat(a),i.getChildByName("lab1").active=!0}else i.getChildByName("lab").getComponent(cc.Label).string=e[t].name;var o=this.rewardSprList[e[t].icon];o instanceof cc.Node?(i.getChildByName("spr").active=!1,o.parent=i,o.position=cc.v2(0,0),o.active=!0):(i.getChildByName("spr").active=!0,i.getChildByName("spr").getComponent(cc.Sprite).spriteFrame=this.rewardSprList[e[t].icon])}},showTodyRewardInfo:function(){var e=this,t=["100\u5143\u8bdd\u8d39","10G\u6d41\u91cf","iphone 11pro"],i=cc.common.tool.getCommonNameList(),a=i.length,o=1,n=function(e){for(var o="\u606d\u559c\u7528\u6237Elline\u4eca\u65e5\u83b7\u5f97\u7ea2\u5305*200",n=i[Math.floor(Math.random()*(a-1))]||"",s="",c=0;c<n.length-1;++c)s+="*";if(s+=n.substring(n.length-1,n.length),50*Math.random()<=1){var r=Math.floor(Math.random()*t.length),l=t[r]||t[0];o="\u606d\u559c\u7528\u6237 ".concat(s," \u4eca\u65e5\u83b7\u5f97").concat(l)}else o="\u606d\u559c\u7528\u6237 ".concat(s," \u4eca\u65e5\u83b7\u5f97\u7ea2\u5305*200");e.getComponent(cc.Label).string=o};n(this.nodeMask.getChildByName("reward_info1"));(function t(){var i=e.nodeMask.getChildByName("reward_info".concat(o));cc.tween(i).by(.5,{position:cc.v2(0,40)}).start();var a=1==o?2:1,s=e.nodeMask.getChildByName("reward_info".concat(a));n(s),cc.tween(s).to(.5,{position:cc.v2(0,0)}).delay(2).call(function(){i.y=-45,o=a,t()}).start()})()},addLightAni:function(e){var t=this.nodeTurn.getChildByName("light"),i=this.nodeTurn.getChildByName("light1");if(!e)return t.stopAllActions(),t.opacity=255,void(i.opacity=0);cc.tween(t).repeatForever(cc.tween().delay(.2).call(function(){t.opacity=0==t.opacity?255:0,i.opacity=0==i.opacity?255:0})).start()},addTurnTableAni:function(e){e?(this.nodeTurn.getChildByName("hand").active=!0,cc.tween(this.nodeTurn.getChildByName("bg1")).repeatForever(cc.tween().by(.1,{angle:-5})).start()):(this.nodeTurn.getChildByName("hand").active=!1,this.nodeTurn.getChildByName("bg1").stopAllActions())},showLotteryResults:function(){this.playStaticAd(),this.addTurnTableAni(!0),this.isOpenLayer=!1,this.nodeTip.active=!0,this.nodeTip.getChildByName("bg").getComponent(cc.Animation).play();var e=this.prizeInfo[this.rewardType].index,t=this.nodeTip.getChildByName("bg");if(e>0){t.getChildByName("red_bg").active=!0,t.getChildByName("continue").active=!1;for(var i=t.getChildByName("red_bg"),a=0,o=this.prizeInfo.length;a<o;++a)if(this.prizeInfo[a].index==e){var n=t.getChildByName("red_bg").getChildByName("progress");0!=this.prizeInfo[a].type?(i.getChildByName("lab").getComponent(cc.Label).string=this.prizeInfo[a].name+"*"+this.prizeInfo[a].reward/100,i.getChildByName("lab1").getComponent(cc.Label).string=this.prizeInfo[a].reward/100,n.active=!1,t.getChildByName("red_bg").getChildByName("tips").active=!1):(i.getChildByName("lab").getComponent(cc.Label).string=this.prizeInfo[a].name+"\u788e\u7247",n.active=!0,t.getChildByName("red_bg").getChildByName("tips").active=!0),this.curDoubleReward=[],this.curDoubleReward.push({index:a,num:1}),this.prizeInfo[a].curNum++;var s=this.rewardFragmentSprList[this.prizeInfo[a].icon];i.getChildByName("red").active=!0,i.getChildByName("red").getComponent(cc.Sprite).spriteFrame=s,n.getChildByName("bar").getComponent(cc.Sprite).fillRange=this.prizeInfo[a].curNum/this.prizeInfo[a].needNum,n.getChildByName("lab").getComponent(cc.Label).string="".concat(this.prizeInfo[a].curNum,"/").concat(this.prizeInfo[a].needNum);break}var c=i.getChildByName("btn_ok").getChildByName("bg"),r=c.getChildByName("lab"),l=this.prizeInfo[this.rewardType].double>1&&this.turnTableInfo.doubleNum>0;r.active=l,c.getChildByName("lab1").active=l,c.getChildByName("lab2").active=l,c.getChildByName("lab3").active=!l,l&&(r.getComponent(cc.Label).string=this.prizeInfo[this.rewardType].double)}else t.getChildByName("red_bg").active=!1,t.getChildByName("continue").active=!0;t.getComponent(cc.Animation).play()},setStartTurnBtn:function(){this.turnTableInfo.residueDegree<=0?(this.nodeTurn.getChildByName("btn_turn").active=!1,this.nodeTurn.getChildByName("btn_turn1").active=!0):(this.nodeTurn.getChildByName("btn_turn").active=!0,this.nodeTurn.getChildByName("btn_turn1").active=!1)},updateProgressBar:function(){var e=this.progressBar.getChildByName("bar"),t=this.turnTableInfo.totalLotteryNum>=10?1:this.turnTableInfo.totalLotteryNum/10;e.getComponent(cc.Sprite).fillRange=t,this.updateBoxStatus()},updateBoxStatus:function(){var e=this.progressBar.getChildByName("box1"),t=this.progressBar.getChildByName("box2"),i=[[0,2],[1,2],[0,3],[1,3]],a=this.turnTableInfo.receiveType;e.getComponent(cc.Sprite).spriteFrame=this.boxSpr[i[a][0]],t.getComponent(cc.Sprite).spriteFrame=this.boxSpr[i[a][1]]},updatePrizeInfo:function(){for(var e={iphone:[this.nodePrize.getChildByName("prize1"),this.rewardList[0]],phoneBill:[this.nodePrize.getChildByName("prize2"),this.rewardList[1]],rateFlow:[this.nodePrize.getChildByName("prize3"),this.rewardList[2]]},t=0,i=this.prizeInfo.length;t<i;++t)if(0==this.prizeInfo[t].type){var a=e[this.prizeInfo[t].icon][0];if(a){a.getChildByName("spr").getComponent(cc.Sprite).spriteFrame=e[this.prizeInfo[t].icon][1],a.getChildByName("lab").getComponent(cc.Label).string=this.prizeInfo[t].name;var o=a.getChildByName("progress");o.getChildByName("bar").getComponent(cc.Sprite).fillRange=this.prizeInfo[t].curNum/this.prizeInfo[t].needNum,o.getChildByName("lab").getComponent(cc.Label).string="".concat(this.prizeInfo[t].curNum,"/").concat(this.prizeInfo[t].needNum)}}},updateBoxInfo:function(e,t,i,a){var o=this,n=cc.instantiate(this.boxPrefab);n.parent=a.target,n.position=cc.v2(0,0);var s=0;s=2==i?0:2,n.getChildByName("xingyun_icon_zibaoxiang1").getComponent(cc.Sprite).spriteFrame=this.boxSpr[0+s],n.getChildByName("xingyun_icon_zibaoxiang2").getComponent(cc.Sprite).spriteFrame=this.boxSpr[1+s];var c=n.getComponent(cc.Animation);c.play(),c.on("finished",function(){n.removeFromParent(),o.updateBoxStatus(),o.nodeBoxReward.active=!0;var a=o.nodeBoxReward.getChildByName("node");a.getComponent(cc.Animation).play();var s=a.getChildByName("title");s.getComponent(cc.Sprite).spriteFrame=o.titleSpr[0];var c=s.getChildByName("saoguang").getChildByName("guangtiao");c.getComponent(cc.Mask).spriteFrame=o.titleLightSpr[0],c.setContentSize(o.titleLightSpr[0]._originalSize),s.getChildByName("saoguang").getComponent(cc.Animation).play(),o.curDoubleReward=[];var r=a.getChildByName("bg");r.removeAllChildren();for(var l=a.getChildByName("icon"),h=null,d=e,m=Math.floor(Math.random()*t.length),u=0;u<i;++u){var p=cc.instantiate(l);p.parent=r,p.position=cc.v2(d,20),p.active=!0,d+=230;var g=t[(u+m)%t.length];o.rewardPrizeList.push(g);var f=o.rewardFragmentSprList[o.prizeInfo[g].icon];if(p.getChildByName("spr").active=!0,p.getChildByName("spr").getComponent(cc.Sprite).spriteFrame=f,0!=o.prizeInfo[g].type){var y=cc.common.tool.getTwoDecimalPlaces(o.prizeInfo[g].reward);p.getChildByName("lab1").getComponent(cc.Label).string=y,p.getChildByName("lab1").active=!0,p.getChildByName("lab").getComponent(cc.Label).string=o.prizeInfo[g].name+"".concat(y,"*1")}else p.getChildByName("lab").getComponent(cc.Label).string=o.prizeInfo[g].name+"\u788e\u7247*1";o.turnTableInfo.prizeNum[g]++,o.prizeInfo[g].curNum++,o.prizeInfo[g].type;var v=o.prizeInfo[g].needNum-o.turnTableInfo.prizeNum[g];o.prizeInfo[g].double=v>=3?3:v,null==h?h=o.prizeInfo[g].double:o.prizeInfo[g].double<h&&(h=o.prizeInfo[g].double),o.curDoubleReward.push({index:g,num:h})}cc.common.fileOperation.setTurnTableInfo(o.turnTableInfo);var C=a.getChildByName("btn_playAd").getChildByName("bg"),N=C.getChildByName("lab"),b=a.getChildByName("btn_playAd"),S=h>=2&&o.turnTableInfo.doubleNum>0;N.active=S,C.getChildByName("lab1").active=S,C.getChildByName("lab2").active=S,C.getChildByName("lab3").active=!S,C.getChildByName("lab3").type=0,S&&(N.getComponent(cc.Label).string=h),b.active=S,o.playStaticAd()})},showLuckyLayer:function(){var e=this;this.nodeLucky.active=!0,this.appInfoList=[{name:"\u5fae\u4fe1",installType:0,isComplete:!1,box1State:-1,box2State:-1},{name:"QQ",installType:1,isComplete:!1,box1State:0,box2State:-1},{name:"\u652f\u4ed8\u5b9d",installType:2,isComplete:!0,box1State:1,box2State:0},{name:"\u7edd\u5730\u6c42\u751f",installType:2,isComplete:!0,box1State:1,box2State:1},{name:"\u82f1\u96c4\u8054\u76df",installType:0,isComplete:!1,box1State:-1,box2State:-1},{name:"\u9489\u9489",installType:1,isComplete:!1,box1State:1,box2State:-1},{name:"\u6ef4\u6ef4",installType:2,isComplete:!0,box1State:1,box2State:1},{name:"\u7231\u5947\u827a",installType:2,isComplete:!0,box1State:0,box2State:0},{name:"\u817e\u8baf\u89c6\u9891",installType:1,isComplete:!1,box1State:0,box2State:-1},{name:"\u4f18\u9177",installType:2,isComplete:!0,box1State:0,box2State:1}],this.appInfoList.sort(function(e,t){return 0!=e.box1State||0!=e.box2State||0==t.box1State&&0==t.box2State?0!=t.box1State||0!=t.box2State||0==e.box1State&&0==e.box2State?(0==e.box1State&&1==e.box2State||1==e.box1State&&0==e.box2State)&&0!=t.box1State&&0!=t.box2State?-1:(0==t.box1State&&1==t.box2State||1==t.box1State&&0==t.box2State)&&0!=e.box1State&&0!=e.box2State?1:-1==e.box1State&&-1!=t.box1State?-1:-1==t.box1State&&-1!=e.box1State?1:0!=e.box1State||-1!=e.box2State||1!=t.box1State||-1!=t.box2State&&1!=t.box2State?0!=t.box1State||-1!=t.box2State||1!=e.box1State||-1!=e.box2State&&1!=e.box2State?1==e.box1State&&-1==e.box2State&&1==t.box1State&&1==t.box2State?-1:1==t.box1State&&-1==t.box2State&&1==e.box1State&&1==e.box2State?1:-1:1:-1:1:-1});var t=cc.find("node/scrollview/view/content",this.nodeLucky),i=this.nodeLucky.getChildByName("node").getChildByName("item");t.height=210*this.appInfoList.length;for(var a=-105,o=function(o,n){var s=cc.instantiate(i);s.parent=t,s.active=!0,s.y=a,s.getChildByName("lab").getComponent(cc.Label).string=e.appInfoList[o].name;var c=e.appInfoList[o].installType/2;s.getChildByName("progress").getChildByName("bar").getComponent(cc.Sprite).fillRange=c;var r=s.getChildByName("progress").getChildByName("btn1"),l=s.getChildByName("progress").getChildByName("btn2");if(r.getComponent(cc.Button).interactable=e.appInfoList[o].installType>=1,l.getComponent(cc.Button).interactable=2==e.appInfoList[o].installType,e.appInfoList[o].box1State>=0){var h=e.appInfoList[o].box1State?"\u5df2\u9886\u53d6":"\u672a\u9886\u53d6";r.getChildByName("lab").getComponent(cc.Label).string=h}else r.getChildByName("lab").getComponent(cc.Label).string="\u5b89\u88c5";if(e.appInfoList[o].box2State>=0){var d=e.appInfoList[o].box2State?"\u5df2\u9886\u53d6":"\u672a\u9886\u53d6";l.getChildByName("lab").getComponent(cc.Label).string=d}else l.getChildByName("lab").getComponent(cc.Label).string="\u8bd5\u73a9";var m=s.getChildByName("btn_complete"),u=m.getChildByName("bg").getChildByName("lab"),p=e.appInfoList[o].isComplete?"\u5df2\u5b8c\u6210":"\u53bb\u5b8c\u6210";u.getComponent(cc.Label).string=p,m.on("click",function(t){e.appInfoList[o].isComplete?cc.common.tool.showWordTips("\u5df2\u5b8c\u6210",!1):cc.common.tool.showWordTips("\u53bb\u5b8c\u6210",!1)}),a-=210},n=0,s=this.appInfoList.length;n<s;++n)o(n)},getCanObtainPrizeList:function(){for(var e=[],t=0,i=this.turnTableInfo.prizeNum.length;t<i;++t)this.turnTableInfo.prizeNum[t]<this.prizeInfo[t].needNum-1&&e.push(t);return e},updateGameData:function(e,t,i){console.log("----type--double--num----:"+e+"::"+t+"::"+i),cc.common.data.requestSeverTurnTableNewMoney(function(e){var a=cc.common.fileOperation.getUserData();console.log("----data----:"+JSON.stringify(e)+"::"+a.redNum),cc.common.tool.showWordTips(t*i,!0),cc.common.data.notificationCenter.emit(UPDATE_DATA_USER_RED,e.result.newMoney)},{update:!1,money:t*i,moneyType:0})},playStaticAd:function(){this.isShow&&(cc.common.tool.playSubLayerStaticAd(this.isShow,function(e){}.bind(this)),this.isShow=!1)},closeStaticAd:function(){this.isShow||(cc.common.tool.playSubLayerStaticAd(this.isShow,function(e){}.bind(this)),this.isShow=!0)},playAd:function(e){cc.common.tool.playVideoAd(e,function(e){console.log("----------\u64ad\u653e\u5e7f\u544a\u5931\u8d25-----------\uff1a".concat(JSON.stringify(e)))},!1)},btnRuleClick:function(){this.isOpenLayer||(this.isOpenLayer=!0,this.nodeRule.active=!0,this.nodeRule.getChildByName("bg").getComponent(cc.Animation).play(),this.playStaticAd())},btnCloseRuleClick:function(){this.isOpenLayer=!1,this.nodeRule.active=!1,this.closeStaticAd()},btnManualBottleClick:function(){this.turnTableInfo.manualBottleNum<=0?cc.common.tool.showWordTips("\u4eca\u65e5\u5df2\u9886\u5b8c\uff0c\u660e\u65e5\u518d\u6765"):this.isOpenLayer||(this.isOpenLayer=!0,this.nodeBottle.active=!0,this.nodeBottle.getChildByName("bg").getComponent(cc.Animation).play(),this.turnTableInfo.manualBottleNum<=0?this.nodeBottle.getChildByName("bg").getChildByName("title").getComponent(cc.Label).string="\u6b21\u6570\u5df2\u7528\u5b8c\uff0c\u660e\u5929\u518d\u6765\u5427!":this.playStaticAd())},btnCloseManualBottleClick:function(){this.nodeBottle.active=!1,this.isOpenLayer=!1,this.closeStaticAd()},btnGetClick:function(){var e=this;this.turnTableInfo.manualBottleNum<=0?cc.common.tool.showWordTips("\u4eca\u65e5\u5df2\u9886\u5b8c\uff0c\u660e\u65e5\u518d\u6765"):this.playAd(function(){e.turnTableInfo.residueDegree+=4,e.nodeBottle.active=!1,e.isOpenLayer=!1,e.nodeTurn.getChildByName("lab").getComponent(cc.Label).string="\u5269\u4f59\u514d\u8d39\u6b21\u6570\uff1a"+e.turnTableInfo.residueDegree+"\u6b21",e.turnTableInfo.manualBottleNum--,cc.common.fileOperation.setTurnTableInfo(e.turnTableInfo),e.setStartTurnBtn()})},btnStartTurn:function(){if(!(-1!=this.turnType||this.turnTableInfo.residueDegree<=0)){this.isOpenLayer=!0,this.addTurnTableAni(!1);var e=this.getCanObtainPrizeList();if(!(e.length<=0)){this.curSpeed=5,this.curDoubleReward=[];var t=Math.floor(Math.random()*e.length);this.rewardType=e[t],this.turnTableInfo.prizeNum[this.rewardType]++;var i=this.prizeInfo[this.rewardType].needNum-this.turnTableInfo.prizeNum[this.rewardType];this.prizeInfo[this.rewardType].double=i>=3?3:i,this.stopAngle=this.rewardType*this.gearAngle,this.turnTableInfo.residueDegree--,this.turnTableInfo.totalLotteryNum++,cc.common.fileOperation.setTurnTableInfo(this.turnTableInfo),this.nodeTurn.getChildByName("lab").getComponent(cc.Label).string="\u5269\u4f59\u514d\u8d39\u6b21\u6570\uff1a"+this.turnTableInfo.residueDegree+"\u6b21",this.defaultAngle=30,this.springbackAngle=Math.ceil(3*Math.random()),0==this.springbackAngle&&(this.springbackAngle=1),this.turnType=0}}},btnBonusClick1:function(e){if(!this.isOpenLayer){this.isOpenLayer=!0;var t=e.target.name,i=this.getCanObtainPrizeList();if(!(i.length<2))if(this.turnTableInfo.totalLotteryNum>=5||"btn1"==t||"btn2"==t){if(1==this.turnTableInfo.receiveType||3==this.turnTableInfo.receiveType)return void cc.common.tool.showWordTips("\u8be5\u5b9d\u7bb1\u5df2\u9886\u53d6!",!1);0==this.turnTableInfo.receiveType?this.turnTableInfo.receiveType=1:2==this.turnTableInfo.receiveType&&(this.turnTableInfo.receiveType=3),this.updateBoxInfo(-115,i,2,e)}else this.turnTableInfo.totalLotteryNum<5&&cc.common.tool.showWordTips("\u62bd\u5956\u6b21\u6570\u4e0d\u591f\u54e6\uff0c\u5feb\u53bb\u62bd\u5956\u5427!",!1)}},btnBonusClick2:function(e){if(!this.isOpenLayer){this.isOpenLayer=!0;var t=e.target.name,i=this.getCanObtainPrizeList();if(!(i.length<3))if(this.turnTableInfo.totalLotteryNum>=10||"btn1"==t||"btn2"==t){if(2==this.turnTableInfo.receiveType||3==this.turnTableInfo.receiveType)return void cc.common.tool.showWordTips("\u8be5\u5b9d\u7bb1\u5df2\u9886\u53d6!",!1);0==this.turnTableInfo.receiveType?this.turnTableInfo.receiveType=2:1==this.turnTableInfo.receiveType&&(this.turnTableInfo.receiveType=3),this.updateBoxInfo(-230,i,3,e)}else this.turnTableInfo.totalLotteryNum<10&&cc.common.tool.showWordTips("\u62bd\u5956\u6b21\u6570\u4e0d\u591f\u54e6\uff0c\u5feb\u53bb\u62bd\u5956\u5427!",!1)}},btnCloseBonusClick:function(){this.nodeBoxReward.active=!1,this.isOpenLayer=!1;var e=this.nodeBoxReward.getChildByName("node");if(1==cc.find("btn_playAd/bg/lab3",e).type)this.btnCloseDoubleLayer();else{for(var t=0,i=0;i<this.rewardPrizeList.length;++i){var a=this.rewardPrizeList[i];0!=this.prizeInfo[a].type&&(t+=this.prizeInfo[a].reward)}t>0&&this.updateGameData("redPacket",1,t),this.updatePrizeInfo(),this.closeStaticAd()}},btnBoxRewardDoubleClick:function(){var e=this;this.nodeBoxReward.active=!0;var t=this.nodeBoxReward.getChildByName("node");1==cc.find("btn_playAd/bg/lab3",t).type?this.btnCloseDoubleLayer():this.playAd(function(){t.getComponent(cc.Animation).play();var i=t.getChildByName("title");i.getComponent(cc.Sprite).spriteFrame=e.titleSpr[1];var a=i.getChildByName("saoguang").getChildByName("guangtiao");a.getComponent(cc.Mask).spriteFrame=e.titleLightSpr[1],a.setContentSize(e.titleLightSpr[1]._originalSize),i.getChildByName("saoguang").getComponent(cc.Animation).play();var o=t.getChildByName("btn_playAd").getChildByName("bg"),n=o.getChildByName("lab");n.active=!1,o.getChildByName("lab1").active=!1,o.getChildByName("lab2").active=!1,o.getChildByName("lab3").active=!0,o.getChildByName("lab3").type=1;for(var s=t.getChildByName("bg").children,c=0;c<s.length;++c){var r=s[c].getChildByName("lab").getComponent(cc.Label).string,l=r.split("*"),h=n.getComponent(cc.Label).string;if(!(parseFloat(h)<=0)){var d=100*parseFloat(l[1])*(100*parseFloat(h))/1e4;if(r=l[0]+"*"+d,-1!=l[0].indexOf("\u7ea2\u5305")){var m=l[0].substring(2,l[0].length);s[c].getChildByName("lab").getComponent(cc.Label).string="\u7ea2\u5305"+m+"*".concat(h),s[c].getChildByName("lab1").getComponent(cc.Label).string=m}else s[c].getChildByName("lab").getComponent(cc.Label).string=r,s[c].getChildByName("lab1").getComponent(cc.Label).string=r}}})},btnDoubleWatchingvideoClick:function(){var e=this;this.isOpenLayer||this.playAd(function(){e.isOpenLayer=!0,e.btnClose1(),e.nodeDouble.active=!0,e.nodeDouble.getChildByName("node").getComponent(cc.Animation).play(),e.turnTableInfo.doubleNum--,cc.common.fileOperation.setTurnTableInfo(e.turnTableInfo);var t=e.nodeDouble.getChildByName("node").getChildByName("icon"),i=e.prizeInfo[e.curDoubleReward[0].index],a=e.rewardFragmentSprList[i.icon];if(t.getChildByName("spr").getComponent(cc.Sprite).spriteFrame=a,t.getChildByName("spr").active=!0,e.turnTableInfo.doubleNum<=0||i.double<=0){if(0!=i.type){var o=cc.common.tool.getTwoDecimalPlaces(i.reward);t.getChildByName("lab1").getComponent(cc.Label).string=o,t.getChildByName("lab1").active=!0}t.getChildByName("lab").getComponent(cc.Label).string="x1",e.curDoubleReward[0].num=1}else if(i.double>0){if(0!=i.type){cc.common.tool.getTwoDecimalPlaces(i.reward*i.double);t.getChildByName("lab1").getComponent(cc.Label).string=i.reward/100,t.getChildByName("lab1").active=!0}t.getChildByName("lab").getComponent(cc.Label).string="x".concat(i.double),e.curDoubleReward[0].num=i.double}e.playStaticAd()})},btnCloseDoubleLayer:function(){if(this.nodeDouble.active=!1,this.isOpenLayer=!1,this.nodeBoxReward.active&&(this.nodeBoxReward.active=!1),this.turnTableInfo.doubleNum>0){for(var e=1,t=0,i=0;i<this.curDoubleReward.length;++i){var a=this.curDoubleReward[i].index;this.prizeInfo[a].curNum+=this.curDoubleReward[i].num-1,this.turnTableInfo.prizeNum[a]+=this.curDoubleReward[i].num-1;var o=this.prizeInfo[a].needNum-1-this.turnTableInfo.prizeNum[a];this.prizeInfo[a].double=o>=3?3:o,cc.common.fileOperation.setTurnTableInfo(this.turnTableInfo),0!=this.prizeInfo[a].type&&(e=this.curDoubleReward[i].num,t+=this.prizeInfo[a].reward)}t>0&&this.updateGameData("redPacket",e,t)}this.updatePrizeInfo(),this.closeStaticAd()},btnClose:function(){this.btnCloseCallBack()},btnClose1:function(e){if(e){var t=this.rewardType;this.updateGameData(this.prizeInfo[t].icon,1,this.prizeInfo[t].reward)}this.isOpenLayer=!1,this.nodeTip.active=!1,this.updatePrizeInfo(),this.closeStaticAd()},btnCloseCallBack:function(){cc.common.tool.playAudio(cc.common.audioRes.button),cc.common.coohuaSdk.removeSdkPrefab(),this.node.destroy()},update:function(e){var t=this;if(0==this.turnType)if(this.spinTime+=e,this.turnSpr.node.angle-=this.curSpeed,this.curSpeed<=this.maxSpeed)this.curSpeed+=this.accSpeed;else{if(this.spinTime<this.duration)return;this.finalAngle=360-this.stopAngle+this.defaultAngle,this.maxSpeed=this.curSpeed,this.springback&&(this.finalAngle+=this.gearAngle*this.springbackAngle),this.finalAngle-=this.gearAngle/2,this.turnSpr.node.angle=-this.finalAngle,this.turnType=2}else if(2==this.turnType){var i=-this.turnSpr.node.angle,a=i-this.finalAngle;if(this.curSpeed=this.maxSpeed*((this.decAngle-a)/this.decAngle)+.2,this.turnSpr.node.angle=-(i+this.curSpeed),this.decAngle-a<=0){this.turnType=-1,this.turnSpr.node.angle=-this.finalAngle;var o=this.nodeTurn.getChildByName("bg1").getChildByName("item".concat(this.rewardType)).getChildByName("xz");if(o.active=!0,o.opacity=255,cc.tween(o).repeat(3,cc.tween().to(.1,{opacity:0}).to(.1,{opacity:255})).delay(.1).call(function(){o.active=!1,t.showLotteryResults(),t.setStartTurnBtn(),t.updateProgressBar()}).start(),this.springback){var n=cc.rotateBy(.6,this.gearAngle*this.springbackAngle),s=cc.sequence(cc.delayTime(.2),n);this.turnSpr.node.runAction(s)}}}}}),cc._RF.pop()},{}],base64:[function(e,t,i){"use strict";cc._RF.push(t,"e356c9VgKlMy6+xRxCE0Mp8","base64"),function(){var e={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,i,a,o,n,s,c,r="",l=0;for(e=this._utf8_encode(e);l<e.length;)o=(t=e.charCodeAt(l++))>>2,n=(3&t)<<4|(i=e.charCodeAt(l++))>>4,s=(15&i)<<2|(a=e.charCodeAt(l++))>>6,c=63&a,isNaN(i)?s=c=64:isNaN(a)&&(c=64),r=r+this._keyStr.charAt(o)+this._keyStr.charAt(n)+this._keyStr.charAt(s)+this._keyStr.charAt(c);return r},decode:function(e){var t,i,a,o,n,s,c="",r=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");r<e.length;)t=this._keyStr.indexOf(e.charAt(r++))<<2|(o=this._keyStr.indexOf(e.charAt(r++)))>>4,i=(15&o)<<4|(n=this._keyStr.indexOf(e.charAt(r++)))>>2,a=(3&n)<<6|(s=this._keyStr.indexOf(e.charAt(r++))),c+=String.fromCharCode(t),64!=n&&(c+=String.fromCharCode(i)),64!=s&&(c+=String.fromCharCode(a));return c=this._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},_utf8_decode:function(e){for(var t="",i=0,a=0,o=0,n=0;i<e.length;)(a=e.charCodeAt(i))<128?(t+=String.fromCharCode(a),i++):a>191&&a<224?(o=e.charCodeAt(i+1),t+=String.fromCharCode((31&a)<<6|63&o),i+=2):(o=e.charCodeAt(i+1),n=e.charCodeAt(i+2),t+=String.fromCharCode((15&a)<<12|(63&o)<<6|63&n),i+=3);return t}};t.exports={base64:e}}(),cc._RF.pop()},{}],md5:[function(e,t,i){"use strict";function a(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function o(e,t){return e<<t|e>>>32-t}function n(e,t,i,n,s,c){return a(o(a(a(t,e),a(n,c)),s),i)}function s(e,t,i,a,o,s,c){return n(t&i|~t&a,e,t,o,s,c)}function c(e,t,i,a,o,s,c){return n(t&a|i&~a,e,t,o,s,c)}function r(e,t,i,a,o,s,c){return n(t^i^a,e,t,o,s,c)}function l(e,t,i,a,o,s,c){return n(i^(t|~a),e,t,o,s,c)}function h(e){for(var t=1732584193,i=-271733879,o=-1732584194,n=271733878,h=0;h<e.length;h+=16){var d=t,m=i,u=o,p=n;i=l(i=l(i=l(i=l(i=r(i=r(i=r(i=r(i=c(i=c(i=c(i=c(i=s(i=s(i=s(i=s(i,o=s(o,n=s(n,t=s(t,i,o,n,e[h+0],7,-680876936),i,o,e[h+1],12,-389564586),t,i,e[h+2],17,606105819),n,t,e[h+3],22,-1044525330),o=s(o,n=s(n,t=s(t,i,o,n,e[h+4],7,-176418897),i,o,e[h+5],12,1200080426),t,i,e[h+6],17,-1473231341),n,t,e[h+7],22,-45705983),o=s(o,n=s(n,t=s(t,i,o,n,e[h+8],7,1770035416),i,o,e[h+9],12,-1958414417),t,i,e[h+10],17,-42063),n,t,e[h+11],22,-1990404162),o=s(o,n=s(n,t=s(t,i,o,n,e[h+12],7,1804603682),i,o,e[h+13],12,-40341101),t,i,e[h+14],17,-1502002290),n,t,e[h+15],22,1236535329),o=c(o,n=c(n,t=c(t,i,o,n,e[h+1],5,-165796510),i,o,e[h+6],9,-1069501632),t,i,e[h+11],14,643717713),n,t,e[h+0],20,-373897302),o=c(o,n=c(n,t=c(t,i,o,n,e[h+5],5,-701558691),i,o,e[h+10],9,38016083),t,i,e[h+15],14,-660478335),n,t,e[h+4],20,-405537848),o=c(o,n=c(n,t=c(t,i,o,n,e[h+9],5,568446438),i,o,e[h+14],9,-1019803690),t,i,e[h+3],14,-187363961),n,t,e[h+8],20,1163531501),o=c(o,n=c(n,t=c(t,i,o,n,e[h+13],5,-1444681467),i,o,e[h+2],9,-51403784),t,i,e[h+7],14,1735328473),n,t,e[h+12],20,-1926607734),o=r(o,n=r(n,t=r(t,i,o,n,e[h+5],4,-378558),i,o,e[h+8],11,-2022574463),t,i,e[h+11],16,1839030562),n,t,e[h+14],23,-35309556),o=r(o,n=r(n,t=r(t,i,o,n,e[h+1],4,-1530992060),i,o,e[h+4],11,1272893353),t,i,e[h+7],16,-155497632),n,t,e[h+10],23,-1094730640),o=r(o,n=r(n,t=r(t,i,o,n,e[h+13],4,681279174),i,o,e[h+0],11,-358537222),t,i,e[h+3],16,-722521979),n,t,e[h+6],23,76029189),o=r(o,n=r(n,t=r(t,i,o,n,e[h+9],4,-640364487),i,o,e[h+12],11,-421815835),t,i,e[h+15],16,530742520),n,t,e[h+2],23,-995338651),o=l(o,n=l(n,t=l(t,i,o,n,e[h+0],6,-198630844),i,o,e[h+7],10,1126891415),t,i,e[h+14],15,-1416354905),n,t,e[h+5],21,-57434055),o=l(o,n=l(n,t=l(t,i,o,n,e[h+12],6,1700485571),i,o,e[h+3],10,-1894986606),t,i,e[h+10],15,-1051523),n,t,e[h+1],21,-2054922799),o=l(o,n=l(n,t=l(t,i,o,n,e[h+8],6,1873313359),i,o,e[h+15],10,-30611744),t,i,e[h+6],15,-1560198380),n,t,e[h+13],21,1309151649),o=l(o,n=l(n,t=l(t,i,o,n,e[h+4],6,-145523070),i,o,e[h+11],10,-1120210379),t,i,e[h+2],15,718787259),n,t,e[h+9],21,-343485551),t=a(t,d),i=a(i,m),o=a(o,u),n=a(n,p)}return[t,i,o,n]}function d(e){for(var t="",i=0;i<4*e.length;i++)t+="0123456789abcdef".charAt(e[i>>2]>>i%4*8+4&15)+"0123456789abcdef".charAt(e[i>>2]>>i%4*8&15);return t}function m(e){for(var t=1+(e.length+8>>6),i=new Array(16*t),a=0;a<16*t;a++)i[a]=0;for(a=0;a<e.length;a++)i[a>>2]|=(255&e.charCodeAt(a))<<a%4*8;return i[a>>2]|=128<<a%4*8,i[16*t-2]=8*e.length,i}cc._RF.push(t,"9162bqQt/9ML5bZYaKKYJy0","md5"),t.exports={hexMD5:function(e){return d(h(m(e)))}},cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t,i){"use strict";cc._RF.push(t,"e6b0bE9l7tCS7E9tNf2+aFe","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["Collision","GameContans","GameScene","SquareSprite","SubsidiaryLayer","CoohuaGroup3Sdk","DailySignIn","IndianaLayer","RankingList","DailyWelfare","DailyTarget","InputCode","InviteFriend","FragmentLayer","DrawCashCut","DrawCashEliminate","PassWelfare","ColorAssembler","TurnTableLayer","ColorAssembler2D","Data","FileOperation","ScreenAdaptation","Tool","HttpHelper","base64","md5","use_v2.1-2.2.1_cc.Toggle_event"]);