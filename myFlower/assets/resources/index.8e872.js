window.__require=function e(t,a,o){function i(l,s){if(!a[l]){if(!t[l]){var r=l.split("/");if(r=r[r.length-1],!t[r]){var _="function"==typeof __require&&__require;if(!s&&_)return _(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+l+"'")}l=r}var c=a[l]={exports:{}};t[l][0].call(c.exports,function(e){return i(t[l][1][e]||e)},c,c.exports,e,t,a,o)}return a[l].exports}for(var n="function"==typeof __require&&__require,l=0;l<o.length;l++)i(o[l]);return i}({FlowerCultureLayer:[function(e,t,a){"use strict";cc._RF.push(t,"e3e9fT9WlZD5biem2pW4HpH","FlowerCultureLayer");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),n=this&&this.__decorate||function(e,t,a,o){var i,n=arguments.length,l=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,a,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(l=(n<3?i(l):n>3?i(t,a,l):i(t,a))||l);return n>3&&l&&Object.defineProperty(t,a,l),l};Object.defineProperty(a,"__esModule",{value:!0});var l=e("../../../Script/Boot"),s=e("../../../Script/Common/TouchButton"),r=e("../../../Script/GameDataConfig/GameDataBaseConfig"),_=e("../../../Script/GamePlay/GamePlay"),c=e("../../../Script/UI/UIManager/UIConfig"),d=e("../../../Script/UI/UIManager/UIManager"),p=cc._decorator,h=p.ccclass,u=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_scrollview=null,t.node_content=null,t.node_item=null,t.gamePlay=null,t.base_data=null,t.game_data_config=null,t.listMaxLength=8,t.scrolStartPosY=0,t.flowerLevelList={},t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this;this.node.getComponent(cc.Widget).updateAlignment(),this.gamePlay=this.node.parent.getComponent(_.default),this.base_data=this.gamePlay.base_data,this.game_data_config=this.gamePlay.game_data_config,this.node.getChildByName("sprite_bg").opacity=0,this.scheduleOnce(function(){e.add_show_ani()},0),this.get_flower_level(),this.node.getChildByName("sprite_bg").getChildByName("btn_close").addComponent(s.default).register_touch(this.close_layer.bind(this)),this.init_scrollview()},t.prototype.get_flower_level=function(){this.flowerLevelList={};for(var e=this.base_data.flowerpot_status,t=0;t<e.length;++t)for(var a=0;a<e[t].length;++a)if(e[t][a]>10){var o=r.default.getFlowerType(e[t][a]),i=r.default.getFlowerLevel(e[t][a]);i>0&&(this.flowerLevelList[o]=i)}},t.prototype.add_show_ani=function(){var e=this.node.getChildByName("sprite_bg");e.opacity=255,e.y-=e.height,cc.tween(e).by(.5,{position:cc.v3(0,e.height+50,0)}).by(.2,{position:cc.v3(0,-50,0)}).start()},t.prototype.init_scrollview=function(){this.node_content.height=(this.node_item.height+10)*this.listMaxLength,this.scrolStartPosY=this.node_content.y;for(var e=0,t=0;t<this.listMaxLength;++t){var a=cc.instantiate(this.node_item);a.parent=this.node_content,this.update_item_info(a,e,t),e-=a.height+10}},t.prototype.update_item_info=function(e,t,a){var o=this,i="flower"+(a+1)+r.default.flowerName[a]+"6";e.getChildByName("sprite_icon").getComponent(cc.Sprite).spriteFrame=l.gamebase.flowerAtlas.getSpriteFrame(i),null!=t&&(e.y=t),e.index=a,e.active=!0;var n=this.game_data_config.FlowerData[a+1];e.getChildByName("label_name").getComponent(cc.Label).string=""+n.name;var _=e.getChildByName("btn_harvest");_.removeComponent(s.default),_.addComponent(s.default).register_touch(function(){o.harvest_callback(a,o.base_data.flower_status[a],e)});var c=_.getComponent(cc.Sprite).getMaterials();if(_.getComponent(cc.Sprite).setMaterial(0,c[1]),_.getComponent(s.default).disable_touch(),_.active=!0,0==this.base_data.flower_status[a])_.getChildByName("sprite_red").active=!1,e.getChildByName("label_speed").active=!1,_.getChildByName("sprite_coin").active=!1,_.getChildByName("sprite_ad_icon").active=!1,e.getChildByName("label_level").getComponent(cc.Label).string="\u5e7c\u82d7",_.getChildByName("label_status").getComponent(cc.Label).string=""+r.default.flowerStatus[0]+n.level,_.getChildByName("label_status").setPosition(cc.v3(0,20,0)),_.getComponent(cc.Sprite).setMaterial(0,c[2]);else if(1==this.base_data.flower_status[a])_.getChildByName("sprite_red").active=!0,e.getChildByName("label_speed").active=!1,_.getChildByName("sprite_coin").active=!1,_.getChildByName("sprite_ad_icon").active=!1,e.getChildByName("label_level").getComponent(cc.Label).string="\u5e7c\u82d7",_.getChildByName("label_status").getComponent(cc.Label).string=""+r.default.flowerStatus[1],_.getChildByName("label_status").setPosition(cc.v3(38,39,0)),_.getComponent(s.default).enable_touch();else if(2==this.base_data.flower_status[a])_.getChildByName("sprite_red").active=!1,e.getChildByName("label_speed").active=!1,_.getChildByName("sprite_coin").active=!1,_.getChildByName("sprite_ad_icon").active=!1,e.getChildByName("label_level").getComponent(cc.Label).string="\u5e7c\u82d7",_.getChildByName("label_status").getComponent(cc.Label).string=""+r.default.flowerStatus[2],_.getChildByName("label_status").setPosition(cc.v3(0,20,0)),_.getComponent(s.default).enable_touch();else if(3==this.base_data.flower_status[a])_.getChildByName("sprite_red").active=!1,e.getChildByName("label_speed").active=!1,_.getChildByName("sprite_coin").active=!1,_.getChildByName("sprite_ad_icon").active=!0,e.getChildByName("label_level").getComponent(cc.Label).string="\u5e7c\u82d7",_.getChildByName("label_status").getComponent(cc.Label).string=""+r.default.flowerStatus[3],_.getChildByName("label_status").setPosition(cc.v3(38,39,0)),_.getComponent(s.default).enable_touch();else if(4==this.base_data.flower_status[a]){_.getChildByName("sprite_red").active=!1,e.getChildByName("label_speed").active=!0,_.getChildByName("sprite_coin").active=!1,_.getChildByName("sprite_ad_icon").active=!1;var d=this.flowerLevelList[a+1],p=r.default.getFlowerGenerateCoinSpeed(d,a+1,this.game_data_config);e.getChildByName("label_speed").getComponent(cc.Label).string=p+"\u91d1\u5e01/\u79d2",e.getChildByName("label_level").getComponent(cc.Label).string=d+"\u7ea7",_.getChildByName("label_status").getComponent(cc.Label).string=""+r.default.flowerStatus[4],_.getChildByName("label_status").setPosition(cc.v3(0,20,0)),_.active=!1}else if(5==this.base_data.flower_status[a]||7==this.base_data.flower_status[a]){_.getChildByName("sprite_red").active=!0,e.getChildByName("label_speed").active=!0,_.getChildByName("sprite_coin").active=!0,_.getChildByName("sprite_ad_icon").active=!1,d=this.flowerLevelList[a+1],p=r.default.getFlowerGenerateCoinSpeed(d,a+1,this.game_data_config),e.getChildByName("label_speed").getComponent(cc.Label).string=p+"\u91d1\u5e01/\u79d2",e.getChildByName("label_level").getComponent(cc.Label).string=d+"\u7ea7",_.getChildByName("label_status").getComponent(cc.Label).string=""+r.default.flowerStatus[this.base_data.flower_status[a]],_.getChildByName("label_status").setPosition(cc.v3(38,39,0)),_.getComponent(s.default).enable_touch();var h=_.getChildByName("sprite_coin").getChildByName("label_coin"),u=r.default.getFlowerGenerateConsumeCoinNum(d,a+1,this.game_data_config);h.getComponent(cc.Label).string=r.default.conversionCoin(u)}else 6==this.base_data.flower_status[a]&&(_.getChildByName("sprite_red").active=!0,e.getChildByName("label_speed").active=!0,_.getChildByName("sprite_coin").active=!1,_.getChildByName("sprite_ad_icon").active=!1,d=this.flowerLevelList[a+1],p=r.default.getFlowerGenerateCoinSpeed(d,a+1,this.game_data_config),e.getChildByName("label_speed").getComponent(cc.Label).string=p+"\u91d1\u5e01/\u79d2",e.getChildByName("label_level").getComponent(cc.Label).string="\u5df2\u6210\u719f",_.getChildByName("label_status").getComponent(cc.Label).string=""+r.default.flowerStatus[6],_.getChildByName("label_status").setPosition(cc.v3(38,39,0)),_.getComponent(s.default).enable_touch())},t.prototype.update_special_flower_item=function(e){for(var t=this.node_content.children,a=0;a<t.length;++a)if(t[a].index==e-1){this.update_item_info(t[a],null,t[a].index);break}},t.prototype.harvest_callback=function(e,t,a){switch(t){case 2:case 1:if(this.gamePlay.flower_trellis_show_can_put_icon(e))this.node.destroy();else{var o={ui_config_path:c.default.Toast,ui_config_name:"Toast",param:{text:"\u82b1\u67b6\u6ca1\u6709\u4f4d\u7f6e\u4e86\uff0c\u5feb\u53bb\u6536\u83b7\u9c9c\u82b1\u5f97\u73b0\u91d1\u5427\u3002"}};d.default.show_ui(o)}break;case 3:cc.log("\u770b\u5e7f\u544a\uff0c\u7acb\u5373\u89e3\u9501");var i=this.gamePlay.get_specify_location_flower(e),n=parseInt(i.name[9]),l=1e4*(e+1)+1;this.flowerLevelList[e+1]=1,this.base_data.change_flowerpot_status(l,i.parent.index-1,n),this.base_data.change_flower_status(4,e),this.gamePlay.update_flowerpot_status(i,n),this.update_item_info(a,null,e);break;case 5:cc.log("\u9c9c\u82b1\u6210\u957f"),i=this.gamePlay.get_specify_location_flower(e),n=parseInt(i.name[9]),this.flowerLevelList[e+1]+=1;var s=this.base_data.flowerpot_status[i.parent.index-1][n]+1;this.base_data.change_flowerpot_status(s,i.parent.index-1,n),this.base_data.change_flower_current_experience(0,r.default.getFlowerType(s)),this.base_data.change_flower_status(4,r.default.getFlowerType(s)-1),this.gamePlay.show_grow_up(i,-1),this.gamePlay.update_flowerpot_status(i,n),this.update_item_info(a,null,e);break;case 6:cc.log("\u6536\u83b7\u9c9c\u82b1"),i=this.gamePlay.get_specify_location_flower(e),n=parseInt(i.name[9]),this.flowerLevelList[e+1]=0,s=this.base_data.flowerpot_status[i.parent.index-1][n],this.base_data.change_flowerpot_status(1,i.parent.index-1,n),this.base_data.change_flower_current_experience(0,r.default.getFlowerType(s)),this.base_data.change_flower_status(2,r.default.getFlowerType(s)-1),i.removeFromParent(),this.update_item_info(a,null,e);break;case 7:cc.log("\u9c9c\u82b1\u6210\u719f"),i=this.gamePlay.get_specify_location_flower(e),n=parseInt(i.name[9]),this.flowerLevelList[e+1]+=1,s=this.base_data.flowerpot_status[i.parent.index-1][n]+1,this.base_data.change_flowerpot_status(s,i.parent.index-1,n),this.base_data.change_flower_status(6,r.default.getFlowerType(s)-1),this.gamePlay.show_grow_up(i,-1),this.gamePlay.update_flowerpot_status(i,n),this.update_item_info(a,null,e)}},t.prototype.update_item=function(){var e=this.node_content.children,t=e.length;if(t>=this.listMaxLength){var a=this.node_content.y-this.scrolStartPosY;if(a>0&&e[t-1].index+1<r.default.flowerTypeNum){var o=this.node_content.convertToWorldSpaceAR(e[0].position);if(this.node_scrollview.convertToNodeSpaceAR(o).y>=e[0].height+10){var i=e[t-1].y-e[0].height-10;this.update_item_info(e[0],i,e[t-1].index+1);var n=e[0];e[0].parent=null,n.parent=this.node_content}this.node_content.height+=this.node_content.y-this.scrolStartPosY,this.scrolStartPosY=this.node_content.y}else a<0&&e[0].index-1>=0&&(o=this.node_content.convertToWorldSpaceAR(e[t-1].position),this.node_scrollview.convertToNodeSpaceAR(o).y<=-(this.listMaxLength-2)*(e[0].height+10)&&(i=e[0].y+e[0].height+10,this.update_item_info(e[t-1],i,e[0].index-1),(n=e[t-1]).parent=null,this.node_content.insertChild(n,0)),this.node_content.height+=this.node_content.y-this.scrolStartPosY,this.scrolStartPosY=this.node_content.y,this.update_item())}},t.prototype.close_layer=function(){this.node.destroy()},t.prototype.onDestroy=function(){this.gamePlay.flower_culture=null},t.prototype.update=function(){this.update_item()},n([u(cc.Node)],t.prototype,"node_scrollview",void 0),n([u(cc.Node)],t.prototype,"node_content",void 0),n([u(cc.Node)],t.prototype,"node_item",void 0),n([h],t)}(cc.Component);a.default=f,cc._RF.pop()},{"../../../Script/Boot":void 0,"../../../Script/Common/TouchButton":void 0,"../../../Script/GameDataConfig/GameDataBaseConfig":void 0,"../../../Script/GamePlay/GamePlay":void 0,"../../../Script/UI/UIManager/UIConfig":void 0,"../../../Script/UI/UIManager/UIManager":void 0}],OfflineBenefitsLayer:[function(e,t,a){"use strict";cc._RF.push(t,"2afa95FTPdBkaRKKgkUXVY6","OfflineBenefitsLayer");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),n=this&&this.__decorate||function(e,t,a,o){var i,n=arguments.length,l=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,a,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(l=(n<3?i(l):n>3?i(t,a,l):i(t,a))||l);return n>3&&l&&Object.defineProperty(t,a,l),l};Object.defineProperty(a,"__esModule",{value:!0});var l=e("../../../Script/Common/TouchButton"),s=e("../../../Script/GameDataConfig/GameDataBaseConfig"),r=e("../../../Script/GameLocalData/GameLocalData"),_=e("../../../Script/GameLocalData/GamePlayBaseData"),c=e("../../../Script/GamePlay/GamePlay"),d=cc._decorator,p=d.ccclass,h=d.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_bg=null,t.can_add_coin_num=0,t.base_data=null,t}return i(t,e),t.prototype.onLoad=function(){this.base_data=r.default.get_instance().get_data(_.default)},t.prototype.start=function(){var e=this;this.regist_touch_event(this.node_bg.getChildByName("btn_close"),this.btn_close_callback),this.regist_touch_event(this.node_bg.getChildByName("btn_receive"),this.btn_receive_callback),this.regist_touch_event(this.node_bg.getChildByName("btn_ad_receive"),this.btn_ad_receive_callback),this.node_bg.getChildByName("btn_receive").active=!1,cc.tween(this.node_bg.getChildByName("btn_receive")).delay(3).call(function(){e.node_bg.getChildByName("btn_receive").active=!0}).start()},t.prototype.regist_touch_event=function(e,t){e.addComponent(l.default).register_touch(t.bind(this))},t.prototype.init=function(e,t){var a=this.base_data.player_level,o=t.GameData[a].offlineBenefits,i=Math.floor(e/60/60);i<2?i=1:i>=2&&i<3?i=2:i>=3&&i<4?i=3:i>=4&&i<5?i=4:i>=5&&(i=5),o*=t.OfflineBenefits[i].multiplier,this.can_add_coin_num=o,o=s.default.conversionCoin(o),this.node_bg.getChildByName("label_coin").getComponent(cc.Label).string=o+"\u91d1\u5e01"},t.prototype.btn_ad_receive_callback=function(){this.base_data.change_player_coin_num(this.base_data.player_coin_num+2*this.can_add_coin_num),this.node.parent.getComponent(c.default).showToast("\u5df2\u6210\u529f\u9886\u53d6"+s.default.conversionCoin(2*this.can_add_coin_num)+"\u91d1\u5e01"),this.node.parent.getComponent(c.default).update_player_coin_num(),this.node.destroy()},t.prototype.btn_receive_callback=function(){this.base_data.change_player_coin_num(this.base_data.player_coin_num+this.can_add_coin_num),this.node.parent.getComponent(c.default).showToast("\u5df2\u6210\u529f\u9886\u53d6"+s.default.conversionCoin(this.can_add_coin_num)+"\u91d1\u5e01"),this.node.parent.getComponent(c.default).update_player_coin_num(),this.node.destroy()},t.prototype.btn_close_callback=function(){this.node.destroy()},n([h(cc.Node)],t.prototype,"node_bg",void 0),n([p],t)}(cc.Component);a.default=u,cc._RF.pop()},{"../../../Script/Common/TouchButton":void 0,"../../../Script/GameDataConfig/GameDataBaseConfig":void 0,"../../../Script/GameLocalData/GameLocalData":void 0,"../../../Script/GameLocalData/GamePlayBaseData":void 0,"../../../Script/GamePlay/GamePlay":void 0}],PopupLayer:[function(e,t,a){"use strict";cc._RF.push(t,"c9429IqH9ZP26RfbHiaewqu","PopupLayer");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),n=this&&this.__decorate||function(e,t,a,o){var i,n=arguments.length,l=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,a,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(l=(n<3?i(l):n>3?i(t,a,l):i(t,a))||l);return n>3&&l&&Object.defineProperty(t,a,l),l};Object.defineProperty(a,"__esModule",{value:!0});var l=e("../../../Script/Common/TouchButton"),s=e("../../../Script/GameConfig"),r=e("../../../Script/GameDataConfig/GameDataBaseConfig"),_=e("../../../Script/GamePlay/GamePlay"),c=e("../../../Script/Sdk/Ad"),d=e("../../../Script/Sdk/BI"),p=cc._decorator,h=p.ccclass,u=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_red=null,t.node_no_coin=null,t.node_tips=null,t.node_benefits=null,t.node_cash=null,t.cur_show_node=null,t.cur_show_type=null,t.game_play=null,t}return i(t,e),t.prototype.onLoad=function(){this.game_play=this.node.parent.getComponent(_.default)},t.prototype.start=function(){},t.prototype.init=function(e,t){switch(this.cur_show_type=e,e){case r.default.popup_type.red:this.show_red_node();break;case r.default.popup_type.no_coin:break;case r.default.popup_type.tips:this.show_tips_node(t);break;case r.default.popup_type.benefits:break;case r.default.popup_type.cashReward:this.show_cash_reward_node(t);break;case r.default.popup_type.coinReward:this.show_coin_reward_layer(t)}this.open_static_ad()},t.prototype.show_red_node=function(){var e=this;this.cur_show_node=this.node_red,this.node_red.active=!0,this.node_red.addComponent(l.default).register_touch(function(){cc.log("\u83b7\u53d6\u7ea2\u5305\u5956\u52b1\u7c7b\u578b"),1==r.default.according_weight_generate_randoms(r.default.cash_and_coin_weight)?e.game_play.show_popup(r.default.popup_type.cashReward,{name:"\u73a9\u5bb6\u7b49\u7ea7\u63d0\u5347\u73b0\u91d1\u5956\u52b1",type:r.default.update_money_type.player_level_up}):e.game_play.show_popup(r.default.popup_type.coinReward,{name:"\u91d1\u5e01\u5956\u52b1"}),e.remove_layer()})},t.prototype.show_tips_node=function(e){var t=this;this.cur_show_node=this.node_tips,this.node_tips.active=!0,this.node_tips.getChildByName("btn_close").addComponent(l.default).register_touch(function(){t.remove_layer(),e.node&&(e.node.active=!0)}),this.node_tips.getChildByName("btn_cancel").addComponent(l.default).register_touch(function(){t.remove_layer(),e.node&&(e.node.active=!0)}),this.node_tips.getChildByName("btn_ok").addComponent(l.default).register_touch(function(){var a=r.default.getFlowerType(e.curStatus)-1;t.game_play.base_data.change_flower_status(2,a),t.game_play.base_data.change_flower_unlock_time(0,a),t.game_play.base_data.change_flowerpot_status(1,e.flower.parent.index-1,e.index),e.flower.removeFromParent(),t.game_play.hide_or_show_button(!0),t.remove_layer()})},t.prototype.show_cash_reward_node=function(e){var t=this;this.cur_show_node=this.node_cash,this.node_cash.active=!0;var a=0,o=0;e.type==r.default.update_money_type.player_level_up?(a=r.default.cash_top_and_bottom.bottom,o=r.default.cash_top_and_bottom.top):e.type==r.default.update_money_type.flower_first_plant?(a=this.game_play.game_data_config.FlowerData[e.flowerType].firstPlantBottom,o=this.game_play.game_data_config.FlowerData[e.flowerType].firstPlantTop):e.type==r.default.update_money_type.flower_level_up?(a=this.game_play.game_data_config.FlowerData[e.flowerType].growUpBottom,o=this.game_play.game_data_config.FlowerData[e.flowerType].growUpTop):e.type==r.default.update_money_type.flower_harvest?(a=this.game_play.game_data_config.FlowerData[e.flowerType].harvestBottom,o=this.game_play.game_data_config.FlowerData[e.flowerType].harvestTop):e.type==r.default.update_money_type.acceleration?(a=r.default.acceleration_top_and_bottom.bottom,o=r.default.acceleration_top_and_bottom.top):e.type==r.default.update_money_type.fly_box&&(a=r.default.fly_box_top_and_bottom.bottom,o=r.default.fly_box_top_and_bottom.top);var i=(100*parseInt((Math.random()*a).toFixed(2))+100*o)/100;this.node_cash.getChildByName("label_coin").getComponent(cc.Label).string=i+"\u5143",this.node_cash.getChildByName("btn_ad_receive").addComponent(l.default).register_touch(function(){t.play_vedio_ad(""+e.name,function(){cc.log("\u66f4\u65b0\u7ea2\u5305\u6570\u636e:"+JSON.stringify(e)),t.game_play.base_data.change_player_red_bag(t.game_play.base_data.player_red_bag+100*i),t.game_play.update_player_red_bag_num(),t.game_play.showToast(i+"\u5143\u5df2\u6210\u529f\u6536\u5165\u8d26\u6237"),e.callBack&&e.callBack(),t.remove_layer()})})},t.prototype.show_coin_reward_layer=function(e){var t=this;this.cur_show_node=this.node_benefits,this.node_benefits.active=!0,this.node_benefits.getChildByName("sprite_title").getChildByName("label_title").getComponent(cc.Label).string=e.name;var a=this.game_play.base_data.player_level,o=this.game_play.game_data_config.GameData[a].redBag;this.node_benefits.getChildByName("label_coin").getComponent(cc.Label).string=r.default.conversionCoin(o)+"\u91d1\u5e01",this.node_benefits.getChildByName("btn_ad_receive").addComponent(l.default).register_touch(function(){t.play_vedio_ad("\u9886\u53d6\u73a9\u5bb6\u7b49\u7ea7\u63d0\u5347\u91d1\u5e01\u5956\u52b1",function(){t.game_play.base_data.change_player_coin_num(t.game_play.base_data.player_coin_num+2*o),t.game_play.update_player_coin_num(),t.game_play.showToast("\u5df2\u6210\u529f\u9886\u53d6"+r.default.conversionCoin(2*o)+"\u91d1\u5e01"),t.remove_layer()})});var i=this.node_benefits.getChildByName("btn_receive");i.active=!1,cc.tween(i).delay(3).call(function(){i.active=!0}).start(),i.addComponent(l.default).register_touch(function(){t.game_play.base_data.change_player_coin_num(t.game_play.base_data.player_coin_num+o),t.game_play.update_player_coin_num(),t.game_play.showToast("\u5df2\u6210\u529f\u9886\u53d6"+r.default.conversionCoin(o)+"\u91d1\u5e01"),t.remove_layer()})},t.prototype.open_static_ad=function(){var e=this,t={width:340,height:250,bottom:0,top:0,type:1,success:function(t){console.log("\u9759\u6001\u56fe\u52a0\u8f7d\u6210\u529f",t),e.load_static_ad_finished_ani()},fail:function(e){console.log("\u9759\u6001\u56fe\u52a0\u8f7d\u5931\u8d25",e)}};c.Ad.show_bottom_static_ad(t)},t.prototype.play_vedio_ad=function(e,t){c.Ad.play_video_ad({ad_id:s.default.video_ad_id,success:function(){cc.log(e+"\uff0c\u64ad\u653e\u89c6\u9891\u6210\u529f!"),d.default.video_bi({name:e}),t&&t()},fail:function(){cc.log(e+"\uff0c\u64ad\u653e\u89c6\u9891\u5931\u8d25!")}})},t.prototype.load_static_ad_finished_ani=function(){this.cur_show_node&&cc.tween(this.cur_show_node).by(.2,{position:cc.v3(0,300,0)}).start()},t.prototype.remove_layer=function(){this.game_play.remove_popup(this.cur_show_type),this.node.destroy()},t.prototype.onDestroy=function(){c.Ad.close_image_ad_view()},n([u(cc.Node)],t.prototype,"node_red",void 0),n([u(cc.Node)],t.prototype,"node_no_coin",void 0),n([u(cc.Node)],t.prototype,"node_tips",void 0),n([u(cc.Node)],t.prototype,"node_benefits",void 0),n([u(cc.Node)],t.prototype,"node_cash",void 0),n([h],t)}(cc.Component);a.default=f,cc._RF.pop()},{"../../../Script/Common/TouchButton":void 0,"../../../Script/GameConfig":void 0,"../../../Script/GameDataConfig/GameDataBaseConfig":void 0,"../../../Script/GamePlay/GamePlay":void 0,"../../../Script/Sdk/Ad":void 0,"../../../Script/Sdk/BI":void 0}]},{},["FlowerCultureLayer","OfflineBenefitsLayer","PopupLayer"]);